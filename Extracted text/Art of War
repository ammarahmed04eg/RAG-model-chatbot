"process control instrumentation technology curtis d. johnson eighth edition process control instrumentation technology curtis d. johnson eighth edition pearson education limited edinburgh gate harlow essex cm20 2je england associated companies throughout world visit us world wide web www.pearsoned.co.uk pearson education limited 2014 rights reserved . part publication may reproduced stored retrieval system transmitted form means electronic mechanical photocopying recording otherwise without either prior written permission publisher licence permitting restricted copying united kingdom issued copyright licensing agency ltd saffron house 610 kirby street london ec1n 8ts . trademarks used herein property respective owners . use trademark text vest author publisher trademark ownership rights trademarks use trademarks imply af liation endorsement book owners . british library cataloguinginpublication data catalogue record book available british library printed united states america isbn 10 1292026014 isbn 13 9781292026015 table contents p e r n c u l b r r 1. introduction process control 1 curtis d. johnson 2. analog signal conditioning 55 curtis d. johnson 3. digital signal conditioning 123 curtis d. johnson 4. thermal sensors 189 curtis d. johnson 5. mechanical sensors 241 curtis d. johnson 6. optical sensors 309 curtis d. johnson 7. final control 359 curtis d. johnson 8. discretestate process control 417 curtis d. johnson 9. controller principles 475 curtis d. johnson 10. analog controllers 519 curtis d. johnson 11. computerbased control 553 curtis d. johnson 12. controlloop characteristics 605 curtis d. johnson appendix units 647 curtis d. johnson ii appendix pid symbols 651 curtis d. johnson appendix derivations 658 curtis d. johnson appendix internet resources 665 curtis d. johnson references 669 curtis d. johnson glossary 670 curtis d. johnson 675 index introduction process control instructional objectives chapter presents introduction processcontrol concepts elements processcontrol system . read chapter work example prob lems chapter problems able draw block diagram simple processcontrol loop identify element . list three typical controlled variables one controlling variable . describe three criteria evaluate performance processcontrol loop . explain difference analog digital control systems . define supervisory control . explain concept behind processcontrol networks . define accuracy hysteresis sensitivity . list si units length time mass electric current . recognize common pid symbols . draw typical firstorder time response curve . determine average standard deviation set data samples . 1 introduction human progress primitive state present complex technological world marked learning new improved methods control environment . simply stated term control means methods force parameters environment specific values . simple making temperature room stay complex man ufacturing integrated circuit guiding spacecraft jupiter . general elements necessary accomplish control objective described term control system . purpose book examine elements methods control system op eration used industry control industrial processes hence term process control . 21c chapte5r 51 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published process control 1 figure 1 objective regulate level liquid tank h value h. chapter present overall view processcontrol technology elements including important definitions . 2 control systems basic strategy control system operates logical natural . fact strategy employed living organisms maintain temperature fluid flow rate host biological functions . natural process control . technology artificial control first developed using human integral part control action . learned use machines electronics comput ers replace human function term automatic control came use . 2.1 processcontrol principles process control basic objective regulate value quantity . regulate means maintain quantity desired value regardless external influences . desired value called reference value setpoint . section specific system used introduce terms concepts em ployed describe process control . process figure 1 shows process used discussion . liquid flowing tank rate tank rate . liquid tank height level h. known output flow rate varies square root height higher level faster liquid flows . output flow rate exactly equal input flow rate level drop rise . qout 6 qin qout 7 qin qout k2h qout qin introduction process control 2 introduction process control figure 2 human regulate level using sight tube compare level h objective h adjust valve change level . process property called selfregulation . means input flow rate liquid height rise reaches height output flow rate matches input flow rate.aselfregulating system provide regulation variable particular reference value . example liquid level adopt value input output flow rates stay . input flow rate changed level would change also regulated reference value . tank figure 1 relationship flow level given h feet . suppose input flow rate 2 galmin . value h level stabilize selfregulation ? solution level stabilize selfregulation . thus solve h suppose want maintain level particular value h figure 1 gardless input flow rate . something selfregulation needed . humanaided control figure 2 shows modification tank system al low artificial regulation level human . regulate level maintains value h necessary employ sensor measure level . provided via sight tube shown figure 2. actual liquid level height called controlled variable . addition valve added output flow rate changed human . output flow rate called themanipulated variableor controlling variable . h qout k b 2 2 galmin 1.156 galminft12 b 2 3 ft qout qin k 1.156 galminft12 qout k2h example 1 tr 3 figure 3 automatic levelcontrol system replaces human controller uses sensor measure level . height regulated apart input flow rate using following strategy human measures height sight tube compares value setpoint . measured value larger human opens valve little let flow increase thus level lowers toward setpoint . measured value smaller setpoint human closes valve little decrease flow allow level rise toward setpoint . succession incremental opening closing valve human bring level setpoint value h maintain continuous monitoring sight tube adjustment valve . height regulated . automatic control provide automatic control system modified shown figure 3 machines electronics computers replace operations human . instrument called sensor added able measure value level con vert proportional signal s. signal provided input machine electronic circuit computer called controller . controller performs function human eval uating measurement providing output signal u change valve setting via actuator connected valve mechanical linkage . automatic control applied systems like one figure 3 designed regulate value variable setpoint called process control . 2.2 servomechanisms another commonly used type control system slightly different objective process control called servomechanism . case objective force parameter vary specific manner . may called tracking control system . introduction process control 4 figure 4 servomechanismtype control systems used move robot arm point point b controlled fashion . stead regulating variable value setpoint servomechanism forces controlled variable value follow variation reference value . example industrial robot arm like one shown figure 4 servomech anisms force robot arm follow path point point b. done con trolling speed motors driving arm angles arm parts . strategy servomechanisms similar processcontrol systems dynamic differences regulation tracking result differences design operation control system . book directed toward processcontrol technology . 2.3 discretestate control systems type control system concerned controlling sequence events rather regulation variation individual variables . example manufacture paint might involve regulation many variables mixing temperature flow rate liquids mixing tanks speed mixing . might expected reg ulated processcontrol loops . also sequence events must occur overall process manufacturing paint . sequence described terms events timed started stopped specified schedule . referring paint ex ample mixture needs heated regulated temperature certain length time perhaps pumped different tank stirred another period . starting stopping events discretebased system event ei ther true false i.e . started stopped open closed . type control system also made automatic perfectly suited computerbased controllers . introduction process control 5 discretestate control systems often implemented using specialized computer based equipment called programmable logic controllers plcs . 3 processcontrol block diagram provide practical working description process control useful describe elements operations involved generic terms . description dependent particular application example presented previous sec tion thus applicable control situations . model may constructed using blocks represent distinctive element . characteristics control operation may developed consideration properties interfacing elements . numerous models employed history processcontrol description use one seems appropriate description modern developing tech nology process control . 3.1 identification elements elements processcontrol system defined terms separate functional parts system . following paragraphs define basic elements processcontrol sys tem relate example presented section 2. process previous example flow liquid tank tank liquid constitute process placed control respect fluid level . general process consist complex assembly phenomena late manufacturing sequence . many variables may involved process may desirable control variables time . single variable processes one variable controlled well multivariable processes many variables perhaps interrelated may require regulation . process often also called plant . measurement clearly effect control variable process must information variable . information found measuring variable . general measurement refers conversion variable corresponding analog variable pneumatic pressure electrical voltage current digitally encoded signal . sensor device performs initial measurement en ergy conversion variable analogous digital electrical pneumatic information . transformation signal conditioning may required complete measure ment function . result measurement representation variable value form required elements processcontrol operation . system shown figure 3 controlled variable level liquid tank . measurement performed sensor provides signal con troller . case figure 2 sensor sight tube showing level human operator actual level tank . introduction process control 6 sensor also called transducer . however word sensor preferred initial measurement device transducer represents device converts sig nal one form another . thus example device converts voltage pro portional current would transducer . words sensors transducers transducers sensors . error detector figure 2 human looked difference actual level h setpoint level h deduced error . error magnitude polarity . automatic control system figure 3 kind error determination must made control action taken controller . although error detector often physical part controller device important keep clear distinction two . controller next step processcontrol sequence examine error determine action taken . part control system many names compensator filter controller common . evaluation may performed operator previous example electronic signal processing pneumatic signal processing computer . modern control systems operations controller typically performed microprocessorbased computers . controller quires input measured indication controlled variable representation reference value variable expressed terms measured value . reference value variable recall referred setpoint . evaluation con sists determining action required drive controlled variable setpoint value . control element final element processcontrol operation device exerts direct influence process provides required changes controlled variable bring setpoint . element accepts input controller transformed proportional operation performed process . previous example control element valve adjusts outflow fluid tank . element also referred final control element . often intermediate operation required controller output fi nal control element . operation referred actuator uses con troller signal actuate final control element . actuator translates small energy signal controller larger energy action process . 3.2 block diagram figure 5 shows general block diagram constructed elements defined previously . controlled variable process denoted c diagram measured rep resentation controlled variable labeled b. controlled variable setpoint labeled r reference . controller uses error input determine appropriate output signal p provided input control element . control element operates process changing value controlling process variable u. error detector subtractingsumming point outputs error signal controller comparison action . e r b introduction process control 7 figure 5 block diagram control loop defines basic elements signals involved . figure 6 shows physical control system represented block diagram . physical system control flow pipe shown figure 6. variation flow obstruction orifice plate produces pressuredifference variation across obstruction . variation converted standard signal range 3 15 psi . pi converter changes pressure 4 20ma electric current sent controller . controller outputs 4 20ma control signal signify cor rect valve setting provide correct flow . current converted 3 15psi pres sure signal ip converter applied pneumatic actuator . actuator adjusts valve setting . figure 6 shows control system operations condensed stan dard block diagram operations measurement error detection controller final con trol element . purpose block diagram approach allow processcontrol system analyzed interaction smaller simpler subsystems . characteristics element system determined characteristics assembled system established analytical marriage subsystems . historical develop ment system approach technology dictated practical aspect first specify characteristics desired total system delegate development subsystems provide overall criteria . becomes evident specification processcontrol system regulate variable c within specified limits specified time responses determines char acteristics measurement system must possess . set system specifications reflected design controller control element . concept conclude analysis processcontrol system quires understanding overall system behavior reflection behav ior properties system elements . people find understanding introduction process control 8 figure 6 physical diagram control loop corresponding block diagram look similar . note use current pressuretransmission signals . parts leads better understanding whole . proceed sumption guiding concept . loop notice figure 5 signal flow forms complete circuit process measurement error detector controller final control element . called loop general speak processcontrol loop . cases called feedback loop determine error feed back correction process . introduction process control 9 4 control system evaluation processcontrol system used regulate value process variable . system use natural ask well working ? easy question answer possible adjust control system provide different kinds sponse errors . section discusses methods evaluating well system working . variable used measure performance control system error et difference constant setpoint reference value r con trolled variable ct. 1 since value controlled variable may vary time may error . note servomechanism value r may forced vary time also . control system objective principle objective control system make error equation 1 exactly zero control system responds errors i.e . error occurs control system takes action drive zero . conversely error zero stayed zero control system would anything would needed first place . therefore objective never perfectly achieved always error . question evaluation becomes one large error varies time . practical statement control system objective best represented three requirements 1. system stable . 2. system provide best possible steadystate regulation . 3. system provide best possible transient regulation . 4.1 stability purpose control system regulate value variable . requires action taken process response measurement variable . done correctly control system cause process become unstable . fact tightly try control variable greater possibility instability . figure 7 shows prior turning control system controlled variable drifts random fashion regulated . control system turned variable forced adopt setpoint value well awhile . notice time later however variable begins exhibit growing oscillations valuethat instability . occurs even though control system still connected operational fact occurs system connected operational . first objective simply means control system must designed adjusted system stable . typically control system adjusted give bet ter control likelihood instability also increases . et r ct introduction process control 10 figure 7 control system actually cause system become unstable . 4.2 steadystate regulation objective best possible steadystate regulation simply means steady state error minimum . generally control system specified allowable deviation setpoint . means variations variable within band expected acceptable . external influences tend cause drifts value beyond allowable deviation corrected control system . example processcontrol technologist might asked design imple ment control system regulate temperature within . means set point temperature may allowed vary within range . 4.3 transient regulation happens value controlled variable sudden transient event oc curs would otherwise cause large variation ? example setpoint could change . suppose setpoint aforementioned temperature case suddenly changed . transient regulation specifies control system reacts bring tempera ture new setpoint . another type transient influence sudden change process vari able . controlled variable depends process variables . one suddenly changes value controlled variable may driven change also control system acts minimize effect . called transient response . 4.4 evaluation criteria question well control system working thus answered 1 ensuring stability 2 evaluating steadystate response 3 evaluating response setpoint changes transient effects . many criteria gauging response . general term tuning used indicate processcontrol loop adjusted provide best control . 160c 152c 148 150c 2c 150c c introduction process control 11 figure 8 one measures control system performance system responds changes setpoint transient disturbance . damped response one type criterion requires controlled variable ex hibit response shown figure 8 excitations setpoint changes transient effects . note error one polarity i.e . never oscillates set point . case measures quality duration excursion tran sient maximum error given input . duration usually defined time taken controlled variable go 10 change 90 change follow ing setpoint change . case transient duration often defined time start disturbance controlled variable within 4 reference . different tuning provide different values excitation . process designers decide whether best control larger duration smaller peak error vice versa something . cyclic response another type criterion applies cases sponse setpoint change transient shown figure 9. note controlled vari able oscillates setpoint . case parameters interest maximum error td emax emax td introduction process control 12 figure 9 cyclic underdamped response variable exhibit oscillations reference value . duration also called settling time . duration measured time allowable error first exceeded time falls within allowable error stays . nature response modified adjusting control loop parameters called tuning . may large maximum error short duration long dura tion small maximum error everything . number standard cyclic tuning criteria used . two common types mini mum area quarter amplitude . minimum area tuning adjusted net area errortime curve minimum degree excitation setpoint change transient . figure 10 shows area shaded part curve . analytically given 2 quarteramplitude criterion shown figure 10 specifies ampli tude peak cyclic response quarter preceding peak . thus . a2 a14 a3 a24 etdt minimum td emax introduction process control 13 figure 10 two criteria judging quality control system response minimum area quarter amplitude . 5 analog digital processing past functions controller control system performed sophisti cated electronic circuits . data represented magnitude voltages currents systems . referred analog processing . modern control systems employ digital computers perform controller operations . computers data repre sented binary numbers consisting specific number bits . referred digital processing . paragraphs follow contrast analog digital approaches control system operation . 5.1 data representation representation data refers magnitude physical variable repre sented control loop . example sensor outputs voltage whose magnitude varies temperature voltage represents temperature . analog digital systems represent data different fashions . analog data analog representation data means smooth continuous variation representation variable value value . figure 11 shows analog relationship variable c representation b. notice every value c within range covered unique value b. c changes small amount b change proportional amount . relationship figure 11a called nonlinear sult shown . described detail later chapter . b c b c introduction process control 14 figure 11 graph shows output variable b changes analog variable c. graph b shows digital output variable n would change variable c. digital data digital data means numbers represented terms binary digits also called bits take values one 1 zero 0. data repre sented digitally range analog numbers encoded fixed number binary dig . consequence loss information fixed number binary digits limited resolution . example table 1 shows voltage 0 15 volts could encoded four binary digits . change one volt produces change least signifi cant bit lsb . see voltage changed less one volt digital rep resentation would change . representation distinguish 4.25 v 4.75 v would represented . table 1 also shows hexadecimal hex representation binary numbers dig ital representation . often use hex representation presenting digital data compact humanfriendly way writing numbers . consequence digital representation data smooth continuous lation representation variable data value lost . instead digital repre sentation take discrete values . seen figure 11 variable c represented digital quantity n. notice variations c may result change n. variable must change minimum amount depend ing curve change occurs change representation assured . data conversions special devices employed convert analog voltages digital representation . called analogtodigital converters adcs . control system sensor often produces analog output voltage . adc used c 01002 introduction process control 15 figure 12 adc converts analog data voltage digital representation case 4 bits . convert voltage digital representation input computer . figure 12 shows adc might used convert voltage 4bit digital signal illustrated table 1. digitaltoanalog converters dacs convert digital signal analog voltage . devices used convert control output computer form suitable final control element . 5.2 onoff control one elementary types digital processing use many years long advent computers fact . called onoff control final control element two states . thus controller output need two states well . said controller output digital representation single binary digit 0 1. figure 13 shows diagram elementary onoff control system whose ob jective maintain temperature system reference value . sensor tref table 1 decimalbinaryhex encoding voltage binary hex 0 0000 0h 1 0001 1h 2 0010 2h 3 0011 3h 4 0100 4h 5 0101 5h 6 0110 6h 7 0111 7h 8 1000 8h 9 1001 9h 10 1010 ah 11 1011 bh 12 1100 ch 13 1101 dh 14 1110 eh 15 1111 fh introduction process control 16 figure 13 onoff control system either heat cool neither . variation de gree heating cooling possible . converts temperature values resistance analog fashion r varies smoothly continuously t. signal conditioning converts variable r analog voltage v. thus v analog well . differential amplifier multiplies difference v reference voltage gain k produce error voltage . simply defined voltage converter would produced . point system becomes digital relays either open closed heater cooler either . diodes direct cur rent appropriate relay produce heating cooling based polarity . sys tem also exhibits deadband hysteresis since difference relay pullin voltage release voltage . deadband range temperature case wherein action occur . hysteresis means behavior sys tem different value temperature depending whether tempera ture increasing decreasing . home auto heaters air conditioners home water heaters host basic control systems work according onoff mode . tref vref kvref v vref introduction process control 17 figure 14 analog control system allows continuous variation parameter heat input function error . 5.3 analog control true analog control exists variables system analog representations variable . figure 14 shows process heater used control temperature oven . case however heater output q analog excitation volt age thus heat varied continuously . notice every signal analog analog error e analog difference reference temperature voltage . reference voltage simply voltage would result measurement specified reference temperature . 5.4 digital control true digital control involves use computer modern applications although past digital logic circuits also used . two approaches using computers control . supervisory control computers first considered applications control systems good reliability suffered frequent failures breakdown . necessity continuous operation control systems precluded use computers perform actual control operations . supervisory control emerged termediate step wherein computer used monitor operation analog control loops determine appropriate setpoints . single computer could monitor many con trol loops use appropriate software optimize setpoints best overall plant operation . computer failed analog loops kept process running using last setpoints computer came back online . figure 15 shows supervisory computer would connected analog heater control system figure 14. notice adc dac provide interface tween analog signals computer . tref vt vref vt vq introduction process control 18 figure 15 supervisory control computer monitors measurements updates setpoints loops still analog nature . direct digital control ddc computers become reliable miniaturized taken controller function . thus analog processing loop discarded . figure 16 shows full computer control system operations controller replaced software computer . adc dac provide interface process measurement control action . computer inputs digital representation temperature analogtodigital conversion voltage . error detection controller action determined software . computer pro vides output directly heater via digital representation converted excitation voltage dac . smart sensor along dramatic advances computer technology come equally dramatic advance applications computers control systems . one remarkable developments integration microprocessorbased controller computer directly sensor assembly . using modern integrated circuit tech nology sensor signal conditioning adc computer controller contained within sensor housing . one form unit also contains dac 4 20ma output fed final control element . setpoint programmed connecting computer unit using serial interface line . current technology however interface smart sensors local area network field bus described next allows sensor connected computers final control element common digital serial line . vq nq vt nt introduction process control 19 management engineering financial lan processcontrol computers plant figure 17 local area networks lans play important role modern processcontrol plants . networked control systems plant uses ddc becomes possible place computerbased controller directly site plant control needed . done using smart sensors placing computer controller metically sealed instrument cases around plant . order coordinated control whole plant ddc units placed local area network lan . lan commonly provides communication serial stream digital data variety car riers wires fiber optics . lan also connects computers exercising mas ter control plant operations fiscal computers accounting production control engineering computers monitoring modifying plant operations needed . con trol systems lans referred field bus . figure 17 shows lan field bus connects computers plant together . processcontrol computers operates one ddc loops like one shown figure 16. bus users monitor operations plant processcontrol loops authorization modify control characteristics setpoints gains . figure 16 direct digital control system lets computer perform error detection controller functions . introduction process control 20 figure 18 programmable logic controller plc outgrowth onofftype control environ ments . case heater cooler either . special processcontrol bus standards developed data informa tion represented transmitted networks . two commonly implemented standards foundation fieldbus profibus process field bus . idea behind standards universal agreement among process equipment manufacturers data represented bus line data transmitted received . extension plug play concept used computer hardware . standardiza tion successful interconnection interfacing equipment variety manufactur ers control loop assured . fieldbus primarily united states profibus primarily europe vying become universal standard . 5.5 programmable logic controllers many manufacturing operations onoff nature conveyor heater ei ther valve either open closed . past types discrete control functions often provided system electrical relays wired according complex diagram called relay logic controller . recent years computers also taken operation relay logic con trollers known programmable logic controllers plcs . even though originally de signed control discretestate onoff systems also used implement ddc . figure 18 shows problem figure 13 would implemented using plc . note thermallimit switches used instead sensor indicate introduction process control 21 temperature risen fallen limit temperatures . simply switches designed open close temperature reaches certain preset limits . 6 units standards definitions technological discipline field process control many sets units standards definitions describe characteristics . result torical use convenience confusing . discipline grew efforts standardize terms professional workers process control could effectively communicate among specialists disciplines . section summarize present state affairs relative common units standards definitions . 6.1 units ensure precise technical communication among individuals employed technological disciplines essential use welldefined set units measurement . metric sys tem units provides communication adopted technical disci plines . process control particular set metric units used developed international conference called international system si systme international dunits . united states english system units still common use although use si units gradually occurring often . important processcontrol spe cialist know english units able perform conversions si system . international system units international system units maintained international agreement worldwide standardization . system based seven welldefined base units two supplementary dimensionless units . everything else falls category defined units defined terms seven base two sup plementary units . quantity unit symbol base length meter mass kilogram kg time second electric current ampere temperature kelvin k amount substance mole mol luminous intensity candela cd supplementary plane angle radian rad solid angle steradian sr introduction process control 22 example 2 example 3 example 4 si units derived nine units although many cases special name assigned derived quantity . thus force measured newton n energy measured joule j wattsecond given shown appendix units . units although si system used text units remain com mon use technical areas . reader therefore able identify trans late si system systems . centimetergramsecond system cgs english system also given appendix units . following examples illustrate typical translations units . express pressure pascals . . solution appendix units find newton thus find number feet 5.7 m. solution reference table conversions appendix units shows . therefore express 6.00 ft meters . solution using 39.37 in.m 12 in.ft find mass kilograms 2lb object . solution conversion factor mass kilograms pounds found appendix units 0.454 kglb . therefore 0.908 kg 2 lb 0.454 kglb 6.00 ft 12 in.ft 1 39.37 . b 1.83 5.7 39.37 . b 1 ft 12 . b 18.7 ft 1 39.37 p 210 nm2 210 pascals pa p 2.1 103 dynecm2 a102 cm b 2 1 n 105 dyne b 105 dyne 1 102 cm 1 1 pa 1 nm2 p 2.1 103 dynecm2 1 j 1 kgm2s2 ws 1 n 1 kgms2 example 5 introduction process control 23 figure 19 electric current pneumatic pressures common means information transmission industrial environment . metric prefixes wide variation variable magnitudes occurs dustry need abbreviate large small numbers . scientific notation allows expression numbers powers 10. set standard metric prefixes adopted si express powers 10 employed simplify expression large small numbers . express 0.0000215 3781000000 w using decimal prefixes . solution first express quantities scientific notation find appropriate decimal prefix appendix units . 6.2 analog data representation measurement systems control systems part specification range variables involved . thus system measure temperature range tem perature specified example . similarly controller output sig nal continuous valve signal designed cover range fully closed fully open various valve settings . two analog standards common use means representing range vari ables control systems . electrical systems use range electric current carried wires pneumatic systems use range gas pressure carried pipes . signals used primarily transmit variable information distance control room plant . figure 19 shows diagram processcontrol 120c 20 3 781 000 000 w 3.781 109 w 3.781 gw 0.0000215 21.5 106s 21.5 example 6 introduction process control 24 installation current used transmit measurement data controlled vari able control room gas pressure pipes used transmit feedback signal valve change flow controlling variable . current signal common current transmission signal 4 20 . thus following temperature example might represented 4 maand 20 temperatures represented proportional current . suppose temperature range linearly converted standard current range 4 20 . current result ? temperature 6.5 represent ? solution easiest way solve kind problem develop linear equation tem perature current . write equation know given data . thus two equations two unknowns subtracting first second gives . find thus equation relating current temperature answering questions easy . 6.5 solve . current used instead voltage system less dependent load.the sensortocurrent converter figure 19 also called transmitter designed launch current line regardless load degree . figure 20 resistor r added lines connecting plant control room . control room incoming current converted voltage using resistor . note short around resistor r cut rl 35.6c 6.5 0.16 mact 0.8 0.16 mac66c 0.8 11.36 66c 0.16 mact 0.8 i0 0.8 i0 4 20c 0.16 mac i0 0.16 mac 16 100cm 20 120cm i0 4 20cm i0 120c 20 20c 4 mt i0 66c 120c 20 120c 20c example 7 introduction process control 25 figure 20 one advantages current transmission signal nearly independent line resistance . r circuit change current occur . transmitter designed adjust conditions case output voltage current held constant . practically speaking current transmitters work load 0 . voltage used transmission susceptibility changes resis tance line . pneumatic signals united states common standard pneu matic signal transmission 3 15 psi . case sensor measures variable range converted proportional pressure gas pipe . gas usually dry air . pipe may many hundreds meters long long leak system pressure propagated pipe . english system standard still widely used united states despite move si system units . equiv alent si range eventually adopted 20 100 kpa . 6.3 definitions section presents definitions common terms expressions used de scribe processcontrol elements . error important quantity control systems error . used de scribe results measurement error difference actual value variable measured indication value . case accuracy mea surement system places bounds possible error . used controlled variable control system error difference tween measured value variable desired valuethat reference setpoint value . block definitions noted section 3.2 control systems often described terms blocks . one block represents measurement another controller . order work effectively control systems one must understand terms ex pressions used describe characteristics block . figure 21 shows block input variable xt output another variable yt . model used following paragraphs define characteristics block . transfer function transfer function tx figure 21 describes lationship input output block . transfer function often described two parts static part dynamic part . static transfer function describes 1000 introduction process control 26 figure 21 transfer function shows system block output variable varies response input variable function static input value time . inputoutput relationship input changing time . dynamic transfer func tion describes inputoutput relationship time variation input . static transfer functions may presented form equations tables graphs . example flow meter may relate flow q gallons per minute differential pres sure psi via equation however rtd temperature sensor usually represented table resistance versus temperature . graphs often used visually display input output vary . fre quently transfer valid certain range variable values . dynamic transfer function often represented differential equation time . common examples simple dynamic transfer functions presented section 7. accuracy term used specify maximum overall error expected device measurement variable . accuracy usually expressed inac curacy appear several forms 1. measured variable accuracy temperature measurement . thus would uncertainty value temperature measured . 2. percentage instrument fullscale fs reading . thus accuracy fs 5v fullscale range meter would mean inaccuracy uncer tainty measurement v. 3. percentage instrument spanthat percentage range instrument measurement capability . thus device measuring span 20 50 psi range pressure accuracy would psi . 4. percentage actual reading . thus reading voltmeter would inaccuracy v reading 2 v. temperature sensor span . measurement results value temperature . specify error accuracy fs b span c reading . possible temperature case ? solution using given definitions find a. . thus actual temperature range . b. . thus actual temperature range . c. . thus temperature range . 55.44c 54.56 error 0.008 55c 0.44c 56.725c 53.275 error 0.0075 250 20c 1.725c 56.25c 53.75 error 0.005 250c 1.25c 0.8 0.75 0.5 55c 20250c 0.04 2 0.03 50 20 0.9 3 0.025 0.5 2c 2c q 119.52p p example 8 introduction process control 27 temperature sensor transfer function accuracy . find possible range transfer function . solution transfer function range . thus range 4.95 . suppose reading 27.5 mv results sensor used example 9. find tem perature could provide reading . solution range transfer function 4.95 possible temperature val ues could inferred reading 27.5 mv thus certain temperature . application digital processing necessitated accuracy definition com patible digital signals . regard concerned error involved digital representation analog information . thus accuracy quoted percentage deviation analog variable per bit digital signal . example ad converter may specified 0.635 volts per bit . means bit set input voltage change v 0.629 0.641 v. system accuracy often one must consider overall accuracy many ele ments processcontrol loop represent process variable . generally best way express accuracy element terms transfer functions . ex ample suppose process two transfer functions act dynamic vari able produce output voltage shown figure 22. describe output 3 equation 3 find output uncertainty 4 v gc k kc g k gc c dynamic variable k g uncertainties transfer functions k g nominal transfer functions v uncertainty output voltage v output voltage v v k kg gc 0.635 0.006 1 5.56c 5.45c 27.5 mv 1 5.05 mvc b 5.45c 27.5 mv 1 4.95 mvc b 5.56c 5.05 mvc 5.05 mvc 0.01 5 mvc 0.05 mvc 1 5 mvc example 9 example 10 introduction process control 28 figure 22 uncertainties block transfer functions build blocks involved transformation . equation 4 written terms fractional uncertainties factoring v. case get course fractional uncertainties small 1 last term prod uct two small numbers thus really small . therefore usually ignore last term write uncertainty 5 thus equation 5 shows worstcase uncertainty would sum individ ual uncertainties . statistical analysis teaches us realistic use rootmeansquare rms representation system uncertainty . give overall uncertainty somewhat less worstcase likely reflect actual value . found relation find system accuracy flow process transducer transfer function signalconditioning systemtransfer function . solution direct application v v 0.02 2 v v 0.015 0.005 v v c k k g g 2 mamv 0.5 10 mvm3s 1.5 c v v rms b k k b 2 g g b 2 v v k k g g v v k k g g v v b k k b example 11 introduction process control 29 figure 23 hysteresis predictable error resulting differences transfer function input variable increases decreases . net transfer function . use statistically ap propriate rms approach system accuracy would accuracy . sensitivity sensitivity measure change output instrument change input . generally speaking high sensitivity desirable instrument large change output small change input implies measurement may taken easily . sensitivity must evaluated together parameters linearity output input range accuracy . value sensitivity generally indicated transfer function . thus temperature transducer outputs 5 mv per degree cel sius sensitivity . hysteresis reproducibility frequently instrument output value given input repeated trials . variation due inher ent uncertainties imply limit reproducibility device . variation ran dom measurement measurement predictable . similar effect related history particular measurement taken strument . case different reading results specific input depending whether input value approached higher lower values . effect called hysteresis shown figure 23 output instrument plotted input . see input parameter varied low high curve gives values put . input parameter decreasing curve b relates input output . hysteresis usu ally specified percentage fullscale maximum deviation two curves . effect predictable measurement values always approached one direction hysteresis cause measurement errors . resolution inherent many measurement devices minimum measurable value input variable . specification called resolution device . 5 mvc 1.6 0.0158 c v v rms 20.0152 0.0052 20 mam3s 2 introduction process control 30 characteristic instrument changed redesign . agood example wire wound potentiometer slider moves across windings vary resistance . one turn winding represents change ohms potentiometer pro vide resistance change less . say potentiometer resolution . often expressed percentage fullscale range . force sensor measures range 0 150 n resolution 0.1 fs . find small est change force measured . solution resolution 0.1 fs resolution smallest measurable change force . cases resolution measurement system limited sensitivity associated signal conditioning . occurs resolution improved em ploying better conditioning . sensor transfer function . find required voltage resolution signal conditioning temperature resolution required . solution temperature change result voltage change thus voltage system must able resolve 1.0 mv . analog systems resolution system usually determined smallest measurable change analog output signal measurement system . digital systems resolution welldefined quantity simply change dynamic variable rep resented 1bit change binary word output . cases resolution im proved different coding analog information adding bits word . linearity sensor signal conditioning output represented func tional relationship input . stipulation relationship unique value input variable exists one unique value output variable . simplicity design linear relationship input output highly desirable . linear relationship exists straightline equation used relate measured vari able measurement output 6 cm mc c0 a5mv c b 0.2c 1.0 mv 0.2c 0.2c 5 mvc 0.001 150 n 0.15 n r r r example 13 example 12 introduction process control 31 simple relationship equation 6 usually found nonlinear cases although cases approximations linear quadratic nature fitted portions curves . sensor resistance changes linearly 100 temperature changes . find linear equation relating resistance temperature . solution using equation 6 guide desired equation would form find two constants form two equations two unknowns facts given subtracting first equation second gives first equation find equation relating resistance temperature one specifications sensor output degree linear measured variable span occurs . measure sensor linearity determine deviation sensor output bestfit straight line particular range . common specification linearity maximum deviation straight line expressed percent fs . consider sensor outputs voltage function pressure 0 100 psi linearity 5 fs . means point curve voltage versus pressure deviation actual pressure linearly indicated pressure given voltage deviates 5 100 psi 5 psi . r 0.8t 84 r0 84 100 20c0.8 c r0 80 100cm 0.8 c 180 120c r0 100 20c r0 r0 r mt r0 120c 20 180 cm output measurement c0 offset intercept straight line slope straight line c variable measured example 14 introduction process control 32 figure 24 comparison actual curve bestfit straight line maximum deviation 5 fs . figure 24 indicates graphically . straight line fitted slightly nonlinear sensor curve . one either specify given voltage deviation actual linearly predicted pressure given pressure devi ation actual linearly predicted voltage . 6.4 processcontrol drawings electrical schematic drawing employs standard set symbols defini tions anyone knows standards understand operation circuit . way process control employs standard set symbols definitions represent plant associated control systems . standard developed approved collaboration american national standards institute ansi instrumentation systems automation isa society . standard desig nated ansiisa s5.11984 r1992 instrumentation symbols identification . standard used early design phases plant control system construct simplified processcontrol diagrams render final detailed plant design piping instrumentation diagram pid . introduction process control 33 steam steam reaction vessel 315 psi tv 301 py 301 ip 420 tc 301 tt 301 ft 302 fc 302 fv 302 reactant fo 302 reactant fr 302 figure 25 pid uses special symbols lines show devices interconnections processcontrol system . essential elements pid depicts entire plant associated control systems . includes plant operating units product flow lines measurement control signal lines sensors controllers final control elements computers programmable logic controllers plcs . also included letter number designations identify function element notes explain features pid . lets use pids shown figures 25 26 summarize features . figure 25 shows section plant reaction vessel reactant heavy line flows . vessel heated steam input . temperature within vessel controlled controlling steam input flow control system regulates reactant flow vessel . figure 26 shows system level tank controlled using cascade control system . cascade control system setpoint one loop controller put another loop . system figure 26 uses computers provide controller op erations . primary product flow shown heavy line . instrument lines symbols figure 25 shows standard 4 20ma current signal represented dashed line pid pneumatic signal introduction process control 34 fo 220 fv 220 lt 220 fc 220 sp lc 220 storage tank yic 225 420 figure 26 computers programmable logic controllers included pid . e.g . 3 15 psi presented line crosshatches . figure 26 shows electrical current lines also digital data feed computer solid line small bubbles . instrument symbols instrumentation associated control systems varies sensors transmitters controllers computers plcs . drawn bubbles without rectangles . general instrument symbol identified letter code denotes function number code assigned designers may identify loop region plant . figure 25 shows temperature control loop temperature sensor transmitter designated tt301 connected temperature controller tc301 . solid line controller bubble means accessible operator control room panel . setpoint indicated means manually set . controller connected ip converter designated py301 . flow control loop introduction process control 35 figure 27 dynamic transfer function specifies sensor output varies put changes instantaneously time i.e . step change . pneumatic flow transmitter ft302 flow controller fc302 flow recorder fr302 located control room . note sensor actually mea sures pressure flow proportional square root pressure . therefore squareroot extractor indicated following flow transmitter . flow recorder charts variations flow rate operator . figure 26 shows flow loop computer control . flow control computer fc 220 located field i.e . site control . allelectrical loop inputs 4 20ma signal flow measurement outputs 4 20ma signal control valve fv220.alevel transmitter lt220 provides input computer lc220 lo cated control room . output computer setpoint flow loop . finally plc shown diamond within box yic225 open close tank drain valve . symbols figures 25 26 also show symbols several el ements associated control systems plants . example control valves ten identified terms control . figure 25 steam valve labeled tv301 indicate temperature control even though actually controlling steam flow . figures show orifice plate used measure flow pipe . valve actuator shown figure 26 plc indicates springloaded electrically actuated . 7 sensor time response static transfer function processcontrol loop element specifies output lated input input constant.an element also time dependence specifies output changes time input changing time . independent static transfer function . dynamic transfer function independent static transfer function often simply called time response . particularly important sen sors primary element providing knowledge controlled variable value . section discuss two common types sensor time responses . figure 27 shows sensor produces output bt function input ct. static transfer function determines output input changing time . specify time response nature time variation output bt given introduction process control 36 figure 28 characteristic firstorder exponential time response sensor step change input . input exhibits step change shown . note input sensor suddenly changed initial value final value . sensor perfect output would determined static transfer function . however sensors exhibit lag output input characteristic variation time settling final value . 7.1 firstorder response simplest time response shown figure 28 output change time fol lowing step input figure 27. called first order sensors type time response determined solution firstorder differential equation . ageneral equation written response independent sensor vari able measured static transfer function . equation gives sensor output function time following step input i.e . traces curve figure 28 time 7 sensor output error transition time output . actual variable value changed instantaneously new value . equation 7 describes transducer output well except initial time periodthat start response near . particular actual transducer response generally starts change zero slope equation 7 predicts finite starting slope . time constant time constant part specification sensor . significance seen writing equation 7 follows 8 equation quantity left change output function time whereas total change occur . thus squarebracketed term equation 8 fraction total change function time . bf bi bt bi bf bi1 et 0 0 bf bi sensor time constant bf final sensor output static transfer function final input bi initial sensor output static transfer function initial input bt bi bf bi1 e 0 bf 0 bi cf ci 0 introduction process control 37 suppose wish find change occurred time numerically equal . set equation 8 find 9 thus see one time constant represents time output value changed approximately 63 total change . time constant sometimes referred 63 time response time efolding time . step change output response approximately reached fi nal value five time constants since equation 8 find asensor measures temperature linearly static transfer function 1.5s time constant . find output 0.75 input changes . find error temperature represents . solution first find initial final values sensor output corresponds temperature thus indicated temperature differs actual temperature 12.7c lag sensor output . time five times constants 7.5 sensor put would 1.353 v correctly indicating actual temperature 41c . many cases transducer output may inversely related input . equation 7 still describes time response element final output less initial output . note time response analysis always applied output sensor never input . example 15 temperature changed suddenly 20 41c would wrong write equations temperature terms firstorder time 28.3c 932.7 33 mvc b0.75 932.7 mv b0.75 660 1353 6601 e0.751.5 bt bi bf bi1 e bf 1353 mv bf 33 mvc41c bi 660 mv bi 33 mvc20c 41c 20 33 mvc b5 bi 0.993bf bi b bi 0.6321bf bi b bi bf bi1 e1 example 15 introduction process control 38 figure 29 characteristic secondorder oscillatory time response sensor . sponse . output sensor lagged . particularly sensor output varies nonlinearly input terrible errors occur time response equation applied input . realtime effects concept exponential time response associated time constant based sudden discontinuous change input value . real world instantaneous changes occur rarely ever thus presented worst case situation time response . general sensor able track changes physical dynamic variable time less one time constant . 7.2 secondorder response sensors step change input causes output oscillate short period time settling value corresponds new input . oscillation decay oscillation function sensor . output transient gen erated transducer error must accounted measurement involv ing transducer behavior . called secondorder response type sensor time havior described secondorder differential equation . possible develop universal solution firstorder time response . instead simply describe general nature response . figure 29 shows typical output curve might expected transducer secondorder response discontinuous change input . impossible describe behavior simple analytic expression firstorder response . however general behavior described time 10 equation shows basic damped oscillation output device . damping constant natural frequency characteristics transducer must considered many applications . fn r0 amplitude fn natural frequency oscillation output damping constant rt transducer output rt r r0eatsin2 fnt introduction process control 39 general transducer said track input input changes time greater period represented natural frequency . damping constant defines time one must wait disturbance transducer put true indication transducer input . thus see time 1a amplitude oscillations would approximately 37. said effects natural frequency damping treatment specific trans ducers exhibit behavior . 8 significance statistics process control vitally concerned value variables stated objective regulate value selected variables . therefore important true signifi cance measured value understood . already seen inherent errors accuracy may lend uncertainty value indicated measurement . section need consider another feature measurement may misleading actual value variable well method help interpret significance measurements . 8.1 significant figures measurement must careful attach significance variable value instrument support . particularly true growing use digital reading instruments calculators 8 12digit readouts . suppose example digital instrument measures resistance . even ignore instrument ac curacy mean resistance . rather means sistance closer 125000 124000 . use number subsequent calculations draw conclusions results three numbersthat three significant figures . significant figures digits places actually read known measurement calculation . significance measurement using measuring instrument num ber significant figures indicated either readability case analog instruments number digits digital instrument . confused accuracy supplies uncertainty reading . following example illustrates significant figures measurement accuracy treated problem . digital multimeter measures current 12.5 resistor 2.21 using 10ma scale . instrument accuracy fs . find voltage across resistor uncertainty value obtained . solution first note current given three significant figures result find significant three digits . see given accuracy becomes un certainty current . ohms law find voltage v ir 2.21 12.5 k 27.625 v 0.02 0.2 k 125 k 126 000 125 000 125 k e1 0 example 16 introduction process control 40 terms significant figures give v. accuracy means current could vary 2.19 2.23 introduces uncertainty v. thus complete answer v must express uncertainty significance changed . significance calculations calculations one must careful obtain result significance numbers employed calculation . swer significance least numbers used calculation . transducer specified transfer function temperature measure ment . measured voltage 412 mv . temperature ? solution using values given find found using 8digit calculator two given values significant three places . thus result significant three places answer . significance design reader aware difference signif icant figures associated measurement conclusions drawn measurement significant figures associated design . design hypothetical development makes implicit assumptions selected values design . designer specifies 1.1 resistor assumption exactly . designer specifies 4.7 v across resistor exactly 4.7 v current cal culated 4.2727272 . suppose measure resistor design built find two significant figures measure voltage find 4.7 v two significant figures . case report calculated current 4.3 cause dealing two significant figures . examples problems book try maintain distinction design values measurement values . whenever problem example involves design perfect values assumed . thus design specifies 4.7 resistor assumed value exactly i.e . . whenever measurement suggested fig ures given assumed significant figures . problem specifies mea sured voltage 5.0 assumed known two significant figures . 8.2 statistics often confidence value variable improved elementary statistical analysis measurements . particularly true random errors measurement cause distribution readings value variable . 4700.00 4.7 k k 1.1 k 1100 k 18.4c 412 mv22.4 mvc 18.392857c 22.4 mvc 27.6 0.3 0.25 v 27.6 example 17 introduction process control 41 arithmetic mean many measurements particular variable taken arithmetic mean calculated obtain average value variable . many stances process control average value interest . example one may wish control average temperature process . temperature might measured 10 locations averaged give controlled variable value use control loop . another common application calibration transducers process instru ments . cases average gives information transfer function . digital computer process control often easier use average value process variables . arithmetic mean set n values given defined equation 11 often use symbol represent sum numbers used equation 11. would write equation 12 standard deviation often insufficient know value arithmetic mean set measurements . interpret measurements properly may nec essary know something individual values spread mean . thus although mean set 50 40 30 70 47.5 mean set 5 150 21 14 also 47.5 second group numbers obviously far spread . standard deviation measure spread . given set n values first define set deviations difference individual values arithmetic mean values . deviations set n deviations used define standard deviation according equation 13 using summation symbol 14 b di 2 n 1 b d1 2 d2 2 d3 2 dn 2 n 1 dn xn x d2 x2 x d1 x1 x x x1 x2 p xn xi symbol sum values x1 x2 p xn x xi n x1 x2 p xn individual values n number values averaged x arithmetic mean x x1 x2 x3 p xn n x1 x2 x3 p xn introduction process control 42 course larger standard deviation spread numbers calculated . temperature measured eight locations room values obtained . find arithmetic mean temperature standard deviation . solution using equation 11 standard deviation found equation 1.13 interpretation standard deviation figure 30 shows two curves con structed many samples two sensors measuring variable fixed value v. due sensor uncertainty sampled values provided sensors exhibit variation average however sensors providing correct value average . notice distribution readings sensor much narrowly distributed around average sensor b. means single reading sensor likely give actual value measured variable . standard deviation read ings sensor would much smaller standard deviation sensor b. quantitative evaluation spreading made make certain sumptions set data values used . particular assume errors truly 3.04c b 21.2 21.62 25 21.62 20 21.62 8 1 21.6c 21.2 25 18.5 22.1 19.7 27.1 19 20 8 20.0c 21.2 25.0 18.5 22.1 19.7 27.1 19.0 example 18 number readings reading value v sensor sensor b figure 30 multiple readings taken vari able actual value v. distribu tions show sensor smaller standard deviation sensor b. introduction process control 43 random taken large sample readings . claim stan dard deviation data related special curve called normal probability curve bell curve . true 1 . 68 readings lie within mean . 2 . 95.5 readings lie within mean . 3 . 99.7 readings lie within mean . gives us added ability make quantitative statements data spread mean . thus one set pressure readings mean 44 psi standard de viation 14 psi another mean 44 psi standard deviation 3 psi know latter much peaked mean . fact 68 readings second case lie 41 47 psi whereas first case 68 readings lie 30 58 psi . control system installed regulate weight potato chips dumped bags packaging operation . given samples 15 bags drawn operation control system installed evaluate success system . comparing arithmetic mean standard deviations . bags 200 g. samples 201 205 197 185 202 207 215 220 179 201 197 221 202 200 195 samples 197 202 193 210 207 195 199 202 193 195 201 201 200 189 197 solution case use equations 12 14 find mean standard devi ation get mean standard deviations found case thus see control system brought average bag weight closer ideal 200 g cut spread factor 2. case 99 bags weighed g control system 99 bags weighed range g. summary chapter presents overview process control elements . subsequent chapters examine topics detail provide quantitative understanding . 19915 20233 5 g wa 199 g b 11 g wb 202 g 3 2 1 example 19 introduction process control 44 following list help reader master key points chapter . 1. process control described suitable application situation variable regulated desired value range values . figure 5 shows block diagram elements measurement error detector con troller control element connected provide required regulation . 2. numerous criteria discussed allow evaluation processcontrol loop performance settling time peak error minimum area indicative loop characteristics . 3. analog digital processing used processcontrol applications . current trend make analog measurements controlled variable digitize use digital controller evaluation . basic technique digital en coding allows bit binary word correspond certain quantity measured variable . arrangement 0 1 states word serves encoding . 4. si system units forms basis computations book well processcontrol industry general . however still necessary understand con versions systems notably english system see appendix units . 5. standard adopted analog processcontrol signals 4 20ma current range represent span measurements dynamic variable . 6. definitions accuracy resolution terms used process control nec essary similar related fields . 7. concept transducer time response introduced . time constant becomes part dynamic properties transducer . 8. use significant figures important properly interpret measurements con clusions drawn measurements . 9. statistics help interpret validity measurements use arith metic mean standard deviation . 10. pid drawings symbols typical representation used display process control systems . problems section 2 1 explain basic strategy control employed room airconditioning system . controlled variable ? manipulated variable ? system selfregulating ? 2 driving automobile best described servomechanism processcontrol system ? ? section 3 3 construct block diagram refrigerator control system . define block terms refrigerator components . know components look encyclopedia internet . introduction process control 45 figure 32 figure problem 5. figure 31 figure problem 4. section 4 4 processcontrol loop setpoint allowable deviation . atransient causes response shown figure 31. specify maximum error settling time . 5 two different tunings processcontrol loop result transient responses shown figure 32. estimate would preferred satisfy minimum area criteria . 6 second cyclic transient error peak response test measures 4.4. quarteramplitude criteria error third peak value ? 7 response figure 31 satisfy quarteramplitude criterion ? section 5 8 analog sensor converts flow linearly flow 0 becomes current 0 50 . calculate current flow . 9 binary word would represent decimal number 16 table 1 continued ? 10 suppose bit change 4bit adc represents level 0.15 m. a. would 4 bits level 1.7 ? b. suppose 4 bits . range possible levels ? 10002 225 m3h 300 m3h 5c 175c introduction process control 46 11 processcontrol system figure 13 suppose relays close 1.5 v open 1.1 v. means voltage relay reaches v closes open voltage drops 1.1 v i.e . deadband . amplifier gain 10 reference 3 v sensor outputs . calculate temperatures heater turns cooler turns . 12 show control system figure 6 would modified use supervi sory computer control b ddc computer control . 13 think adjust water temperature coming single nozzle using hot cold hand valves kitchen faucet . construct block diagram au tomatic system follows desired water temperature selected user perhaps knob lcd readout . one hand valve turns cold water . hot water valve automatically set keep temperature selected value . describe elements would necessary using analog control b computer control . section 6 14 mass kilograms ? height meters ? 15 atmospheric pressure psi . pressure pascals ? 16 accelerometer used measure constant acceleration race car cov ers quarter mile 7.2 s. a. using relate distance x acceleration time find acceleration . b. express acceleration . c. find car speed v ms end quarter mile using relation . d. find car energy joules end quarter mile weighs 2000 lb energy . 17 suppose liquid level ranging 5.5 8.6 linearly converted pneumatic pressure ranging 3 15 psi . pressure result level 7.2 ? level pressure 4.7 psi represent ? 18 controller output 4 20ma signal drives valve control flow . relation current flow galmin . flow 12 ? current produces flow 162 galmin ? 19 instrument accuracy fs measures resistance 0 . uncertainty indicated measurement ? 20 sensor transfer function accuracy . tem perature known said absolute certainty output voltage ? 21 sensor problem 20 used amplifier gain displayed meter range 0 2 v fs . worstcase rms uncertainty total measurement ? 22 using nominal transfer function values maximum measurable tem perature system problems 20 21 ? 23 atemperature sensor transfer function . output voltage measured 8.86 v 3digit voltmeter . say value temperature ? 44.5 mvc 1.5 15 0.25 60c 1 0.5 mvc 397 1500 0.5 q 45i 2 ma12 w mv22 v2 2ax ms2 fts2 x at22 14.7 lbin.2 150 mvc 1.5 introduction process control 47 24 level sensor inputs range 4.50 10.6 ft outputs pressure range 3 15 psi . find equation equation 6 level pressure . pressure level 9.2 ft ? 25 draw figure 6 standard pid symbols . section 7 26 atemperature sensor static transfer function time constant 3.3 s. step change applied find output voltages 0.5 2.0 3.3 9 s. indicated temperature times ? 27 pressure sensor measures 44 psi sudden change 70 psi . sensor measures 52 psi time 4.5 change . sensor time constant ? 28 photocell 35ms time constant used measure light flashes . long sudden darktolight flash cell output 80 final value ? 29 alarm light goes pressure sensor voltage rises 4.00 v. pressure sensor outputs 20 mvkpa time constant 4.9 s. long pressure rises suddenly 100 kpa 400 kpa light go ? 30 pressure sensor resistance changes pressure according . resistance converted voltage transfer function sensor time constant 350 ms. pressure changes suddenly 40 psi 150 psi . a. voltage output 0.5 ? indicated pressure time ? b. time output reach 5.0 v ? 31 temperature sensor suddenly changed . sen sor outputs voltage given expression . following table gives voltages measured times . determine average time constant sensor . seconds 0 0.1 0.2 0.3 0.4 0.5 v volts 0.3 1.8 2.8 3.4 3.9 4.2 section 8 32 circuit design calls 1.5 resistor 4.7 v across terminals . would expected current ? circuit built resistance measured voltage 4.7 v. current resistor ? 33 flow rate monitored week following values recorded galmin 10.1 12.2 9.7 8.8 11.4 12.9 10.2 10.5 9.8 11.5 10.3 9.3 7.7 10.2 10.0 11.3. find mean standard deviation data . 1500 k v 0.06 vc 20c 100c 25 0 0 v 10r r 10k volts r 0.15 kpsip 2.5 k 0 50c 22 0.15 mvc introduction process control 48 figure 33 figure problem s1 . 34 manufacturer specification sheet lists transfer function pressure sensor mvkpa time constant s. highly accurate test system applies step change pressure 20 kpa 100 kpa . a. range sensor voltage outputs initially finally ? b. range voltages would expected measured 2 step change applied ? supplementary problems s1 figure 33 shows manufacturing process diagram . process following independent control requirements must satisfied a. control level . b. control temperature . c. control output flow rate . complete diagram showing control loops using block diagram errordetector symbols controller blocks . include blocks necessary signal converters . s2 prepare processcontrol drawing system shown figure 33 similar shown figure 25. sure include signal conversions . qsp tsp lsp 4 10 45 5 introduction process control 49 s3 explain control loops figure 33 selfregulating give reasons . s4 assume control systems place provide requirements problem s1 . suppose outputcontrol valve suddenly sticks closed state . explain tank overflow . s5 figure 34 shows simple levelcontrol system closed relay opens valve open relay closes valve . input flow controlled . relay closes 6.0 v opens 4.8 v. level sensor transfer function . a. find value amplifier gain k required open valve level reaches 1.5 m. b. level valve close ? c. suppose open . period level oscillation ? qout 9 m3min q1 5 m3min q2 2 m3min vh 0.8h 0.4 v figure 34 figure problem s5 . introduction process control 50 s6 apressuremeasurement system uses sensor converts pressure voltage ac cording transfer functions . voltage converted current.as pressure varies 0 100 psi current varies 4 20 . a. find transfer function equation conversion voltage current . b. pressure change cause current change 1 19 20 ? c. pressure change cause current change 1 4 5 ? pressure change previous case even though current changed 1 cases ? d. prepare graph current versus pressure . linear nonlinear ? s7 figure 35 shows system measuring pressure exploding gases inside steel chamber . computer used measure pressure . pressure sensor transfer function firstorder time constant s. explosion occurs pressure rises virtually instantaneously 0 maximum . explosion occurs computer must take reading determine pressure . sensor signal stabilized . a. explain determined measurement taken s. b. suppose sensor signal 1.45 v. value ? c. suppose psi value sensor voltage 1.0 ? d. equations computer programmed use order find sensor voltage taken 1.0 ? pmax pmax 2500 pmax 1.0 1.0 pmax pmax 1 0 pmax 2.0 vp 0.052p 500 p p vp 0.52p figure 35 figure problem s7 . introduction process control 51 s8 figure 36 shows pid process wherein materials b react cham ber create product c. reaction generates heat pressure within chamber . a. provide description element diagram signals connect element . b. describe nature control loops shown overall view process operates . c. explain purpose plc units computer . pc 104 ft 103 pt 101 ts 102 pc 101 101 py 104 ft 104 sp yic 110 yic 112 yic 102 b pc 101 sp reaction chamber vent c figure 36 figure problem s8 . introduction process control 52 5 area estimated rectangular areas curve found give least area . 7 first peak error quarter amplitudes 5.6 1.8. actual values 7 2 quarter amplitude approximately satisfied . 9 11 15 101379 pa 17 19 21 23 25 see figure s.1 . 27 29 31 33 supplementary problems s1 see figure s.2 . s3 temperature flow selfregulating level . qave 10.4 galmin 1.24 galmin ave 0.25 1.99 12 199c worse case 4.2 rms 2.5 r 397 7.5 p 9.6 psi l 5.9 21c 19c 19.3c 20.7c 11102 22.5c figure s.1 solutions oddnumbered problems introduction process control 53 figure s.2 s5 a. b. c. s7 a. use known firstorder timeresponse equation since input step . b. c. d. vf 1.12 v1 1.12 1 e0.5 p vf 0.05 b 2 500 v1 1.76 v final pressure 1035 psi period 3.23 min l low 1.1 k 3.75 introduction process control 54 analog signal conditioning instructional objectives purpose chapter introduce reader variety analog signal conditioning methods used processcontrol systems . passive methods active methods based upon use op amps defined . reading chapter work ing examples problems able explain purpose analog signal conditioning . design wheatstone bridge circuit convert resistance change voltage change . design rc lowpass highpass filter circuits eliminate unwanted signals . draw schematics four common op amp circuits provide transfer functions . explain operation instrumentation amplifier draw schematic . design analog signalconditioning system convert input range voltages desired output range voltage . design analog signal conditioning range resistance variation converted desired range voltage variation . 1 introduction signal conditioning refers operations performed signals convert form suitable interfacing elements processcontrol loop . chapter concerned analog conversions conditioned output still ana log representation variable . even applications involving digital processing type analog conditioning usually required analogtodigital conversion made . chapte5r instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 2 process control 55 2 principles analog signal conditioning sensor measures variable converting information variable depen dent signal either electrical pneumatic nature . develop transducers take advantage fortuitous circumstances nature dynamic variable influences characteristic material . consequently little choice type extent proportionality . example researched nature found cadmium sul fide resistance varies inversely nonlinearly light intensity must learn employ device light measurement within confines dependence . analog signal conditioning provides operations necessary transform sensor output form necessary interface elements processcontrol loop . con fine attention electrical transformations . often describe effect signal conditioning term transfer function . term mean effect signal conditioning input signal . thus sim ple voltage amplifier transfer function constant multiplied input voltage gives output voltage . possible categorize signal conditioning several general types . 2.1 signallevel bias changes one common types signal conditioning involves adjusting level magni tude bias zero value voltage representing process variable . example sensor output voltage may vary 0.2 0.6 v process variable changes measurement range . however equipment sensor output must connected perhaps requires voltage varies 0 5 v variation process variable . perform required signal conditioning first changing zero occur sensor output 0.2 v. done simply subtracting 0.2 sensor put called zero shift bias adjustment . voltage varies 0 0.4 v need make voltage larger . multiply voltage 12.5 new output vary 0 5 v quired . called amplification 12.5 called gain . cases need make sensor output smaller called attenuation . note circuit either chore called amplifier . distinguish amplification tenuation noting whether gain amplifier greater less unity . designing bias amplifier circuits must concerned issues frequency response output impedance input impedance . 2.2 linearization pointed beginning section processcontrol designer little choice characteristics sensor output versus process variable . often dependence exists input output nonlinear . even devices approximately linear may present problems precise measurements variable required . analog signal conditioning 56 figure 1 purpose linearization provide output varies linearly vari able even sensor output . historically specialized analog circuits devised linearize signals . exam ple suppose sensor output varied nonlinearly process variable shown figure 1a . linearization circuit indicated symbolically figure 1b would ideally one conditioned sensor output voltage produced linear process variable shown figure 1c . circuits difficult design usually operate within narrow limits . modern approach problem provide nonlinear signal input computer perform linearization using software . virtually nonlinearity handled manner speed modern computers nearly real time . 2.3 conversions often signal conditioning used convert one type electrical variation another . thus large class sensors exhibit changes resistance changes dynamic variable . cases necessary provide circuit convert resistance change either voltage current signal . generally accomplished bridges fractional resistance change small andor amplifiers whose gain varies resistance . analog signal conditioning 57 signal transmission important type conversion associated processcontrol standard transmitting signals 4 20ma current levels wire . gives rise need converting resistance voltage levels appropriate current level transmitting end converting current back voltage receiving end . course current transmission used signal independent load variations accidental shunt conditions may draw current . thus voltagetocurrent currenttovoltage converters often required . digital interface use computers process control requires conversion analog data digital format integrated circuit devices called analogtodigital con verters adcs . analog signal conversion usually required adjust analog mea surement signal match input requirements adc . example adc may need voltage varies 0 5 v sensor provides signal varies 30 80 mv . signal conversion circuits developed interface output required adc input . 2.4 filtering impedance matching two common signalconditioning requirements filtering matching impedance . often spurious signals considerable strength present industrial environ ment 60hz line frequency signals . motor start transients may also cause pulses unwanted signals processcontrol loop . many cases necessary use highpass lowpass notch filters eliminate unwanted signals loop . fil tering accomplished passive filters using resistors capacitors induc tors active filters using gain feedback . impedance matching important element signal conditioning transducer internal impedance line impedance cause errors measurement dynamic vari able . active passive networks employed provide matching . 2.5 concept loading one important concerns analog signal conditioning loading one cir cuit another . introduces uncertainty amplitude voltage passed measurement process . voltage represents process variable uncertainty value variable . qualitatively loading described follows . suppose opencircuit output element voltage say element input variable value x. element could sensor part signalconditioning circuit bridge circuit amplifier . open circuit means nothing connected put . loading occurs connect something load across output output voltage element drops value . different loads result dif ferent drops . quantitatively evaluate loading follows . thvenins theorem tells us output terminals two terminal elements defined voltage source se vy 6 vx vx analog signal conditioning 58 figure 2 thvenin equivalent circuit sensor allows easy visualization loading occurs . ries output impedance . lets assume resistance output resistance make description easier follow . called thvenin equivalent circuit model element . figure 2 shows element modeled voltage resistance . suppose load connected across output element shown figure 2. could input resistance amplifier example . current flow volt age dropped across . easy calculate loaded output voltage thus given 1 voltage appears across load reduced voltage dropped across ternal resistance . equation shows effects loading reduced . clearly objective make much larger . following example shows effects loading compromise measurements . amplifier outputs voltage 10 times voltage input terminals . input resistance . sensor outputs voltage proportional temperature transfer function . sensor output resistance . tem perature find amplifier output . solution naive solution represented figure 3a . unloaded output sensor sim ply . since amplifier gain 10 output amplifier appears . wrong loading ! figure 3b shows correct analysis . see voltage dropped across output resistance sensor . actual amplifier input voltage given equation 1 vin vt 1 5.0 k 5.0 k 10 k b vout 10 vin 101.0 v 10 v vt 20 mvc50c 1.0 v 50c 5.0 k 20 mvc 10 k rl w rx rx rl vy vx 1 rx rl rx b rx rl rx vx example 1 analog signal conditioning 59 figure 3 loading ignored serious errors occur expected outputs circuits gains amplifiers . . thus output amplifier actually . concept plays important role analog signal conditioning . electrical quantity interest frequency digital signal loading problem . enough signal left loading measure frequency distinguish ones zeros error . loading important mostly signal amplitudes important . 3 passive circuits bridge divider circuits two passive techniques extensively used signal conditioning many years . although modern active circuits often replace techniques still many applications particular advantages make useful . bridge circuits used primarily accurate means measuring changes im pedance . circuits particularly useful fractional changes impedance small . vout 100.67 v 6.7 v vin 0.67 v vt 1.0 v analog signal conditioning 60 figure 4 simple voltage divider often used convert resistance variation voltage variation . another common type passive circuit involved signal conditioning filter ing unwanted frequencies measurement signal . quite common indus trial environment find signals possess high andor lowfrequency noise well desired measurement data . example transducer may convert temperature infor mation dc voltage proportional temperature . everpresent ac power lines however may 60hz noise voltage impressed output makes de termination temperature difficult . passive circuit consisting resistor ca pacitor often used eliminate high lowfrequency noise without changing desired signal information . 3.1 divider circuits elementary voltage divider shown figure 4 often used provide conver sion resistance variation voltage variation . voltage divider given wellknown relationship 2 either sensor whose resistance varies measured variable . important consider following issues using divider conversion resistance voltage variation 1. variation either nonlinear even resis tance varies linearly measured variable divider voltage vary linearly . 2. effective output impedance divider parallel combination . may necessarily high loading effects must considered . 3. divider circuit current flows resistors power dissipated including sensor . power rating resistor sensor must considered . r2 r1 r2 r1 vd r2 r1 r1 r2 divider resistors vs supply voltage vd r2vs r1 r2 analog signal conditioning 61 divider figure 4 . suppose sensor whose resistance varies 4.00 dynamic variable varies range . find minimum maximum b range output impedance c range power dissipated . solution a. solution given equation 2. voltage b. thus voltage varies 1.43 2.73 v. c. range output impedance found parallel combination minimum maximum . simple parallel resistance computation shows 2.86 . d. power dissipated sensor determined easily voltage across calculated . power dissipated varies 0.51 0.62 mw . 3.2 bridge circuits bridge circuits used convert impedance variations voltage variations . one advantages bridge task designed voltage produced varies around zero . means amplification used increase voltage level increased sensitivity variation impedance . another application bridge circuits precise static measurement impedance . wheatstone bridge simplest common bridge circuit dc wheatstone bridge shown figure 5. network used signalconditioning ap plications sensor changes resistance process variable changes . many modifi cations basic bridge employed specific applications . figure 5 object labeled voltage detector used compare potentials points b network . modern applications detector highinput impedance differen tial amplifier . cases highly sensitive galvanometer relatively low imped ance may used especially calibration purposes spot measurement instruments . initial analysis assume detector impedance infinitethat open circuit . case potential difference points b simply 3 v va vb v r2 v2r2 5.45 k r2 r2 r1 vd 5 v12 k 10 k 12 k 2.73 v r2 12 k vd 5 v4 k 10 k 4 k 1.43 v r2 4 k r2 vd 12.0 k r2 vs 5.00 v r1 10.0 k example 2 analog signal conditioning 62 figure 5 basic dc wheatstone bridge . values found noting supply voltage v di vided . 4 similar fashion divided voltage given 5 combine equations 3 4 5 voltage difference voltage set written 6 using algebra reader show equation reduces 7 equation 7 shows difference potential across detector function supply voltage values resistors . difference appears numera tor equation 7 clear particular combination resistors found result zero difference zero voltage across detectorthat null . obviously combination examination equation 7 8 equation 8 indicates whenever wheatstone bridge assembled resistors adjusted detector null resistor values must satisfy indicated equality . r3r2 r1r4 v v r3r2 r1r4 r1 r3r2 r4 v vr3 r1 r3 vr4 r2 r4 v bridge supply voltage vb vr4 r2 r4 vb va vr3 r1 r3 r3 r1 va vb va vb potential point b respect c va potential point respect c analog signal conditioning 63 example 3 matter supply voltage drifts changes null maintained . equations 7 8 underlie application wheatstone bridges processcontrol applications us ing highinput impedance detectors . wheatstone bridge shown figure 5 nulls find value . solution bridge nulled find using equation 8 resistors bridge given . supply 10.0 v find voltage offset . solution assuming detector impedance high find offset notice result example 4 negative voltage . remember simply difference figure 5 given equation 3. fact negative example simply means larger . galvanometer detector use galvanometer null detector bridge circuit introduces differences calculations detector resis tance may low must determine bridge offset current offset . bridge nulled equation 8 still defines relationship resistors bridge arms . equation 7 must modified allow determination current drawn galvanometer null condition present . perhaps easiest way determine offset current first find thvenin equivalent circuit points b bridge drawn figure 5 detector removed . thvenin voltage sim ply opencircuit voltage difference points b circuit . wait ! equation 7 opencircuit voltage 9 vth v r3r2 r1r4 r1 r3r2 r4 va vb v vb va v v 20.7 mv v 10 v 120 120 120 121 120 120 120 121 v v r3r2 r1r4 r1 r3r2 r4 r4 121 r1 r2 r3 120 r4 421 r4 r3r2 r1 500 842 1000 r1r4 r3r2 r4 r4 r3 500 r1 1000 r2 842 example 4 analog signal conditioning 64 figure 6 galvanometer used null detector convenient use thvenin equivalent circuit bridge . thvenin resistance found replacing supply voltage internal resistance calculating resistance terminals b network . may assume internal resistance supply negligible compared bridge arm resis tances . left exercise reader show thvenin resistance seen points b bridge 10 thvenin equivalent circuit bridge enables us easily determine cur rent galvanometer internal resistance shown figure 6. par ticular offset current 11 using equation conjunction equation 8 defines wheatstone bridge response whenever galvanometer null detector used . bridge circuit resistance 5.00v supply . galvanometer 50.0 internal resistance used detector find offset current . solution equation 9 offset voltage . next find bridge thvenin resistance equation 10 rth 2.0 1 k rth 2 k2 k 2 k 2 k 2 k2.05 k 2 k 2.05 k vth 30.9 mv vth 5 v 2 k2 k 2 k2.05 k 2 k 2 k2 k 2.05 k vth r4 2.05 k r1 r2 r3 2.00 k ig vth rth rg rg rth r1r3 r1 r3 r2r4 r2 r4 example 5 analog signal conditioning 65 finally current given equation 11 negative sign current simply means current flows gal vanometer right left i.e . point b point circuit figure 5. bridge resolution resolution bridge circuit function resolu tion detector used determine bridge offset . thus referring case voltage offset occurs define resolution resistance resistance change one arm bridge causes offset voltage equal resolution detector . detector measure change sets limit minimum measurable resistance change bridge using detector . general given detector resolu tion may use equation 7 find change resistance causes offset . bridge circuit resistances 10.0v supply . clearly bridge nulled equation 8 shows . suppose digit dvm 200mv scale used null detector . find resistance resolution measurements . solution 200mv scale dvm measures 000.0 199.9 mv smallest measur able change 0.1 mv . need find much changed create much null voltage . simply use equation 6 changed unknown value results equation bit algebraic challenge solve eventually find smallest change resistance measured bridge offset caused reduction . follows bridge offset would caused increase . example 6 see minimum resistance change must occur detector indicates change offset voltage . one may also view overall accuracy instrument also said represents uncertainty determination resistance using given bridge detector . r 0.0048 r4 100 v r4 100 v r4 120 119.9952 0.0048 r4 119.9952 100 v 120 10 v 120 120 r410 v 120 r4 100 v r4 120 r4 100 v r4 31 2 r1 r2 r3 r4 120.0 100 v ig 15.0 ig 30.9 mv 2.01 k 0.05 k example 6 analog signal conditioning 66 figure 7 remote sensor applications compensation system used avoid errors lead resistance . arguments applied galvanometer measurement res olution limited minimum measurable current . lead compensation many processcontrol applications bridge circuit may located considerable distance sensor whose resistance changes mea sured . cases remaining fixed bridge resistors chosen account sistance leads required connect bridge sensor . furthermore measurement resistance adjusted lead resistance determine actual resistance . another problem exists easily handled however . many effects change resistance long lead wires transient basis frequency temperature stress chemical vapors . changes show bridge offset interpreted changes sensor output . problem reduced using lead compensation changes lead resistance introduced equally two arms bridge cir cuit thus causing effective change bridge offset . lead compensation shown figure 7. see assumed sensor removed remote location lead wires 1 2 3. wire 3 power lead fluence bridge balance condition . wire 2 changes resistance spuri ous influences introduces change leg bridge . wire 1 exposed environment changes amount leg bridge . effectively identically changed thus equation 8 shows change bridge null occurs . type compensation often employed bridge circuits must used long leads active element bridge . current balance bridge one disadvantage simple wheatstone bridge need obtain null variation resistors bridge arms . past many processcontrol applications used feedback system bridge offset voltage amplified used drive motor whose shaft altered variable resistor renull bridge . system suit modern technology electronic processing fast subject wear generates electronic noise . technique provides electronic nulling bridge uses fixed resistors except may required calibration r4 r3 r3 r4 r4 analog signal conditioning 67 figure 8 current balance bridge . used bridge . method uses current null bridge . closedloop system even constructed provides bridge selfnulling ability . basic principle current balance bridge shown figure 8. standard wheatstone bridge modified splitting one arm resistor two . current fed bridge junction shown . stipulate size bridge resistors current flows predominantly . provided several requirements . least restrictive require 12 often highimpedance null detector used restriction equation 12 becomes 13 assuming either conditions equations 12 13 satisfied voltage point b sum divided supply voltage plus voltage dropped across current . 14 voltage point still given equation 4. thus bridge offset voltage given 15 equation shows null reached adjusting magnitude polarity current equals voltage difference first two terms . one bridge ir5 v vr3 r1 r3 vr4 r5 r2 r4 r5 ir5 v va vb vb vr4 r5 r2 r4 r5 ir5 r5 r2 r4 w r5 r4 w r5 r5 r5 r4 r5 r4 analog signal conditioning 68 resistors changes bridge renulled changing current i. manner bridge electronically nulled convenient current source . applications bridge nulled nominal set resistances zero current . changes bridge resistor detected bridge offset signal used provide renulling current . action explained example 7. current balance bridge shown figure 8 resistors highimpedance null detector . find current required null bridge changes . supply voltage 10 v. solution first nominal resistance values given bridge null equation 14 gives increases becomes shows voltage b must increase 0.0008 v 0.8 mv renull bridge . provided current equation 15 found . potential measurements using bridges bridge circuit also useful measure small potentials high impedance using either conventional wheatstone bridge current balance bridge . type measurement performed placing potential measured series detector shown figure 9. null de tector responds potential points c b. case given equation 14 16 given equation 4 potential measured . voltage appea ring across null detector v vc vb vx va vb vx va vc vx va vc vb 16.0 50i 0.8 mv v 0 va 0.9099 v va 10 v1001 10 k 1001 1001 va 1 r3 vb 0.9091 v vb 10 v950 50 10 k 950 50 0 va 0.9091 v va 10 v1 k 10 k 1 k 0 1 r3 10 k r4 950 r3 1 k r5 50 r1 r2 example 7 analog signal conditioning 69 figure 9 using basic wheatstone bridge potential measurement . anull condition established furthermore current flows un known potential null found . thus measured varying bridge resistors provide null circuit solving using null condition 17 current balance bridge figure 8 also used potential measurement current potential measured . potential placed se ries detector defined exactly . however given equation 14 null condition becomes 18 fixed resistors chosen null bridge two middle terms equation 18 cancel leaving simple relationship nulling current 19 bridge circuit potential measurement nulls 10v supply . find unknown potential . solution simply use equation 17 solve . negative sign tells us polarity unknown voltage . since numerically sub tracts see positive terminal must connected point figure 9. va vx vx vx 0.436 v vx 3.769 3.333 0 vx 60510 605 1000 10500 1000 500 0 vx r4 500 r1 r2 1 k r3 605 vx ir5 0 vx vx 0 0 vx r3v r1 r3 vr4 r5 r2 r4 r5 ir5 0 vb v vx r3v r1 r3 vr4 r2 r4 0 vx vx vx v 0 example 8 analog signal conditioning 70 current balance bridge used potential measurement . fixed resistors 10v supply . find current necessary null bridge potential 12 mv . solution first examination resistances shows bridge nulled equation 18 thus use equation 19 ac bridges bridge concept described section applied matching impedances general well resistances . case bridge rep resented figure 10 employs ac excitation usually sine wave voltage signal . analysis bridge behavior basically previous treatment im pedances replace resistances . bridge offset voltage represented 20 e ac offset voltage e e z3z2 z1z4 z1 z3z2 z4 1.2 12 mv 10 0 vr4 r5 r2 r4 r5 10990 10 5 k 990 10 1.667 v vr3 r1 r3 101 k 1 k 5 k 1.667 v vx 0 0 r5 10 r1 r2 5 k r3 1 k r4 990 example 9 figure 10 general ac bridge circuit . analog signal conditioning 71 figure 11 ac bridge circuit components example 10. null condition defined zero offset voltage . equation 20 condition met impedances satisfy relation 21 condition analogous equation 8 resistive bridges . special note necessary concerning achievement null ac bridges . cases null detection system phase sensitive respect bridge excita tion signal . instances necessary provide null inphase quad rature outofphase signals equation 21 applies . ac bridge employs impedances shown figure 11. find value bridge nulled . solution bridge null real imaginary parts must independently equal rx 2 k rx 2 k1 k 1 k rx r2r3 r1 0 r2r3 j r2 c r1rx jr1 cx r2 ar3 j c b r1 rx j cx b z2z3 z1zx cx rx 90 z3z2 z1z4 e 0 z1 z2 z3 z4 bridge impedances e sine wave excitation voltage example 10 analog signal conditioning 72 figure 12 bridge offnull voltage clearly nonlin ear largescale changes resistance . b however small ranges resistance change offnull voltage nearly linear . bridge applications primary application bridge circuits modern processcontrol signal conditioning convert variations resistance variations voltage . voltage variation conditioned interface adc system . thus important note variation bridge offset given equation 7 nonlinear respect resistors . nonlinearity present ac bridge offset given equation 20. thus sensor impedance linear respect variable measured linearity lost bridge used convert voltage variation . figure 12a shows varies bridge . note nonlinearity varies 0 . range resistance variation small centered null value nonlinearity voltage versus resistance small . figure 12b shows range variation small 90 variation expanded scale relatively linear . amplifiers used amplify voltage variation since centered zero useful range . r4 v 110 r4 500 r4 v v 10 v r1 r2 r3 100 r4 v cx 0.5 f cx 1 f 1 k 2 k cx c r1 r2 analog signal conditioning 73 figure 13 circuit lowpass rc filter . figure 14 response lowpass rc filter function frequency ratio . 3.3 rc filters eliminate unwanted noise signals measurements often necessary use cir cuits block certain frequencies bands frequencies . circuits called filters . simple filter constructed single resistor single capacitor . lowpass rc filter simple circuit shown figure 13 called lowpass rc filter . called lowpass blocks high frequencies passes low frequen cies . would desirable lowpass filter characteristic signals frequency critical value simply rejected . practical filter circuits ap proach ideal varying degrees success . case lowpass rc filter variation rejection frequency shown figure 14. graph vertical ratio output voltage input volt age without regard phase . ratio one signal passed without effect small zero signal effectively blocked . horizontal actually logarithm ratio input signal frequency critical frequency . critical frequency frequency ratio output input voltage approximately 0.707. terms resistor capacitor crit ical frequency given 22 fc 12rc analog signal conditioning 74 outputtoinput voltage ratio signal frequency determined graphically figure 14 computed 23 design methods typical filter design accomplished finding critical frequency satisfy design criteria . resistor capacitor deter mined provide required critical frequency equation 22. two unknowns r c one equation often select one com ponent values compute . often capacitor selected required sistor value computed equation 22. following practical guidelines offered process 1. select standard capacitor value pf range . 2. calculate required resistance value . try different value capacitor required resistance falls within range avoid noise loading problems . 3. design flexibility allows use nearest standard value resistance calculated . 4. always remember components resistors capacitors tol erance indicated values . must considered design . quite often capacitors tolerance high . 5. exact values necessary usually easiest select capacitor measure value calculate value required resistance . trimmer variable resistor used obtain required value . measurement signal frequency unwanted noise 1 mhz . design lowpass filter attenuates noise 1. effect measurement signal maximum 1 khz ? solution use equation 23 determine critical frequency give 1 mhz . relationship gives us fc 10 khz 1 mhzfc2 9999 0.01 1 1 1 mhzfc212 voutvin 0.01 61 khz 20 1 1 k f fc vout vin 1 1 ffc212 example 11 analog signal conditioning 75 figure 15 circuit highpass rc filter . lets try capacitor . equation 22 used solve required resistance small resistance could lead excessive current loading . try smaller value capacity result larger value resistance . lets try value much practical . suppose try standard value resistance . give actual critical frequency 6 difference . noise 1 mhz would instead 0.01 specified . check effect filter signal 1 khz thus data reduced 0.4. highpass rc filter highpass filter passes high frequencies rejection blocks rejects low frequencies . filter type constructed using resistor capacitor shown schematic figure 15. similar lowpass filter jection sharp frequency distributed range around critical frequency . critical frequency defined valueequation 22as lowpass filter . graph voltage output input versus logarithm frequency critical frequency shown figure 16. note magnitude frequency equal critical frequency . voutvin 0.707 vout vin 1 1 1 khz10.61 khz212 0.996 vout vin 1 1 1 mhz10610 hz212 0.0099995 fc 1 21500 102 f 10610 hz 1.5 k r 1 2104 hz0.01 106 f 1591 0.01 f r 1 2104 hz0.47 106 f 33.9 0.47 f analog signal conditioning 76 figure 16 response highpass rc filter function frequency ratio . equation ratio output voltage input voltage function fre quency highpass filter found 24 pulses stepping motor transmitted 2000 hz . design filter reduce 60hz noise reduce pulses 3 db . solution let us first find voltage ratio corresponds 3db reduction . remember 3 db means . therefore probably saw coming . critical frequency frequency output attenuated 3 db . thus case . effect 60hz noise found using equation 24 . thus see 3 60hz noise remains reduced 97. voutvin 0.03 voutvin 602000 1 602000212 f 60 hz fc 2 khz voutvin 10320 0.707 p 3 pdb 20 log voutvin voutvin ffc 1 ffc212 example 12 analog signal conditioning 77 lets try capacitor . equation 22 shows resistor value . perhaps design criteria would allow use either 7.5 8.2 resistor standard values . practical considerations number issues arise designing system use highpass lowpass rc filters . consider following items 1. critical frequency determined values r c selected satisfy equation 22. principle values r c employed satisfy critical frequency equation . number practical issues limit selection however . a. small values resistance avoided lead large currents thus large loading effects . similarly large capacitance avoided . general try keep resistance range capacitors less range . b. often exact critical frequency important fixed resistors capacitors approximately computed values employed . exact values necessary usually easier select measure capacitor compute obtain appropriate resistance using trimmer resistance . 2. effective input impedance output impedance rc filter may effect circuit used loading effects . input impedance circuit fed filter low may want place voltage follower see section 5 filter output next stage . similarly output impedance feeding stage filter high may want isolate input filter voltage follower . 3. possible cascade rc filters series obtain improved sharpness filter cutoff frequency . however important consider loading one rc stage another . output impedance firststage filter must much less input impedance next stage avoid loading . apart loading cascading filters raises filter equation power num ber cascaded . thus two highpass filters critical frequency would respond equation 24 squared . 2khz data signal contaminated 60 hz noise . compare singlestage two stage highpass rc filter reducing noise 60 db . effect data signal ? ignore loading . solution attenuation 60 db means outputtoinput voltage ratio 60 hz voutvin 103 20 log10voutvin 60 f k k k 7.96 k 0.01 f example 13 analog signal conditioning 78 single stage use equation 24 find critical frequency give attenuation solving critical frequency gives . see effect data signal evaluate equation 24 2 khz thus 3.3 data signal left ! cascaded rc filter two highpass rc filters series critical frequency . filters independentthat output impedance first much less input impedance secondthe total response equation 24 squared . therefore get 60db reduction solving critical frequency gives . effect data signal found evaluating equation 24 squared 2 khz critical frequency thus 53 data signal retained great improvement sin gle stage . stage contributes attenuation . impedance con dition satisfied loading first stage second greater attenuation data signal . figure 17 shows circuit . suppose require first stage example 13 use capacitor . find appropriate value resistance r. suppose values used sec ond stage . much attenuation occurs 2 khz loading ? output impedance series filter present ? assume source resistance small . solution value r found equation critical frequency equation 22. r 83.9 k r 2fcc1 2 1896 hz 0.001 f1 vin c 0.001 f 0.5312 0.73 vout vin 2 khz1896 hz2 1 2 khz1896 hz2 0.53 fc 1896 hz 0.001 60fc2 1 60fc2 vout vin 2 khz60 khz 21 2 khz60 khz2 0.033 fc 60 khz 0.001 60fc 21 60fc2 example 14 figure 17 cascaded highpass rc filter example 13. analog signal conditioning 79 b b 79.6 k 90 57.7 k 46.5 115.65 k 43.5 79.6 k 90 83.9 k 0 83.9 k 0 vin 0.73vin va b va b vout vout b figure 18 analysis loading highpass rc filter example 14. study loading effect compute reactance capacitor 2 khz . figure 18a shows filter drawn elements replaced complex im pedances polar form 2 khz . example 13 saw first stage alone output 2 khz . calculate much firststage output voltage loaded second filter input impedance . first filter source replaced thvenin equivalent circuit thvenin voltage simply thvenin impedance parallel combination capacitor resistor source impedance small . using parallel rule impedances find . figure 18b shows effective circuit cascaded filters determine loading . loaded input second filter points ab thvenin voltage divided two impedances . thus use ac divider analysis find vab 115.65 43.5 57.5 46.5 115.65 43.5 0.73 vin zth 57.5 k 46.5 0.73 vin 83.9 k j 79.6 k 115.65 k 43.5 vout 0.73 vin x 79.6 k x 2fc1 22000 hz0.001 f1 analog signal conditioning 80 figure 19 response bandpass filter shows high low frequencies rejected . since interested amplitude voltages find magnitudes voltage result . voltage amplitude presented second filter stage . already seen stage output 0.73 input voltage . therefore overall filter output voltage thus loading reduced data signal 53 36. course still far bet ter singlestage filter left 3.3 signal 2 khz . bandpass rc filter possible construct filter blocks frequencies low low limit high limit passing frequencies limits . called bandpass filters . passive bandpass filters designed resistors ca pacitors efficient versions use inductors andor capacitors . refer specialized books filtering learn circuits . general bandpass filter de fined response shown figure 19. lower critical frequency defines frequency ratio output voltage input voltage least 3 db 0.707. higher critical frequency defines frequency ratio output voltage input voltage least 3 db 0.707. frequency range tween called passband . bandpass rc filter shown figure 20. notice simply lowpass filter followed highpass filter . care must taken second filter load first . lower critical frequency highpass filter whereas high criti cal frequency lowpass filter . low high critical frequencies close together passband region never reaches unity i.e . output attenuated frequencies . equation 25 gives ratio magnitude output voltage input voltage filter function frequency . equation includes effects loading constant r ratio highpass filter resistance lowpass filter resistance 25 vout vin fhf 2f2 fhfl2 fl 1 rfh2f2 r rhrl fh fl fh fl vout 0.730.49 vin 0.36 vin vab 0.49 vin analog signal conditioning 81 figure 20 bandpass rc filter made cascaded highpass lowpass rc filters . f frequency hertz critical frequencies defined terms cir cuit components follows 26 provide good passband essential critical frequencies far apart pos sible resistor ratio kept 0.01. example 15 illustrates typical de sign application . asignalconditioning system uses frequency variation 6 khz 60 khz carry mea surement information . considerable noise 120 hz 1 mhz . design band pass filter reduce noise 90. effect desired passband frequencies ? solution first ask critical highpass frequency reduce signals 120 hz factor 0.1 using equation 24 ask critical lowpass frequency reduce 1mhz signals factor 0.1 using equation 22 equation 25 plotted figure 21 two cases . see overall passband response reduced loading larger value r. effect signal found evaluating equation 25 6 khz 60 khz respectively . results follows voltage ratio 6 khz 0.969 3 reduction voltage ratio 60 khz 0.851 15 reduction . pick component values must pick . capacitor values found equation 26 . bandreject filter another kind filter importance one blocks specific range frequencies . often filter used reject particular frequency small range frequencies interfering data signal . general defi cl 15.9 pf ch 0.133 f rh rrl 1 k rl 100 k r 0.01 r 0.01 r 0.1 0.1 1 21 106fh2 gives fh 100 khz 0.1 120fl 21 120fl2 gives fl 1200 hz fh 1 2rlcl fl 1 2rhch example 15 analog signal conditioning 82 10 100 1103 1104 1107 1106 1105 0 1.2 0.1 1 0.8 0.6 0.4 0.2 vout vin frequency hz 0.01 figure 21 bandpass response filter example 15. figure 22 response bandreject notch filter shows middle band frequencies rejected . nition filter given figure 22. definitions much band pass filter critical frequency signal attenuated 3 db 0.707 whereas critical frequency signals attenuated 3 db 0.707. difficult realize filters passive rc combinations . possible construct bandreject frequencies using inductors capacitors success obtained using active circuits . look reference filters . one special bandreject filter realized rc combinations called notch filter blocks narrow range frequencies . circuit called twint filter shown figure 23. characteristics filter determined strongly value grounding resistor capacitor labeled figure 23. particular combination filter response versus frequency shown figure 24. critical notch frequency occurs fre quency given 27 fn 0.785fc fc 12rc c1 10c r1 r10 c1 r1 fh fl analog signal conditioning 83 figure 23 one form bandreject rc filter twint . figure 24 twint rejection notch sharp one set components . note notch frequency output computes 0.002 rejection complete . frequencies output 3 db 0.707 pass band given 28 frequency 400 hz prevails aboard aircraft . design twint notch filter reduce 400hz signal . effect would voice signals 10 300 hz ? higher frequency output 3 db ? solution notch frequency 400 hz critical frequency found equation 27 pick resistance given r 1 25100.01 106 31206 c 0.01 f 400 0.785fc fc 400 0.785 510 hz fl 0.187fc fh 4.57fc example 16 analog signal conditioning 84 values grounding components found effect estimated figure 24 noting . graph means outputinput ratios 0.99 0.03 respectively . higher low frequencies attenuated significantly . higher fre quencies 3 db frequencies 2300 hz . must noted much improved bandreject notch filters real ized using active circuits particularly using op amps . 4 operational amplifiers discussed section 2 many diverse requirements signal conditioning process control . section 3 considered common passive circuits provide required signal operations divider bridge rc filters . historically detectors used bridge circuits consisted tube transistor circuits . many cases impedance transformations amplification operations required circuit designed depended discrete electronic components . remark able advances electronics integrated circuits ics requirement implement de signs discrete components given way easier reliable methods signal conditioning . many special circuits generalpurpose amplifiers contained integrated circuit ic packages producing quick solution signalconditioning prob lems together small size low power consumption low cost . general application ics requires familiarity available line de vices specifications limitations applied specific problem . apart specialized ics also type amplifier finds wide application building block signalconditioning applications . device called operational amplifier op amp existence many years . first constructed tubes discrete transistors integrated circuits . although many lines op amps diverse specifications exist many manufacturers common character istics operation employed basic designs relating general op amp . 4.1 op amp characteristics op amp circuit composed resistors transistors diodes capacitors . typically requires connection bipolar power suppliesthat respect ground . considered functional element larger circuit however concerned input output signals . reason op amp usually shown larger circuit using schematic symbol figure 25. notice power supply connections shownonly two input terminals output terminal . vs vs 4.57fc 300400 0.75 10400 0.025 c1 100.01 f 0.03 f r1 31206 10 9800 analog signal conditioning 85 figure 25 schematic symbol response op amp . schematic symbol figure 25a one input labeled minus sign called inverting input . labeled plus sign called noninverting input . sign labels part symbol must always included . transfer function figure 25b shows relationship voltages applied two input terminals resulting output voltage . output voltage plot ted versus difference two input voltages . input called differential input voltage . figure 25a shows ground connection directly op amp . however voltages shown respect ground . notice ap plied noninverting input inverting terminal . interpretation figure 25b made follows . much larger positive output saturated negative voltage . con versely much larger output saturated positive voltage . terminals called inverting noninverting respectively . volt age terminal positive output negative i.e . sign inverted . narrow range differential input voltage labeled figure 25b within output changes saturation saturation . op amps input voltage range less millivolt whereas saturation voltages typically order 10 v. thus slope transition saturation levels large typically exceeding 100000 vv . characteristics op amp input impedances high typi cally exceeding whereas output impedance low typically less . characteristics ideal op amps 1 infinite impedance inputs 2 zero output impedance . practice device always used feedback output input . feedback permits implementation many special relationships tween input output voltage . ideal inverting amplifier see op amp used let us consider cir cuit figure 26. resistor used feed back output inverting input op amp connects input voltage point . common connection vin r1 r2 100 1 v vsat v2 v1 vsat v2 v1 v1 v2 v2 v1 v2 v1 vout analog signal conditioning 86 figure 26 op amp inverting amplifier . called summing point . see feedback grounded saturates output negative saturates output positive . feed back output adjusts voltage 1. summing point voltage equal op amp input level zero case . 2. current flows op amp input terminals assumed finite impedance . case sum currents summing point must zero . 29 summing point potential assumed zero ohms law 30 equation 29 write circuit response 31 thus circuit figure 26 inverting amplifier gain shifted phase inverted input . device also attenuator virtue making . example suggests two rules applied analyze ideal operation op amp circuit . cases analysis provide circuit transfer func tion little error . design rules rule 1 assume current flows op amp input terminalsthat inverting noninverting terminals . rule 2 assume voltage difference op amp input termi nalsthat . nonideal effects analysis op amp circuits nonideal response per formed considering following parameters 1. finite openloop gain design rules presented assume op amp infinite openloop gain . course real op amp shown v v r2 6 r1 180 r2r1 vout r2 r1 vin vin r1 vout r2 0 i2 current r2 i1 current r1 i1 i2 0 vin 6 0 vin 7 0 analog signal conditioning 87 figure 27 nonideal characteristics op amp include finite gain finite impedance offsets . figure 25a figure 27a . gain defined slope voltagetransfer function typical op amp ! 2. finite input impedance real op amp finite input impedance con sequently finite voltage across current input terminals . 3. nonzero output impedance real op amp nonzero output impedance al though low output impedance typically ohms . modern applications nonideal effects ignored designing op amp circuits . example consider circuit figure 27b finite impedances gain op amp included . employ standard circuit analysis find relationship input output voltage circuit . summing currents summing point gives current identified terms circuit parameters give finally related op amp gain combining equations find 32 v0 r2 r1 1 1 b vin v0 avs v0 vs r2 b z0 v0 vin vs r1 v0 vs r2 vs zin 0 i1 i2 i3 0 200000 v 100 v vsat 10 v vout v2 v1 l 2vsat v analog signal conditioning 88 33 assume small compared unity equation 32 reduces ideal case given equation 31. indeed typical values ic op amp chosen case show . example common generalpurpose ic op amp shows use feedback resistance substitute aforementioned values equation 33 find shows gain equation 32 dif fers ideal 0.05. course one example many op amp circuits employed cases similar analysis shows ideal charac teristics may assumed . 4.2 op amp specifications characteristics op amps given previous section en ter design applications . characteristics given specifications partic ular op amps together openloop gain input output impedance previously defined . characteristics follows input offset voltage cases op amp output voltage may zero voltage across input zero . voltage must applied across input terminals drive output zero input offset voltage . shown figure 27a . input offset current voltage offset may required across input zero output voltage net current may required inputs zero output voltage . current referred input offset current . taken difference two input currents . input bias current average two input currents required drive output voltage zero . slew rate voltage suddenly applied input op amp output saturate maximum . step input slew rate rate output changes saturation value . typically expressed volts per mi crosecond . unity gain frequency bandwidth frequency response op amp typi cally defined bode plot openloop voltage gain versus frequency . plot important design circuits deal ac signals . yond scope book consider details designs employing bode plots . vs v ios 0.0005 100 k r2 zin 2 z0 75 200000 v 1 r2r1 100 a1 z0 r2 b a1 r2 r1 r2 zin b aa z0 r2 b analog signal conditioning 89 figure 28 op amps provide connections input offset compensation trimmer resistor . instead overall frequency behavior seen determination fre quency openloop gain op amp become unity thus defining unity gain frequency bandwidth . practical issues several practical issues associated op amp appli cations appear extra components op amp circuits contribute circuit transfer function . following paragraphs summarize issues . general op amps require bipolar power supplies equal magnitude connected designated pins ic . typically value supply volt ages range 9 15 volts although op amps available many supply requirements . figure 28 shows inverting amplifier power supply connections . approximate input offset current compensation provided making sistance feeding input terminals approximately . figure 28 verting amplifier provided resistor noninverting terminal whose value parallel since effective resistance seen inverting terminal . compensation input offset voltage provided one two ways . many modern ic op amps provide terminals allow input offset compensation . shown figure 28 variable resistor connected two terminals op amp . wiper variable resistor connected supply voltage either accord ing specifications op amp . resistor need adjusted one time unless particular op amp used changed . concept transfer function op amp circuit equation 31 case incorrect dc signals input offset voltage . case input set zero output equation 31 zero input offset voltage . thus variable resistor adjusted output zero thereby compensating input offset voltage . transfer function equation 31 correct . long op amp replaced circuit com ponents changed adjustments resistor required . op amps provide terminals input offset compensation manner described . cases small bias voltage must placed input provide required compensation . figure 29 shows one way case inverting amplifier . another practical issue application op amps involves current drive ca pability . generalpurpose ic op amps source sink 20 vin 0 vs vs r2 r1 vs vs analog signal conditioning 90 figure 29 input offset also compensated using external connections trimmer resistors . includes current feedback circuit . leads general design criterion ap plied design op amps think designing circuits use op amps . following example illustrates point . specify circuit components op amp circuit gain . solution since gain negative use inverting amplifier figure 26 provide solution . equation 31 thus two resistors ratio 4.5 used . practical issue comes play . suppose picked . satisfies design equation however impractical following reason . suppose input voltage 2.0 v. output would expected . however would mean feedback current would ! poor op amp provide 20 circuit would work . thus think select example combina tion ratio 4.5 . op amp circuits shown include power supply connections com pensation components . done simplify circuits essential working prin ciples understood . realize however practical working circuit usually need compensation elements . 5 op amp circuits instrumentation op amp became familiar individuals working processcontrol instru mentation technology large variety circuits developed direct application field . general much easier develop circuit specific service using op k r2 4.5 k r1 1 k k i2 9 v4.5 2 vout 4.52.0 9.0 v r2 4.5 r1 1 gain 4.5 r2 r1 4.5 k example 17 analog signal conditioning 91 figure 30 op amp voltage follower . circuit unity gain high input impedance . amps discrete components development lowcost ic op amps also practical . perhaps one greatest disadvantages requirement bipolar power supply op amp . section presents number typical circuits basic characteristics together derivation circuit response assuming ideal op amp . 5.1 voltage follower figure 30 shows op amp circuit unity gain high input impedance . input impedance essentially input impedance op amp greater . voltage output tracks input range defined plus minus saturation voltage outputs . current output limited short circuit current op amp output impedance typically much less . many cases manufacturer market op amp voltage follower whose feedback provided inter nally . unit usually specifically designed high input impedance . unity gain voltage follower essentially impedance transformer sense converting voltage high impedance voltage low impedance . 5.2 inverting amplifier inverting amplifier already discussed connection treatment op amp characteristics . equation 31 shows circuit inverts input signal may either attenuation gain depending ratio input resistance feedback resistance . circuit amplifier shown figure 25. important note input impedance circuit essentially equal input resistance . gen eral resistance large hence input impedance large . output im pedance low . summing amplifier common modification inverting amplifier plifier sums adds two applied voltages . circuit shown figure 31 case summing two input voltages . transfer function amplifier given 34 sum scaled proper selection resistors . example make output simply inverted sum . average found making . r2 r12 r1 r3 v2 v1 r1 r2 r3 vout c r2 r1 v1 r2 r3 v2d r1 r2 r1 100 100 analog signal conditioning 92 figure 31 op amp summing amplifier . figure 32 op amp circuit example 18. develop op amp circuit provide output voltage related input voltage solution many ways . one way use summing amplifier one put 5 v . gains selected 3.4 1.0 respectively . sum ming amplifier figure 31 also inverter however sign wrong . thus second amplifier used gain make sign correct . result shown figure 32. selection values resistors based general notion keeping currents milliamperes . 5.3 noninverting amplifier noninverting amplifier may constructed op amp shown figure 33. gain circuit found summing currents summing point using fact summing point voltage voltage difference appears across input terminals . i2 current r2 i1 current r1 i1 i2 0 vin 1 vin vout 3.4 vin 5 example 18 analog signal conditioning 93 figure 33 noninverting amplifier . currents found ohms law equation becomes solving equation find 35 equation 35 shows noninverting amplifier gain depends ratio feedback resistor ground resistor gain never used voltage attenuation ratio added 1. input taken directly non inverting input op amp input impedance high since effectively equal op amp input impedance . output impedance low . design highimpedance amplifier voltage gain 42. solution use noninverting circuit figure 33 resistors selected could choose requires . 5.4 differential instrumentation amplifier many instances measurement control systems difference tween two voltages needs conditioned . good example wheatstone bridge offset voltage quantity interest . v va vb r2 41 k r1 1 k r2 41 r1 42 1 r2 r1 vout c1 r2 r1 vin r1 r2 vout b 1 r2 r1 r vin vout vin r1 vin vout r2 0 example 19 analog signal conditioning 94 ideal differential amplifier provides output voltage respect ground gain times difference two input voltages 36 differential gain voltages respect ground . amplifier plays important role instrumentation measurement . common mode rejection notice output voltage given equa tion 36 depend values polarity either input voltage difference . thus gain 10 output would given . inputs output would still 1.0 v since . even output would still given 1.0 v since . real differential amplifiers approach ideal . define degree differential amplifier approaches ideal use following definitions . commonmode input voltage average voltage applied two input terminals 37 ideal differential amplifier output depends value commonmode voltage circuit gain commonmode voltage zero . commonmode rejection ratio cmrr differential amplifier defined ratio differential gain commonmode gain . commonmode rejection cmr cmrr expressed db 38 39 clearly larger numbers better differential amplifier . typical values cmr range 60 100 db . differential amplifier number op amp circuits differential plifiers . common circuit amplifier shown figure 34. notice circuit uses two pairs matched resistors . matching perfect op amp ideal transfer function amplifier given see appendix 6 40 resistors well matched cmr poor . circuit figure 33 disadvantage input impedance high two inputs . reason voltage followers often used input provide high input impedance . result called instrumentation amplifier . vout r2 r1 v2 v1 r2 r1 cmr 20 log10 cmrr cmrr acm acm vcm va vb 2 vout 102.4 2.5 1.0 v vb 2.5 v va 2.4 v vout 107.8 7.7 1.0 vb 7.7 v va 7.8 v vout 100.3 0.2 1.0 v vb 0.2 v va 0.3 v vb va vout ava vb analog signal conditioning 95 figure 34 basic differential amplifier configuration . figure 35 instrumentation amplifier includes voltage followers input isolation . instrumentation amplifier differential amplifiers high input impedance low output impedance given special name instrumentation amplifier . find host applications processmeasurement systems principally initial stage amplification bridge circuits . figure 35 shows one type instrumentation amplifier common use . voltage followers simply placed input line . transfer function still given equa tion 40. one disadvantage circuit changing gain requires changing two sistors carefully matched value . input offset compensation provided using differential amplifier op amp compensate overall offsets three op amps . sensor outputs range 20.0 250 mv variable varies range . develop signal conditioning becomes 0 5 v. circuit must high input impedance . solution logical way approach problems sort develop equation output terms input shown example 18. circuit developed provide variation equation . equation straight line write slope line represents gain attenuation required intercept value would . two conditions problem form two equations solve . v0 vin 0 v0 vout v0 6 1 7 1 vout mvin v0 example 20 analog signal conditioning 96 get using standard algebra . equation form see summing amplifier could used one shown figure 31. also written form looks like differential amplifier gain 21.7 fixed input 0.02 volts inverting side . thus schematic figure 36 shows could done strumentation amplifier . note voltage divider used provide 0.02vbias.the zener diode used keep bias voltage constant changes supply voltage . example illustrates important pointthat one signalconditioning circuit often used satisfy requirements . choice one use often comes number parts cost . general designing signalconditioning circuit required bias voltage provided resistance divider regulated power supply . otherwise variations supply voltage cause signal conditioning error since bias voltage would wrong . often simple way provide comfort sta bility source divided use zener diode done example 20. many integrated circuit manufacturers package instrumentation amplifiers single ics since common use . many use circuit system figure 35 cases fixed gain others providing user selection resistors gain changed . common configuration instrumentation amplifier however circuit shown figure 37. circuit allows selection gain within certain limits ad justment single resistor . shown cmr circuit although still rg vout 21.7 vin 0.02 vout 21.7 vin 0.434 v0 0.434 v 21.7 5 m0.25 v0 0 m0.02 v0 figure 36 solution example 20. analog signal conditioning 97 figure 37 instrumentation amplifier allows gain changed using single resistor . figure 38 bridge example 21. dependent careful matching differential amplifier resistors depend matching two . transfer function amplifier given 41 input impedance high output impedance low . many ic manufac turers provide circuit fixed differential gain allow user insert ex ternal desired gain selected . thus ensure high cmr . figure 38 shows bridge circuit varies . show instrumentation amplifier like figure 37 could used provide output 0 2.5 v. assume . solution clearly bridge null . bridge offset volt age found equation 7 v 24.75 mv v va vb 5 b 100 100 100 102 100 102 r r4 102 r4 100 r1 100 k r2 r3 1 k 102 100 r4 rg r1 vout a1 2r1 rg b r3 r2 bv2 v1 r1s example 21 analog signal conditioning 98 negative sign shows . get output 2.5 v means need differential gain . equation 41 solving find . note also input amplifier must con nected bridge connected connected polarity comes correctly . 5.5 voltagetocurrent converter signals process control often transmitted current specifically 4 20 often necessary employ linear voltagetocurrent converter . circuit must capable sinking current number different loads without changing voltagetocurrent transfer characteristics . op amp circuit provides function shown figure 39. analysis circuit shows relationship cur rent voltage given see appendix 6 42 provided resistances selected 43 circuit deliver current either direction required particular application . r1r3 r5 r2r4 r2 r1r3 vin v2 vb v1 va rg 2000 101 1 200 000 rg b 1000 1000 b 2.5 v24.75 mv 101 102 vb 7 va figure 39 voltagetocurrent converter using op amp . analog signal conditioning 99 maximum load resistance maximum current related determined condition amplifier output saturates voltage . analysis circuit shows op amp output voltage saturates maximum load resistance maximum current related 44 study equation 44 shows maximum load resistance always less . minimum load resistance zero . sensor outputs 0 1 v. develop voltagetocurrent converter becomes 0 10 . specify maximum load resistance op amp saturates . solution voltagetocurrent converter figure 39 inverts since negative sign equation 42. thus need use inverting amplifier first stage input voltagetocurrent converter varies 0 1 v produce current 0 10 . make figure 39 equation 42 reduces . satisfy 10 1 v must let us take allowed equation 43 also specifies completes voltagetocurrent converter . maximum load resistance found equation 44 5.6 currenttovoltage converter receiving end processcontrol signal transmission system often need convert current back voltage . done easily circuit shown figure 40. circuit provides output voltage given 45 vout ir rml 450 rml 100 10 v10 100200 r3 r4 100 r5 0 r3 1 v10 100 vinr3 r1 r2 10 v vsatim im maximum current vsat op amp saturation voltage rml maximum load resistance rml r4 r5bvsat im r3r r3 r4 r5 example 22 analog signal conditioning 100 figure 40 currenttovoltage converter using op amp . care must taken current output capability op amp exceeded . figure 41 integrator circuit using op amp . provided op amp saturation voltage reached . resistor r non inverting terminal employed provide temperature stability configuration . 5.7 integrator another op amp circuit considered integrator . configuration shown figure 41 consists input resistor feedback capacitor . using ideal analysis sum currents summing point 46 solved integrating terms circuit response 47 result shows output voltage varies integral input voltage scale factor . circuit employed many cases integration trans ducer output desired . functions also implemented highly linear ramp voltage . input voltage constant equation 47 reduces 48 linear ramp negative slope krc . mechanism reset dis charge capacitor must provided otherwise rise output sat uration value remain fixed time . vout vout k rc vin k 1rc vout 1 rc 2 vindt vin r c dvout dt 0 analog signal conditioning 101 figure 42 circuit takes time derivative input voltage . use integrator produce linear ramp voltage rising 10 v per ms. solution integrator circuit shown figure 41 produces ramp input voltage constant . make ms ramp rising 10 vms . choice provide required rc product . 5.8 differentiator also possible construct op amp circuit output proportional deriva tive input voltage . circuit shown figure 42 realized single capacitor single resistor case integrator . using ideal analysis sum currents summing point gives equation 49 solving output voltage shows circuit response 50 therefore output voltage varies derivative input voltage . practically speaking circuit exhibits erratic even unstable response used combination circuitry depress instability . vout rc dvin dt c dvin dt vout r 0 c 1 f r 1 k vout 10 103t vin 10 v rc 1 vout vin rc example 23 analog signal conditioning 102 figure 43 nonlinear amplifier uses nonlinear feedback element . figure 44 diode feedback nonlinear element produces logarithmic amplifier . 5.9 linearization op amp also implement linearization . generally achieved placing non linear element feedback loop op amp shown figure 43. summa tion currents provides 51 equation 51 solved principle get 52 thus example diode placed feedback shown figure 44 func tion exponential 53 exponential constant i0 amplitude constant ivout i0 expvout ivout g vin r b nonlinear function input voltage actually inverse function ivout vout output voltage vout g vin r b vout ivout nonlinear variation current voltage r input resistance vin input voltage vin r ivout 0 3 analog signal conditioning 103 figure 45 model measurement signalconditioning objectives . inverse logarithm thus equation 53 becomes 54 thus constitutes logarithmic amplifier . different feedback devices produce amplifiers smooth nonlinear variations provide specified operations logarithmic amplifier . 6 design guidelines section discusses typical issues considered designing analog signalconditioning system . examples show guidelines used develop design . guidelines ensure problem clearly understood impor tant issues included . every guideline important every design applicable . many cases enough information available address issue properly designer must exercise good technical judgment accounting part design . figure 45 shows measurement signalconditioning model . cases entire system developed selecting sensor designing signal con ditioning . cases signal conditioning developed . guidelines generalized . since sensor selected available actual design really signal conditioning . guidelines analog signalconditioning design 1. define measurement objective . a. parameter nature measured variable pressure temperature flow level voltage current resistance forth ? vout 1 logcvin 1 logei0r analog signal conditioning 104 b. range range measurement 45 85 psi 2 4 v forth ? c. accuracy required accuracy 5 fs 3 reading forth ? d. linearity must measurement output linear ? e. noise noise level frequency spectrum measurement environment ? 2. select sensor applicable . a. parameter nature sensor output resistance voltage forth ? b. transfer function relationship sensor output measured variable linear graphical equation accuracy forth ? c. time response time response sensor firstorder time constant secondorder damping frequency ? d. range range sensor parameter output given measurement range ? e. power power specification sensor resistive dissipation maximum current draw forth ? 3. design analog signal conditioning sc . a. parameter nature desired output ? common voltage current frequency sometimes specified . latter cases conversion voltage still often first step . b. range desired range output parameter e.g . 0 5 v 4 20 5 10 khz ? c. input impedance input impedance sc present input signal source ? important preventing loading voltage signal input . d. output impedance output impedance sc offer output load circuit ? 4. notes analog signalconditioning design . a. input resistance change bridge divider must used sure consider effect output voltage nonlinearity resistance effect current resistive sensor . b. op amp portion design easiest design approach develop equation output versus input . equation clear types circuits may used . equation represents static transfer function signal conditioning . c. always consider possible loading voltage sources signal conditioning . loading direct error measurement system . following examples apply guidelines measurement signalconditioning problems . 200c 100 analog signal conditioning 105 sensor outputs voltage ranging v. interface analogto digital converter needs 0 2.5 v. develop required signal conditioning . solution type problem information provided measured variable measurement environment sensor . simply asked provide voltageto voltage conversion . since source impedance known good design practice assume high design highinputimpedance system avoid loading . adcs input impedances least tens kilohms output impedance op amp circuits quite low real concern output impedance sc system . type problem easiest develop equation output terms input . circuits envisioned . using specified information form two equations unknown slope gain offset bias . clearly first equation substituted second equation get solving transfer function equation thus many ways satisfy equation . summing amplifier could used high input impedance voltage follower would needed input . also summing amplifier inverts inverter would required get correct sign . circuit shown figure 46. note bias provided divider . 15v supply assumed divider resistance calculations . 100 resistor selected keep loading op amp circuit small . trimmer vari able resistor used loading divider op amp circuit vari ation supply exactly 15 v compensated adjusting bias exactly 4.615 v. design could also accomplished differential amplifier . 1.923 transfer equation factored get vout 1.923vin 2.4 vout 1.923 vin 4.615 2.52.4 1.1 1.923 2.5 1.1m 2.4m v0 2.4m 2.5 1.1m v0 0 2.4m v0 v0 vout mvin v0 1.1 2.4 example 24 analog signal conditioning 106 set 4.615 10k 19.23 k 100 10 k 10 k 10 k 1 k 15 v vin vout figure 46 one possible solution example 24. equation differential amplifier gain 1.923 one input fixed 2.4 v. voltage follower would still required input . reader complete design . temperature measured range accuracy . sensor resistance varies linearly temperature range . power dissipated sensor must kept 5 mw . develop analog signal con ditioning provides voltage varying linearly v temperature range . load highimpedance recorder . solution following guidelines let us first identify elements problem . measured variable parameter temperature range accuracy noise unspecified sensor signal parameter resistance transfer function linear time response unspecified 2c 450c 250 5 5 1060 280 2c 450c 250c example 25 analog signal conditioning 107 range linear power maximum 5 mw dissipated sensor signal conditioning parameter voltage linear range v input impedance keep power sensor 5 mw output impedance problem highimpedance recorder accuracy low end high end . therefore keep three significant figures provide 0.1 values selected . 5mw maximum sensor dissipation means current must limited . find maximum current note minimum current thus occur maximum resistance thus design must always keep sensor current 2 . since system must linear set linear equation sen sor resistance output voltage . matter determining circuits implement equation . solve using given information subtracting first equation second gives using first equation transfer function equation provided inverting amplifier sensor resistor feedback fol lowed inverting summer get signs correct . figure 47 shows one possible vout 0.0128rs 8.58 v0 8.58 5 2800.0128 v0 10 780m 0.0128 5 1060m v0 5 280m v0 v0 vout mrs v0 imax 20.0051060 2.17 20.005r 0.005 i2r p i2r 0.44 0.8 5 5 1060 280 analog signal conditioning 108 figure 47 one possible solution example 25. lution . fixed input voltage input resistor first op amp selected satisfy 5mw maximum power dissipation . done noting cur rent sensor equal current input circuit . thus using 1.00 v current always 1 thus less 2 required . example 24 trimmers used dividers fixed voltages ad justed 1.00 8.58 v thus account supply voltage differences . alternative would use zener diode source . summary signal conditioning discussed chapter relates standard techniques em ployed providing signal compatibility measurement analog systems . reader introduced basic concepts form foundation analog conditioning . present complete picture analog signal conditioning following points considered 1. need analog signal conditioning reviewed resolved require ments signallevel changes linearization signal conversions filtering im pedance matching . 2. bridge circuits common example conversion process changing resis tance measured either current voltage signal . many modifications bridge used including electronic balancing techniques lead compensation . 1.00 k analog signal conditioning 109 3. high lowpass rc filters passive circuits used block undesired fre quencies data signals . 4. operational amplifiers op amps special signalconditioning building block around many specialfunction circuits developed . device demonstrated applications involving amplifiers converters linearization circuits integrators several functions . problems section 2 1 derive equation 1 general circuit loading . 2 unloaded output sensor sinusoid 200 hz 5 v rms amplitude . output impedance . 0.22 capacitor placed across put load sensor output rms voltage amplitude ? section 3 3 sensor resistance varies 520 . used divider figure 4 along . find range di vider voltage b range power dissipation sensor . 4 prepare graphs divider voltage versus transducer resistance example 2 problem 3. voltage vary linearly resistance ? voltage increase decrease resistance ? 5 show bridge offset equation given equation 7 derived equation 6 . 6 derive equation 10 bridge circuit thvenin resistance . 7 wheatstone bridge shown figure 5 nulls . find . 8 sensor nominal resistance used bridge potentiometer . necessary resolve 0.1 changes sensor resistance . a. value bridge null ? b. voltage resolution must null detector possess ? 9 bridge circuit used sensor located 100 away . bridge lead compensated cable sensor resistance . bridge nulls . sensor resistance ? 10 bridge figure 5 . detector galvanometer . a. find value null bridge . b. find offset current result . 11 current balance bridge shown figure 8 resistances . v 10.0 v r2 1 k r4 590 r5 10 r1 r2 190 r2 rg 150 1.5 v v r1 250 r3 500 r4 340 r3 1560 r1 3400 r2 3445 0.45 ft r3 r3 100 r1 r2 100 v 10.0 v 50 r4 r3 1414 r1 227 r2 448 vd vs 10.0 v r2 500 r1 2500 f 2000 600j analog signal conditioning 110 figure 48 ac bridge problem 14. a. find value nulls bridge current . b. find value balances bridge current 0.25 . 12 potential measurement bridge figure 9 v 10.0 v . find unknown potential bridge nulls . 13 ac wheatstone bridge arms capacitors nulls . find . 14 ac bridge figure 48 nulls . a. find values . b. circuit excited 5v rms 1khz oscillator find offset voltage . c. amplitudes inphase quadrature components offset voltage ? 15 develop lowpass rc filter attenuate 0.5 mhz noise 97. specify crit ical frequency values r c attenuation 400hz input signal . 16 lowpass rc filter . find attenuation 1khz signal . 17 highpass rc filter must drive 120 hz noise 1. specify filter criti cal frequency values r c attenuation 30khz signal . 18 highpass filter found attenuate 1khz signal 20 db . critical frequency ? 19 design bandpass filter critical frequencies 100 hz 10 khz respec tively . use resistance ratio 0.05. draw semilog graph like figure 21 showing voltage output input 10 hz 100 khz . 20 sensor output needs feed amplifier 10 input impedance . significant noise range 4 5 khz . data spectrum lies 200 hz . k fc 3.5 khz 90 l4 510 mh l4 r4 l3 250 mh r1 1 k r2 2 k r3 100 c4 c3 0.27 f c2 0.31 f c1 0.4 f r4 9.73 k r1 r2 r3 10 k r3 r3 analog signal conditioning 111 design lowpass filter use sensor amplifier reduces data 1. much noise reduced ? 21 telephone line used carry measurement data frequencymodulated signal 5 6 khz . line shared voice data 500 hz switch ing noise occurs 500 khz . design bandpass rc filter reduces voice 80 switching 90. use resistance ratio . effect passband frequencies ? 22 single line multiplexed carry sensor signals frequency range 1 khz communication signals ranging 10 50 khz . large noise component 4.5 khz turbine plant . design twint notch filter 4.5khz noise . evaluate effect sensor communication signals . section 5 23 show op amps used provide amplifier gain input impedance . show done using inverting noninverting configurations . 24 specify components differential amplifier gain 22 . 25 using integrator required amplifiers develop voltage ramp generator 0.5 vs. 26 signalconditioning analysis shows following equation must relate output voltage input voltage design circuits using summing amplifier b differential amplifier . 27 adifferential amplifier . output 87 mv . find cmr cmrr . 28 derive equation 41 instrumentation amplifier figure 37 . 29 design instrumentation amplifier like figure 37 switchselectable gains 1 10 100 1000. show complete circuit using 741 op amps pin con nections input offset adjustment . 30 control system needs average temperature three locations . sensors make temperature information available voltages . develop op amp circuit outputs average voltages . 31 use inverting amplifier integrator summing amplifier develop put voltage given 32 develop voltagetocurrent converter satisfies requirement . op amp saturation voltage v maximum current delivery 5 find maximum load resistance . 12 0.0021 vm vout 10 vin 4 2 vindt v3 v1 v2 vb 2.5 v va r1 2.7 k r2 470 k vout 3.35 vin 2.68 rc 10 1.5 k 100 r 0.02 analog signal conditioning 112 section 6 33 bridge circuit v. design signal conditioning system provides output 0.0 5.0 v varies 120 . plot versus . evaluate linearity . 34 develop signal conditioning example 2 output voltage varies 0 5 v resistance varies 4 . 35 develop signal conditioning problem 3 output voltage varies 0 5 v resistance varies 520 0 v corresponds . 36 sensor varies 1 . use op amp circuit provide voltage varying 0 5 v resistance changes . 37 process signal varies 4 20 . setpoint 9.5 . use currentto voltage converter summing amplifier get voltage error signal scale factor 0.5 vma . 38 sensor resistance varies 25 variable changes . design signalconditioning system provides output voltage varying v variable changes min max . power dissipation sen sor must kept 2.5 mw . 39 pressure sensor outputs voltage varying 100 mvpsi 2.5 output impedance . develop signal conditioning provide 0 2.5 v pressure varies 50 150 psi . 40 system needed measure flow continuously cycles 20 30 galmin period 30 s. required output voltage varying v cycling flow range . sensor used transfer function volts q galmin output impedance . tests show output sensor 60 hz noise 0.8 v rms . design signal conditioning system including noise filtering evaluate design follows . a. plot output voltage versus flow comment linearity . b. determine noise output percent fs . supplementary problems figure 49 shows system proposed scale weighing . basic sensor sistor linearly converts weight resistance 0.00 lb nominally sistance 299 lb resistance . bridge offset voltage amplified differential amplifier sent dvm whose voltage design equal weight i.e . weight 134 lb result voltage 1.34 v dvm read 134. neat huh ? purpose resistor combination bridge allow resetting bridge zero using variable resistor . allow compensation changes resistors matter . next three questions related system . rw rz 127 119 rw 2.0 k 1q 2.5 2.5 k 2 2 cmax cmin 1.5 k 5 k 520 2500 12 k r3 vout 140 r3 v 10.0 r1 r2 r4 120 analog signal conditioning 113 s1 consider first bridge circuit figure 49. a. value required null bridge 0.00 lb ? b. minimum maximum values bridge nulled using ? c. offset voltage results weight 299 lb assuming bridge nulled 0.0 lb ? s2 let us consider amplifier figure 49 next . a. find gain k dvm indicates weight volts i.e . weight 299 lb voltmeter reads 2.99 vs. b. provide circuit differential amplifier provide gain . specify resistors amplifier circuit . show amplifier inputs connected bridge points b give right output polarity . s3 lets evaluate well system figure 49 works propose change . a. first suppose weight 150 lb . dvm read ? therefore error lb ? suppose scale exact 0.00 lb 299 lb errors 150 lb . error ? b. change gain reading exact 150 lb . specify error 0 lb one weighs 299 lb people weigh . c. prepare plot voltage reading versus weight . s4 figure 50 shows single wire used carry measurement data time . done modulating two widely different carrier frequencies data using filters extract data receiving end . suppose one data chan nel modulated signal 1.0 1.5 khz modulated signal 50 55 khz . design extraction filters using simple rc filters data loss v rz rw rz figure 49 circuit supplementary problems . analog signal conditioning 114 figure 50 system problem s4 . figure 51 nonlinear amplifier using diodes problems s6 s7 . restricted 0.707 3 db 50 power data signals . much amplitude crossover results ? amplitude ratio 5055 khz 11.5khz channel vice versa ? s5 humidity sensor resistance varies linearly humidity varies 0 100. power dissipation sensor must kept . design analog signal conditioning provide voltage 0.00 1.00 v humidity varies 0 100. s6 cases need amplifiers high gain input voltage low decreasing gain input voltage increases . amplifier whose gain depends upon input voltage ! op amp circuit figure 51 provide response . diodes used isolate feedback resistors via forward voltage drop output voltage rises pre defined levels . circuit figure 51 assume forward voltage drop diodes 1.4 v i.e . begin conduct voltage across 1.4 v. prepare plot output voltage versus input voltage cir cuit . hint diode begins conduct output must v effectively puts 100 resistors parallel . k 1.4 d1 100 w 120 k 250 k analog signal conditioning 115 s7 circuits figure 51 also used provide degree lineariza tion . see consider sensor whose output voltage varies nonlinearly put pressure equation . response shown figure 52. assume sensor voltage provided input circuit figure 51. determine output voltage pressure range plot versus p. see resulting voltage nearly linear . vout vp 0.035p2 figure 52 voltage versus pressure problem s7 . solutions oddnumbered problems 3 4.90 1.67 v 49.98 27.78 mw 7 9 11 0.25 13 15 0.04 400 hz 17 7 30 khz 19 see figure s.3 . 21 referring figure 20 . 23 see figure s.4 . cl 50 pf rh 1300 ch 0.05 f rl 65 k fc 12 khz r 1326 c 0.01 f fc 15 khz r 1060 c 0.01 f c4 0.21 f r3 600 r3 600.64 r4 1285 r4 2790 analog signal conditioning 116 figure s.3 25 see figure s.5 . 27 29 see figure s.6 . 31 see figure s.7 . 33 see figure s.8 circuit figure s.9 plot vs. . nonlinearity slight leastsquarescurvefit straight line shows 1 fs max deviation . 35 see figure s.10 . 37 see figure s.11 . 39 see figure s.12 . r4 vout cmrr 5002 cmr 74 db figure s.4 analog signal conditioning 117 figure s.5 figure s.6 figure s.7 analog signal conditioning 118 figure s.8 figure s.9 figure s.10 analog signal conditioning 119 figure s.11 figure s.12 figure s.13 analog signal conditioning 120 figure s.14 supplementary problems s1 . 98.51 b . 117.99 122.17 c. 0.0829 v s3 . 1.5 v 11b error nonlinear circuit response b. error 0 lb 0 lb error 299 2.95 readout error lb . c. see figure s.13 . s5 see figure s.14 . s7 see figure s.15 . 4 figure s.15 analog signal conditioning 121 122 digital signal conditioning instructional objectives chapter basic principles digital signal processing studied . includes digitaltoanalog converters dac analogtodigital converters adc well characteristics digital data . reading chapter working examples problems end chapter able develop boolean equations multivariable alarms . design application using comparator hysteresis . calculate expected output biopolar dac given input . explain successive approximation adc operates . describe sampleandhold circuit operates . explain operation frequencybased adc . describe consequence sampling rate data acquisition . 1 introduction digital signal conditioning ? digital signal conditioning anyway ? answer first question found recognition digital electronics digital computers taken major role nearly every aspect life modern world . course digital electronics heart computers lots direct appli cations digital electronics world . everyday things like automatic door openers stores motion sensors security systems seatbelt warning systems implemented digital electronics . digital electronic systems require data presented digital format i.e . data digitally conditioned . chapte5r 5 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 3 process control 123 people think computer visualize common home office personal computer pc . fact however one common applications com puters controlling something seldom ever even see computer . learn microwave oven microprocessorbased computer inside purpose controlling operation oven . use computers automobiles washing machines airplanes vast host examples . computers digital electronic devices information work digitally formatted . therefore used control variable tem perature temperature represented digitally . thats need digi tal signal conditioningto condition processcontrol signals appropriate digital format . second question topic chapter . digital signal conditioning process control means finding way represent analog process information digital format . review common digital electronics principles study analog signals converted digital format . realize greater accuracy using digital techniques rep resent data fact accuracy usually lost . digital data much immune spurious influences would cause subsequent inaccuracy noise amplifier gain changes power supply drifts . use computers control systems particularly valuable number reasons however 1. computer control multivariable processcontrol systems . 2. nonlinearities sensor output linearized computer . 3. complicated control equations solved quickly modified needed . 4. networking control computers allows large processcontrol complex op erate fully integrated fashion . 2 review digital fundamentals aworking understanding application digital techniques process control requires foundation basic digital electronics . design implementation control logic systems microcomputer control systems require depth understanding obtained taking several courses devoted subject . text assume sufficient background reader appreciate essential features digital elec tronic design application process control . 2.1 digital information use digital techniques process control requires process variable measure ments control information encoded digital form . digital signals simply twostate binary levels . levels may represented many ways e.g . digital signal conditioning 124 digital signal conditioning example 1 two voltages two currents two frequencies two phases . speak digital information high state h 1 low state l 0 wire carries digi tal signal . digital words given simple binary information carried single dig ital signal clear multiple signals must used describe analog information . generally done using assemblage digital levels construct binary num ber often called word . individual digital levels referred bits word . thus example 6bit word consists six independent digital levels thought sixdigit base 2 number . important consideration analog information encoded digital word . decimal whole numbers one common schemes encoding ana log data digital word use straight counting decimal base 10 bi nary number representations . principles process reviewed appendix find base 10 equivalent binary whole number . solution base 10 system zeros preceding first significant digit contribute . thus binary number actually . find decimal equivalent use appendix digital review compute follows a.2 find binary equivalent base 10 number 47. solution starting successive division get 23 2 11 remainder 1 2 a1 1 47 2 23 remainder 1 2 a0 1 n10 39 n10 32 4 2 1 n10 125 024 023 122 121 120 n10 a525 a424 p a121 a020 n 5 1001112 001001112 1010112 example 2 digital review together octal hexadecimal representations . 125 find base 10 number 47 becomes binary number . representation negative numbers binary format takes several forms . octal hex numbers cumbersome humans work digital words expressed numbers binary representation . reason become common use either octal base 8 hexadecimal base 16 called hex representations . octal numbers conveniently formed groupings three binary digits . thus binary number like equivalent . hex numbers formed easily groupings four binary digits 0h fh . letter h h used designate hex number instead subscript 16. also recall hex counting sequence 01 2 3 4 5 6 7 8 9 b c e f cover possible states . microcomputers must frequently use either 4bit 8bit 16bit words hex notation commonly used machines . hex binary number like would written b6h . 2.2 fractional binary numbers although commonly used possible define fractional binary number manner whole numbers using 1 0 counting system . num bers decimal framework represent divisions counting system values less unity . 1 number digits base 2 number b1b2 p bm1bm base 2 number less 1 n10 base 10 number less 1 n10 b121 b222 p bm2m 101101102 11112 00002 538 1010112 78 1112 08 0002 1011112 1 2 0 1 2 a5 1 2 2 1 0 a4 0 5 2 2 1 2 a3 1 11 2 5 1 2 a2 1 digital signal conditioning 126 example 3 find base 10 equivalent binary number . solution found easily using 1 converting base 10 number less 1 binary equivalent requires peated multiplication 2. result multiplication fractional part either 0 1 wholenumber part determines whether digit 0 1. first mul tiplication gives significant bit last gives either 0 1 least significant bit . find binary octal hex equivalents . solution using successive multiplication find thus find equivalent . represented cause trailing zeros significant number less 1 thus 0.24 octal . similarly 0.50h . 2.3 boolean algebra process control well many technical disciplines action taken ba sis evaluation observations made environment . driving automobile example constantly observing external factors traffic lights speed limits pedestrians street conditions lowflying aircraft internal factors fast wish go going many others . evaluate factors take ac tions predicated evaluations . may see light green streets dry speed 1002 48 0102 28 0.0101002 0.01012 0.312510 20.5 1.0 b4 1 20.25 0.5 b3 0 20.625 1.250 b2 1 20.3125 0.6250 b1 0 0.312510 bm b1 n10 0.812510 n10 1 2 1 4 1 16 n10 121 122 023 124 025 5 n10 b121 b222 p bm2m 0.110102 example 4 digital signal conditioning 127 low pedestrians aircraft late thus conclude action pressing accelerator required . may observe parked police radar unit factors negate aforementioned conclusion apply brake . many parameters represented true true observation fact enough definition observations could reduced simple true false conditions . learn drive actually setting internal responses set truefalse observations environment . industrial world analogous condition exists relative external internal influences manufacturing process control process effect teaching control system response set truefalse observations . teaching may consist designing electronic circuits logically evaluate set truefalse conditions initiate appropriate action . design elec tronic system must first able mathematically express inputs logical evaluation corresponding outputs . boolean algebra mathematical proce dure allows combinations truefalse conditions various logical operations equations conclusions drawn . require expertise boolean technique operational familiarity applied process control environment . particular problem industry addressed using digital electronics must analyzed terms amenable binary nature digital techniques . generally accomplished stating problem form set truefalsetype conditions must applied derive desired result . sets conditions stated form one boolean equations . see section 2.4 boolean equation form readily implemented existing digital circuits . mathe matical approach boolean algebra allows us write analytical expression repre sent stipulations . let us consider simple example boolean equation may result practical problem . consider mixing tank three variables terest liquid level pressure temperature . problem must signal alarm certain combinations conditions occur among variables . refer ring figure 1 denote level pressure b temperature c sume setpoint values assigned variable boolean variables either 1 0 physical quantities setpoint values . alarm triggered boolean variable goes logic true state . alarm conditions 1. low level high pressure 2. high level high temperature 3. high level low temperature high pressure define boolean expression operations give condition 1. give condition 1 . 2. give condition 2 . 3. give condition 3. 1 c b 1 c 1 b 1 digital signal conditioning 128 figure 1 system illustrating boolean applications control . final logic equation results combining three conditions true alarm sound . accomplished operation 2 equation would form starting point design electronic digital circuitry would perform indicated operations . 2.4 digital electronics electronic building blocks digital electronics designed operate binary levels present digital signal lines . building blocks based families types electronic circuits specific stipulations power supplies voltage levels 1 0 states . basic structure involves use andor logic nand logic implement boolean equations . develop digital circuit using andor gates implements equation 2. solution problem posed section 2.3 figure 1 boolean equation solution 2 b c c b b c c b 1 example 5 digital signal conditioning 129 figure 2 solution example 5. implementation equation using andor gates shown figure 2. inverter used straightforward implementation equation . noted equation 2 greatly reduced someone skilled art digital logic . reader show implemented one gate one gate ! repeat example 5 using nandnor gates . solution one way implement equation nandnor would provide inverters every gate effect convert devices back andor gates . case circuit developed would look like figure 2 inverter every gate . second ap proach use boolean theorems reformulate equation better implementa tion using nandnor logic . example get desired equation output nand gate inputs must nand produces b c b c b c b c c b example 6 digital signal conditioning 130 figure 3 solution example 6. demorgans theorem becomes desired output . working backward result allows circuit real ized shown figure 3. however using simplified version given example 5 use demorgans theorem write reader show provided two nand gates one inverter . 2.5 programmable logic controllers move toward digital logic techniques computers industrial control paralleled development special controllers called programmable logic controllers plcs sim ply programmable controllers pcs . devices particularly suited solution control problems associated boolean equations binary logic problems general . computerbased outgrowth relay sequence controllers . 2.6 computer interface figure 4 shows simple model computer system . processor connected external equipment via three parallel sets digital lines . data lines carry data processor . address lines allow computer select external locations input c b c b b c b c digital signal conditioning 131 figure 4 generic model computer bus system . output . control lines carry information computer related opera tions reading writing interrupts . collection lines called bus computer . term interface refers hardware connections software operations nec essary input output data using connections bus . equipment connected computer must share bus lines . important consideration interface hardware bus line compro mised external connection . means external equipment must hold bus line logic state equipment using bus . data line held 0 equipment even performing data transfer equipment could raise line 1 state data transfer operations . problem pre vented use tristate buffers . tristate buffers isolation bus line accomplished making connec tions via special digital device called tristate buffer . device acts like simple switch . switch closed logic level input impressed upon output . open output placed highimpedance statethat open circuit . figure 5 shows two digital signals connected single data line tristate buffers . normally tristates disabledthat high impedance state . computer needs input signal enable signal sent tristate 1 state placed data line . computer reads line tristate 1 disabled . similarly computer needs state signal b enable sent tristate 2 place b line . e2 e1 digital signal conditioning 132 figure 5 tristate buffers allow multiple signals share single digital line bus . 3 converters important digital tool processcontrol technologist one translates digital information analog vice versa . measurements process variables performed devices translate information variable analog electrical signal . interface signal computer digital logic circuit necessary first perform analogtodigital ad conversion . specifics conversion must well known unique known relationship exists analog digital sig nals . often reverse situation occurs digital signal required drive ana log device . case digitaltoanalog da converter required . elementary form communication analog digital device usually ic called comparator . device shown schematically figure 6 simply compares two analog voltages input terminals . depending volt age larger output 1 high 0 low digital signal . comparator ex tensively used alarm signals computers digital processing systems . element also integral part analogtodigital digitaltoanalog converter discussed section 3.2. one voltages comparator inputs figure 6 vari able input fixed value called trip trigger reference voltage . reference vb va figure 6 basic comparator compares voltages produces digital output . digital signal conditioning 3.1 comparators 133 figure 7 diagram solution example 7. value computed specifications problem applied appropriate comparator input terminal illustrated example 7. reference voltage may pro vided divider using available power supplies . processcontrol system specifies temperature never exceed pres sure also exceeds 10 kpa . design alarm system detect condition using temperature pressure transducers transfer functions 0.2 vkpa respectively . solution alarm conditions temperature signal co incident pressure signal . circuit figure 7 shows alarm implemented comparators one gate . ref erence voltages could provided dividers . opencollector comparators comparator models special method providing digital output signal . figure 8a shows output terminal comparator connected internally collector transistor comparator nowhere else ! called opencollector output . course even baseemitter current transistor voltage show collector un til connected supply collector resistor . fact exactly done application . figure 8b shows external resistor connected output appropriate power supply . called collector pullup resistor . output terminal show either 0 0 v internal transistor 1 ternal transistor . number advantages using opencollector output 1. possible use different power source output . example sup pose want activate relay output comparator op erates v. using opencollector model connect pullup resistor supply power relay directly output . 12v 5 12v vs 0.2 vkpa 10 kpa 2 v 2.2 mvc 160c 0.352 v 2.2 mvc 160c example 7 digital signal conditioning 134 figure 8 many comparators use opencollector output . 2. possible together several comparatorsoutputs connecting open collector outputs together using common pullup resistor . one comparators output transistors turned common output go low . hysteresis comparator using comparators often problem signal voltage noise approaches reference value slowly . comparator put may jiggle back forth high low reference level reached . effect shown figure 9. fluctuation output may cause problems equipment designed interpret comparator output signal . figure 9 comparator output jiggle noisy signal passes reference voltage level . digital signal conditioning 135 figure 10 generic dac diagram showing typical input output signals . problem often solved providing deadband hysteresis window reference level around output changes occur . comparator trig gered high reference level automatically reduced signal must fall value old reference comparator goes low state . many ways hysteresis provided figure 10 shows one com mon technique . feedback resistor provided output one inputs comparator input separated signal another resistor r. condition response comparator shown figure 10b . condition output go high defined condition 3 driven high condition output drop back low 0 v state given relation 4 deadband hysteresis given thus selectable choice resistors long relation satisfied . response comparator shown graph figure 10b . arrows indicate increasing decreasing input voltage . sensor converts liquid level tank voltage according transfer function 20 mvcm . acomparator supposed go high 5 v whenever level becomes 50 cm . splashing causes level fluctuate cm . develop hysteresis comparator pro tect effects splashing . solution nominal reference comparator occurs 50 cm . splashing however causes noise mv . total range 120 mv . need deadband least 120 mv let us make 150 mv security . thus rrf 0.03 rrf 5 v 150 mv 3 cm 60 20 mvcm 20 mvcm 50 cm 1 v vref 3 rrfv0 vin vref rrfv0 vin vref v0 rf w r rf example 8 digital signal conditioning 136 make . thus use resistors shown figure 10 reference 1 v meet requirement . adac accepts digital information transforms analog voltage . digital formation form binary number fixed number digits . especially used connection computer binary number called binary word computer word . digits called bits word . thus 8bit word would bi nary number eight digits . unipolar dac converts digital word analog voltage scaling analog output zero bits zero maximum value bits one . mathematically represented treating binary number word represents fractional number . con text output dac defined using equation 1 scaling ref erence voltage 5 minimum zero maximum determined size binary word bits set one decimal equivalent approaches number bits increases . thus 4bit word maximum 8bit word maximum alternative equation equation 5 often easier use . based noting expression brackets equation 5 really fraction tal counting states possible n bits used . recognition write 6 suppose 8bit converter 5.0v reference input a7h . input converted base 10 get . equation 6 output adc vout 167 256 5.0 3.2617 volts 28 256 n 16710 101001112 n base 10 wholenumber equivalent dac input vout n 2n vr vmax vr21 22 23 24 25 26 27 28 0.9961vr vmax vr21 22 23 24 0.9375vr vr vout b1b2 p bn nbit binary word vr reference voltage vout analog voltage output vout vrb121 b222 p bn2n 101101102 r 3 k rf 100 k digital signal conditioning 3.2 digitaltoanalog converters dacs 137 example 9 output voltage 10bit dac 10.0v reference input b 20fh ? input needed get 6.5v output ? solution lets use equation 5 part equation 6 part b. thus 0b5h put b use equation 6 determine input needed get 6.5v output solving n fact fractional remainder tells us get exactly 6.5 v converter . best get output . outputs two inputs 6.494 v 6.504 v respectively . way get exactly 6.5 v output would change value reference slightly . bipolar dac dacs designed output voltage ranges plus minus maximum input binary ranges counting states . although com puters frequently use 2s complement represent negative numbers common dacs . instead simple offsetbinary frequently used wherein output simply biased half reference voltage equation 6. bipolar dac relationship given 7 notice output voltage given minimum value . however maximum value n equal maximum value output voltage bipolar dac 10 bits reference 5 v. outputs result inputs 04fh 2a4h ? digital input gives zero output voltage ? voutmax 2n 1 2n vr 1 2vr 1 2vr vr 2n 2n1 voutmin vr2 n 0 vout n 2n vr 1 2 vr 666 29 ah n 665 299 h n 665.6 n 10246.510 n 2nvoutvr vout 5.14648 v vout 0.51464810.0 vout 527102410.0 210 1024 20fh 52710 vout 1.767578 v vout 10.00.1767578 vout 10.023 25 26 28 210 00101101012 0b5h example 10 digital signal conditioning 138 solution inputs 04fh 2a4h easily converted base 10 numbers . equation 7 find zero occurs equation 7 equals zero . solving n gives . conversion resolution conversion resolution function reference voltage number bits word . bits smaller change analog output 1bit change binary word hence better resolution . smallest possible change simply given 8 thus 5bit word da converter 10v reference provide changes per bit . determine many bits da converter must provide output increments 0.04 v less . reference 10 v. solution one way find solution continually try word sizes resolution falls 0.04 v per bit . analytical procedure use equation 8 n larger integer part exponent two equation satisfy quirement . taking logarithms 7.966 log 10 log 0.04 log 2 log 0.04 log 10 log 2 log 0.04 log 10 2y v 0.04 10 2y vout 10 25 0.3125 v n number bits word vr reference voltage vout smallest output change vout vr2n n 51210 200 h 10000000002 0 n 10245 5 2 vout 676 10245 5 2 0.80078 v vout 79 10245 5 2 2.1142578 v 67610 7910 example 11 digital signal conditioning 139 figure 11 generic dac diagram showing typical input output signals . thus satisfactory . proved equation 8 dac characteristics modern applications dacs integrated circuit ic assemblies viewed black box certain input output characteristics . figure 11 see essential elements dac terms required input put . associated characteristics summarized follows referring figure 1. digital input typically digital input parallel binary word composed number bits specified device specification sheet . ttl logic levels usually required unless otherwise noted . 2. power supply power supply bipolar level v quired internal amplifiers . dacs operate single supply . 3. reference supply reference supply required establish range put voltage resolution converter . must stable lowripple source . units internal reference provided . 4. output output voltage representing digital input . voltage changes steps digital input changes bits step determined equation 8. actual output may bipolar converter designed interpret negative digital inputs . 18 12 vout 0.0390625 v vout 10 28 n 8 digital signal conditioning 140 5. offset dac usually implemented op amps may typical output offset voltage zero input . typically connections provided facilitate zeroing dac output zero word input . 6. data latch many dacs data latch built inputs . logic command given latch data whatever data input bus latched dac analog output updated input data . output stay value new digital data latched put . way input dac connected directly onto data bus computer updated latch command given computer . 7. conversion time adac performs conversion digital input analog put virtually instantaneously . moment digital signal placed inputs presence analog output voltage simply propaga tion time signal internal amplifiers . typically settling time internal amplifiers microseconds . dac structure generally speaking dac used black box knowl edge internal workings required . value however briefly showing conversion implemented . simplest conversion uses series op amps input gains selected provide output given equation 5. common variety however uses resistive ladder network provide transfer function . shown figure 12 case 4bit converter . r2r choice resistors shown network analysis output voltage given equations 5 6. switches analog electronic switches . control valve linear variation opening input voltage varies 0 10 v. microcomputer outputs 8bit word control valve opening using 8bit dac generate valve voltage . a. find reference voltage required obtain full open valve 10 v. b. find percentage valve opening 1bit change input word . solution a. full openvalve condition occurs 10v input . 10v reference used full digital word quite give 10 v use larger reference . thus vr 10 0.9961 10.039 v 10 vr 1 2 1 4 p 1 256 b vout vrb121 b222 p b828 111111112 example 12 digital signal conditioning 141 figure 12 typical dac often implemented using ladder network resistors . b. percentage valve change per step found first thus data output boards common convenient obtain printed cir cuit board plugs personal computer expansion slot complete data output system . board necessary dacs address decoding bus interface . cases supplier board also provides elementary softwareoften written c basic assembly languageas necessary use board data output . percent 0.0392 100 10 0.392 vout 0.0392 v vout 10.039 1 256 vout vr28 digital signal conditioning 142 3.3 analogtodigital converters adcs although sensors provide direct digital signal output de veloped still convert measured variable analog electrical signal . growing use digital logic computers process control necessary employ adc provide digitally encoded signal computer . transfer function adc expressed similar way dac given equation 5. case however interpretation reversed . adc find fractional binary number gives closest approximation fraction formed input voltage reference . 9 use inequality equation fraction right change continu ously values fraction derived binary number left change fixed increments . words way left side change lsb changes 1 0 0 1. either case fraction changes nothing . therefore inherent uncertainty input voltage producing given adc output uncertainty given 10 minimum maximum voltages equation 9 shows ratio put voltage reference less digital output 0s i.e . . lsb change input voltage becomes least equal output . therefore adc output zeros know less could even negative voltage example . notice msb changes 0 1 input voltage becomes equal greater . therefore adc output 1s i.e . know greater . uncertainty must taken account design applications . problem un der consideration specifies certain resolution analog voltage word size reference must selected provide converted digital number . temperature measured sensor output . determine required adc reference word size measure resolution . solution maximum temperature voltage output 0.02 vc 100c 2 v 100c 0.1c 100c 0 0.02 vc vr1 2n vin 1111 p 11112 vr v vr2n vin 0000 p 0012 v 0000 p 0002 v v vr2n 2n n 2n vr analog reference voltage vin analog input voltage b1b2 p bn nbit digital output b121 b222 p bn2n vin vr example 13 digital signal conditioning 143 2v reference used . change results voltage change need word size choose size n integer part plus 1. thus solving logarithms find 10bit word required resolution . 10bit word resolution better minimum required resolution 2 mv . notice output actually changes voltage corresponds temperature . means actually measuring temperature . find digital word results 3.127v input 5bit adc 5v reference . solution relationship input output given equation 9. thus en code fractional number using method successive multiplication defined section 2.2 find output . 101002 0.00642 0.0128 . . . b5 0 0.00322 0.0064 . . . b4 0 0.50162 1.0032 . . . b3 1 0.25082 0.5016 . . . b2 0 0.62542 1.2508 . . . b1 1 b121 b222 p b525 3.127 5 0.6254 vinvr 99.9c 0.1c 1.9980 v0.02 vc 99.90c vr1 2n 2 v 1 210 1.9980 v 11111111112 11111111102 v 0.00195 v v 2 210 9.996 l 10 log 2 log 0.002 log 2 0.002 v 2 2y 0.1c 0.02 vc 2 mv 0.1c example 14 digital signal conditioning 144 equation 9 written simpler fashion expressing fractional binary num ber fraction counting states done dac . case base 10 value digital output expressed 11 int means take integer part quantity brackets . round rather truncation also . value n converted hex andor binary demonstrate adc output . previous ex ample would already found . input 10bit adc 2.500v reference 1.45 v. hex output ? sup pose output found 1b4h . voltage input ? solution use equation 11 find solution questions . first part form expression output adc 251h 1.45v input . get voltage input 1b4h output solve equation 11 voltage conversion yields . however important realize voltage give output 1b4h . correct answer ques tion input voltage lies range 1.06445 1.06689 v. bipolar operation bipolar adc one accepts bipolar input voltage conversion appropriate digital output . common bipolar adcs provide output called offsetbinary . simply means normal output shifted half 2.51024 1.06689 1.06445 vin 1.06445 v vin 43610242.50 1b4h 43610 vin n 2n vr n 251 h n 593 n int593.92 n int1.452.5210 14 h 101002 n int 3.127 5 25 b int20.0128 2010 int3.99 3 int3.3 3 n int vin vr 2n b example 15 digital signal conditioning 145 scale allzeros corresponds negative maximum input voltage instead zero . equation form relation would written 12 equation see output zero . output half . output maximum count input . example 8 bits 10.0v reference step size . looking possible states would asymmetry result converter represent full range minus plus . hex binary output bipolar 8bit adc 5.00v reference puts v v ? input voltage would cause output 72h ? solution using equation 12 get get output 72h solve equation 12 course actual answer voltage v . 5256 0.2539 v 0.2734 0.2734 vin 0.2734 v vin 1142565.00 2.50 vin n2nvr vr2 vin n cch 110011002 n 20410 n int204.8 n int15.001.5 2.50256 n 54h 010101002 n 8410 n int84.48 n int15.000.85 2.5028 1.5 0.85 vr2 vin 4.961 n 111111112 etc . vin 0.039 n 100000012 vin 0.000 n 100000002 vin 0.039 n 011111112 etc . vin 4.961 n 000000012 vin 5.000 n 000000002 vin 1028 l 0.039 v vr2vr2n 2n vin 0 n 0 vin vr2 n intc vin vr 1 2 b 2nd example 16 digital signal conditioning 146 figure 13 generic adc diagram showing typical input output signals noting conversion time . adc characteristics figure 13 shows generic adc typical con nections . quite possible even appropriate many cases regard adc sim ply black box certain input output characteristics . following list summarizes important characteristics adc 1. analog voltage input connection voltage converted . explained later important voltage constant conversion process . 2. power supplies generally adc requires bipolar supply voltages inter nal op amps digital logic supply connection . 3. reference voltage reference voltage must stable wellregulated source . special integrated circuit referencesource voltages available purpose . 4. digital outputs converter n output lines connection digital interface circuitry . generally levels typical ttl values definition high low states . common output lines tristate outputs adc connected directly bus . 5. control lines adc number control lines singlebit digital inputs outputs designed control operation adc allow inter face computer . common lines a. sc startconvert digital input adc starts converter process finding correct digital outputs given analog voltage input . typically conversion starts falling edge . b. eoc endofconvert digital output adc receiving equipment computer . typically line high conversion process . conversion complete line go low . thus falling edge indicates conversion complete . c. rd read since output typically buffered tristates even though conversion complete correct digital results appear digital signal conditioning 147 figure 14 typical dataacquisition timing diagram using adc . read operation may occur time endofconvert issued adc . output lines . receiving equipment must take rd line low enable tristates place data output lines . 6. conversion time input output important char acteristic adcs . typical adc produce digital output instanta neously analog voltage applied input terminal . adc must sequence process find appropriate digital output process takes time . one reasons handshaking lines quired . figure 14 shows typical timing diagram taking sample data via adc . existence finite conversion time complicates use adcs data acqui sition . computer data input time rather must request input wait adc perform conversion input data . adc structure adcs available form integrated circuit ic semblies used black box applications . fully appreciate character istics devices however valuable examine standard techniques employed perform conversions . two methods use represent different ap proaches conversion problem . parallelfeedback adc parallelfeedback ad converter employs feed back system perform conversion shown figure 15. essentially comparator used compare input voltage feedback voltage comes dac shown . comparator output signal drives logic network steps digital output hence dac input comparator indicates two signals within resolution converter . popular parallelfeedback converter successive approximation device . logic circuitry successively sets tests bit starting significant bit word . start bits zero . thus first operation set test comparator . greater 1 set 1 test made versus . less reset zero set 1 test made versus . process repeated least significant bit word . operation illustrated best example . vr22 vx b2 b1 vr21 vx vv vr21 22 vx b2 b1 vx vx vf vr21 b1 1 vf vx digital signal conditioning 148 figure 15 one common method implementing adc successive approximation parallel feedback system using internal dac . find successive approximation adc output 4bit converter 3.217v input reference 5 v. solution following procedure outlined following operations let procedure find output binary word . 10102 vx 6 3.4375 reset b4 0 4 set b4 1 vf 3.125 524 vx 7 3.125 leave b3 1 3 set b3 1 vf 2.5 523 3.125 vx 6 3.75 reset b2 0 2 set b2 1 vf 2.5 522 3.75 vx 7 2.5 leave b1 1 1 set b1 1 vf 521 2.5 v vx 3.217 example 17 digital signal conditioning 149 figure 16 dualslope adc uses op amp integrator comparator counter . commonly used digital voltmeters . conversion time successive approximationtype adcs order 1 per bit . thus lowpriced 8bit adc might require total conversion time . higherquality price 12bit might able perform full con version . conversion times depend clock internal adc crystal controlled . thus variation conversion time unit unit . ramp adc ramptype ad converters essentially compare input voltage linearly increasing ramp voltage . binary counter activated counts ramp steps ramp voltage equals input . output counter digital word representing conversion analog input . ramp typically generated op amp integrator circuit . dualslope ramp adc adc common type ramp converter . simplified diagram device shown figure 16. principle operation based allowing input signal drive integrator fixed time thus generat ing output 13 constant 14 v1 1 rc t1vx vx v1 1 rcvxdt t1 15 40 5 sbit 5 digital signal conditioning 150 figure 17 typical timing diagram dualslope adc . since slopes depend upon r c adc output independent values components . time input integrator electronically switched reference supply . comparator sees input voltage decreases 15 constant given equation 14 16 acounter activated time counts comparator indicates time equation 16 indicates 17 thus counter time linearly related independent integrator char acteristicsthat r c. procedure shown timing diagram figure 17. conversion start stop digital signals also used devices many cases internal external references may used . dualslope adc shown figure 16 . refer ence 10 v fixed integration time 10 ms. find conversion time 6.8v input . solution find voltage integration time 10 ms find time required integrate zero v2 t1vx rc tx rc vr v2 0 v1 6.8 v v1 10 ms 6.8 v 100 k 0.1f v1 1 rct1vx c 0.01 f r 100 k vx tx vx tx t1 vr vx tx v2 0 t1 v2 1 rct1vx 1 rctvr v1 vr v2 v1 1 rcvrdt v1 t1 example 18 digital signal conditioning 151 thus total conversion time . example 18 illustrates important characteristic dualslope adc . much longer conversion time successive approximation type . fact conversion time dualslope frequently tens several hundreds milliseconds . one common applications dualslope adcs digital multi meters . input circuitry converts input voltage appropriate range adc . adc performs conversions continuously one conversion fin ished output latched display register another conversion started . ap plications hundred milliseconds conversion time plenty fast allows display updated several times per second . measurement temperature using sensor outputs must measure . 6bit adc 10v reference used . develop circuit interface sensor adc . b find temperature resolution . solution measure means sensor output a. interface circuit must provide gain adc output 111111. input voltage provide output found thus required gain must provide voltage temperature . op amp circuit figure 18 provide gain . b. temperature resolution found working backward least significant bit lsb voltage change adc gain 15.14 gain 9.84375 0.65 100c vx 9.84375 v vx 10 1 2 1 4 p 1 64 b vx vra121 a222 p a626 100c 6.5 mvc 100c 0.65 v 100c 100c 100c 6.5 mvc 10 ms 6.8 ms 16.8 ms tx 6.8 ms tx 10 ms 6.8 v 10 v tx t1vx vr example 19 digital signal conditioning 152 figure 18 analog circuit example 19. working back amplifier corresponds sensor change temperature conversiontime consequences finite conversion time adc serious consequences rate change signals presented conversion . adc performs conversion process referring back input signal conversion taking place . obviously input changing process taking place errors occur . consequently adc output error magnitude input voltage changes one lsb voltage time conversion . se rious limitation . since change time input voltage derivative con dition written form 18 consider example 10bit adc 5.0v reference 20 conversion time . according equation 18 maximum rate change input voltage converter would dvin dt 5.0 21020 106 l 244 vs dvin dt v c vr 2nc c v 0.01032 v 0.0065 vc 1.59c vt 0.15625 15.14 0.01032 v v 10 26 0.15625 v v vr2n digital signal conditioning 153 figure 19 input signal example 20. result 244 vs doesnt seem bad . lets put perspective asking fre quency would correspond input sinusoidal voltage taking derivative using equation 18 gives result since maximum value cosine function unity get condition 19 terms frequency 20 returning 244 vs lets assume full range use . find maximum angular frequency terms frequency remarkable result ! says 20 converter find 10bit represen tation oscillating signal greater 7.8 hz . yet true means fre quency greater errors lowerorder bits longer converting 10 bits . 8bit bipolar adc 5v reference used take samples triangular wave shown figure 19. maximum frequency wave adc conversion time ? 12 f 2 l 7.8 hz 1 21020 106 l 48.8 rads v0 vr f vr 2n1cv0 2f vr 2ncv0 v0cost vr 2nc vin v0sint example 20 digital signal conditioning 154 figure 20 basic concept sampleandhold circuit use adc . solution solution found condition expressed equation 18. figure 19 clear derivative input signal simply slope tri angular wave period f frequency . equation 18 . obviously limitations frequency described previously severely limit ap plication adcs computer dataacquisition systems . solution however . needed simply signal change conversion process . fore answer hold value constant process . accomplished sampleandhold sh circuit . sampleandhold basic concept sampleandhold circuit shown figure 20 sh connected input adc . electronic switch closed capacitor voltage track input voltage . time conversion input voltage desired electronic switch opened iso lating capacitor input . thus capacitor hold stay charged volt age switch opened . voltage follower allows voltage impressed upon adc input capacitor discharge high input impedance follower . startconvert issued conversion proceeds input voltage remaining constant problem equation 18 arise . conversion complete electronic switch reclosed tracking con tinues another conversion needed . figure 21 shows would appear sample collection sequence sinusoidal signal . vct vint vc vints ts vct vint f 203.5 hz 8f 5 2812 106 1627.6 hz dvin dt 2 t4 8 8f digital signal conditioning 155 figure 21 sampled signal literally held adc conversion process . figure 22 sh often uses fet electronic switch . practical sh issues severe limitations equation 18 adc systems virtually always use sh circuits input . whenever sc issued adc hold also issued sh circuit . eoc issued adc usually automatically switches sh back sample mode . figure 22 shows ic sh circuits often implemented using fets electronic switches . several practical issues associated nonideal electrical characteris tics elements involved sh circuits . nonzero resistance path input voltage capacitor . sistance consists output resistance source finite resistance electronic switch fet example . figure 23a shows model sample mode sh . see con stitutes lowpass filter capacitor . therefore limitation frequency system track . capacitor voltage 3 db 0.707 critical frequency given 21 commercial sh circuits reduce limitation using voltage follower fore switch since low output resistance . fc 1 2rs ronc r rs ron v digital signal conditioning 156 figure 23 sampling b holding equivalent circuit resistance creates nonideal effects . hold mode capacitor shunted parallel combination resistance switch input resistance voltage follower shown figure 23b . case gradual discharge droop capacitor voltage . droop time constant discharge simply 22 condition droop capacitor voltage slope larger given equation 18. exponential decay capaci tor voltage leads condition 23 24 equation 24 shows value capacitor c selected ensure droop exceed limitation imposed equation 18. usually equa tion evaluated worstcase condition . sh used 12bit unipolar adc 30 conversion time . sh switch resistance resistance . voltage follower input resistance also signal source output resistance . a. value capacitor used ? b. determine sampling cutoff frequency . solution a. equation 24 worstcase condition determine minimum droop time . equation 22 allow determination c gives . c 0.025 f 107 107 107 107 c 0.12288 21230 106 0.12288 vc vr 50 10 10 10 vc vr 2nc vc vr vc vr 2nc roffrvf roff rvf c example 21 digital signal conditioning 157 b. result equation 22 critical frequency sampling found important characteristics sh circuit acquisition time aperture time . acquisition time time required sh reac quire signal changing hold sample mode . typical times order microseconds . places limits frequency samples taken . aperture time time command hold given ac tual signal level held . delay means value presented adc ex actly value time sample requested . time typically less . general minimum time samples taken sh adc system given sum 25 expressed terms maximum throughput frequency . sh 50ns aperture time 4 acquisition time adc 40 con version time . maximum throughput frequency ? solution frequency given inverse time samples given equation 25 thus frequency . microprocessorcompatible adcs dacs whole line adcs developed interface easily microprocessorbased computers . adcs builtin tristate outputs connected directly data bus computer . data adc placed data bus lines computer sues appropriate enable command often called read . figure 24 shows adc appears connected environment microprocessorbased computer . adc appears much memory . cases adc input actually taken computer using memoryread instruction . decoding circuitry necessary provide startconvert command put convertcomplete response adc issue tristate enable back adc . another important method analog sensor signal converted digital signal . based upon converting sensor signal variable frequency fmax 22.7 khz 40 0.05 4 44.05 fmax 1t c acq ap 1 ap acq fc 1 2 50 10 0.025 106 108 khz example 22 digital signal conditioning 3.4 frequencybased converters 158 figure 24 adc interfaced directly computer bus tristate outputs . address decoding required adc operated computer software . using frequency input counter fixed interval time . output counter measure frequency thus sensor signal . figure 25 shows diagram describes essential elements type analogtodigital converter . yet identified device converts sensor signal proportional frequency . frequency signal typically square wave suggested figure . square wave fed nbit counter counts every rising falling edge wave hence every cycle . counter often latch put allows counter accumulating new count input frequency still maintaining previous output . aconversion cycle starts startconvert sc signal computer.this clears counter triggers oneshot convert multivibrator mv controls operation . mvis simple digital ic triggered outputs single pulse desired time duration . count mv outputs pulse duration triggered sc . pulse acts startstop signal counter defines time frequency sig nal counted . input frequency high count high frequency low count low . latch mv issues short pulse latch latest count output latches count time finished . falling edge also signals com puter conversion complete eoc . computer read count enabling tristate output counter latch rd signal taken low . typical design starts range frequency converted sensor signal . maximum resolution make count time tc fmax fmin tc tc tc fs digital signal conditioning 159 figure 25 general diagram frequencybased analogtodigital converter . sensor signal produces maximum frequency count also maximum . nbit binary counter maximum count relation need 26 counter output frequency simply . example 23 illustrates concept . sensor signal converted frequency varies 2.0 20 khz . signal converted 8bit digital signal . specify count time . range count output sensor signals frequency range ? solution 8bit counter maximum output . therefore fre quency maximum count time must allow counter reach full 255. equation 26 oneshot multivibrator configured provide 12.75ms pulse . fre quency minimum 2.0 khz count simply since counter count integers . 2510 000110012 n 2000 hz 0.01275 25.5 tc 28 1 20000 hz 0.01275 25510111111112 tc n ftc tc 2n 1 fmax 2n1 example 23 digital signal conditioning 160 figure 26 lm331 common voltagetofrequency converter useful frequencybased adcs . sensortofrequency conversion course technique analogto digital conversion depends upon converting measured variable information vari able frequency . fact hard . common ics exist readily convert volt age current frequency . example lm331 voltagetofrequency ic . figure 26 shows generic lm331 circuit controlling output frequency input voltage . circuit output frequency determined relation 27 components defined schematic . actually frequency really zero even zero . typically small perhaps 10 hz . generally range 10 adjustable allow finetuning frequencytovoltage scale factor . used provide discharge path 1 f capacitor . typically value . supply voltage 40 v. output open collector oc pull resistor required logic supply voltage example v ttl . example suppose want input voltage 0 5.0 v generate fre quency 10 khz . use typical values equation 27 provides get . thus picking means . value output frequency also depends upon resistors capacitor fix ing control voltage frequency also made depend upon values . fore sensor varying resistance capacitance often used directly circuit provide frequency varies sensed quantity . must remember ever variation frequency either resistance capacitance often nonlinear . another common ic used converting resistance capacity fre quency 555 timer . ic output frequency depends upon external rt 3.59 k ct 0.01 f rtct 3.59 105 10000 15 k 100 k 5.0 2.09 1 rtct rl 100 k rs 15 k l 0 5 100 k rl 20 k rs vin fout rs rl 1 rtct vin 2.09 digital signal conditioning 161 figure 27 555 timer useful generation frequency depends upon resistance capacity . resistor capacitor . figure 27 shows standard 555 timer circuit produces steady nonsymmetrical rectangular wave frequency 28 following example illustrates 555 used produce varying frequency analogtodigital conversion . resistor varies 36 light intensity varies 1.5 . devise frequencybased 10bit adc signal . frequencies 1.5 ? plot counter output versus light intensity . notice nonlinearity . solution want maximum frequency produce count maximum fre quency unspecified determine count time . get pick one let us pick count time say 10 ms. get maximum frequency . frequency occur sensor leaves another value pick . lets make get get frequency using . count simply 200. plot count versus light intensity shown figure 28. see nonlinearity results resistor denominator frequency equation . general important realize simple ic circuits allow conversion sensed quantity directly frequency . frequency counted using n 20042 hz 0.01 200.42 fmin 1 0.69336 k 4 k 0.0018 f 20042 hz ra 36 k 1.5 wm2 c 1 0.6934 k 4 k 102300 hz 0.0018 f rb 2 k 102300 hz 1 0.6934 k 2rbc 4 k fmax 102310 ms 102300 hz 210 1 1023 10 wm2 10 wm2 4 k f 1 0.693ra 2rbc example 24 digital signal conditioning 162 figure 28 response example 24. simple system shown figure 26 analogtodigital conversion resulted . conversion time circuits determined maximum sensor frequency . ic circuits maximum frequency around 100 khz . means example 8bit converter would need count time 2.55 ms. see conversion times long compared successive approximation types adcs . processcontrol applications slower conversion time limitation . 4 dataacquisition systems microprocessorbased personal computers pcs used extensively implement direct digital control process industries . familiar desktop computers designed much like system shown figure 24 using bus consists data lines ad dress lines control lines . communication processor via bus lines . includes essential equipment ram rom disk cdrom . pc also connects bus lines number printed circuit board pcb sock ets using industry standard configuration bus lines connected socket . sockets referred expansion slots . many special types peripheral equipment faxmodem boards game boards network connection boards de signed pcbs plug expansion slots . special pcbs called dataacquisition systems dass developed purpose providing input output analog data . used pc used control system . following paragraphs provide general information hardware software dataacquisition systems . 4.1 das hardware hardware features general dataacquisition system shown figure 29. al though variation manufacturer manufacturer system shown fig ure described herein demonstrates essential features dass . tc digital signal conditioning 163 figure 29 typical layout dataacquisition board use personal computer expansion slot . adc sh das typically highspeed successive approximation type adc fast sh circuit . whenever das requested obtain data sample sh automatically incorporated process . adc conversion time consti tutes major part data sample acquisition time sh acquisition time must also considered establish maximum throughput . analog multiplexer analog multiplexer mux allows das select data number different sources . mux number input channels connected different analog input voltage source . mux acts like mul tiple set switches illustrated figure 30 arranged fashion one input channels selected provide voltage sh adc . cases das programmed take channel samples sequentially . address decodercommand processor computer select input sample given channel sending appropriate selection address lines control lines computer bus . decoded initiate proper sequence com mands mux adc sh . another common feature ability program das take number samples channel specified time samples . case computer notified interrupt sample ready input . dac latch output purposes das often includes latch dac . address decodercommand processor used latch data written das converted appropriate analog signal dac . 4.2 das software process selecting channel initiating data input channel involves interface computer das . interface facilitated software digital signal conditioning 164 figure 30 analog multiplexer acts multiposition switch selecting particular inputs adc . computer executes . software written user often also pro vided das manufacturer form programs disk . figure 31 flowchart basic sequence operations must occur sam ple required das . following paragraphs describe element sequence . generally das mapped base port address location pc system . pc address 000h fffh many addresses reserved use processor peripherals . common address inputoutput io systems das port 300h . sequence starts selection channel input . accomplished write das decoder identifies required channel . mux places channel input voltage sh input . software issues startconvert sc command according specifica tions das . often accomplished write address . das internally activates hold mode sh starts converter . endofconvert eoc provided status register das . contents status register read processor port input ad dress . appropriate bit tested software deduce whether eoc issued . eoc issued software input data read appropriate address enables tristates placing adc put data bus . one problem operations described shown figure 31. das fails computer locked loop waiting eoc issued . one way resolve add additional timer loop time greater conversion time base offset base offset base offset digital signal conditioning 165 figure 31 software data acquisition involves operations start adc test eoc input data . adc . eoc detected prior timeout error announced com puter returned errorhandling routine . cases eoc detection handled interrupt service routine . way computer free execute software interrupt occurs . data input . needs system detect eoc provided pro tect das failure . das following specifications 1 . 8 channels 2 . 8bit bipolar adc 5.0v reference 25 conversion time 3. sh 10 acquisition time 4 . 8bit unipolar dac 10.0v reference . addressing fffh switches read inputs data sample write selects input channel set selects channel 0 forth set selects channel 7 read inputs adc status eoc indicated going low write initializes das high issues sc taking low low b7 b0 b7 b7 base 1 b7 b0 base 0 base 000 h example 25 digital signal conditioning 166 read action write sends data dac prepare flowchart showing program would take sample channel 3. clude timeout routine jumps error unspecified routine eoc issued . use port 300h base address . solution figure 32 shows flowchart indicating software would provide input channel 3. would necessary discover value n provide 100 delay 100 base 2 figure 32 solution example 25. digital signal conditioning 167 determining time sequence eoc testing loop . flowchart could implemented assembly language higherlevel language c basic fortran . 5 characteristics digital data many advantages using computers controller function . example one computer handle many loops interaction loops accounted software data less susceptible noiseinduced errors linearization easily provided software . advantages include selftuning error correction automatic failure recovery . seems price advantages indeed dis advantages use computers controller operations . serious disadvantage conversion analog data digital data results loss knowledge value variable . nature consequences considered . 5.1 digitized value consider first analogtodigital conversion adc analog data digital format . format adc output nbit binary representation data . nbits pos sible represent values including zero . finite resolution physical data represented one part means ignorant value variable converted binary representation . equation form write relation physical variable nbit digital representation 29 integer part right side equation 29 used determine n. equa tion 29 assumes measurement system adc designed binary output switches equivalent . resolution measurement found noting change v produce singleinteger bit change n. easily seen 30 following example illustrates consequences digital conversion data . careful study example help understand limitations digital representation . v vmax vmin 2n vmax 2n 2n 1 vmin minimum input value vmax maximum input value v input value n base 10 equivalent binary representation n v vmin vmax vmin 2n 2n 2n digital signal conditioning 168 temperature converted 0 5.0v signal . signal fed 8bit adc 5.0v reference . actual measurement range system ? a. resolution ? b. hex output results ? c. temperature hex output c5h represent ? solution nature adc output change ffh voltage would change 100h exactly 5.0 v . thus ffh would seem mean temperature . 100h higher 8 bits ffh actually means temperature greater . similarly output 00h voltage less v temperature 00h output temperature less . thus actual measurement range . a. temperature span divided values . therefore resolution given equation 30. let us make sure understand means . temperature output 00h . stay value temperature reaches change 01h . thus resolution means ig norant value temperature amount reading . b. every temperature within range one specific output value . thus temperature find value equation 29. find fraction measurement range represented integer part used therefore . another way get result divide quantity reso lution find fraction binary number roundoff error accounts difference . c. ignorance value really shows . temperature c5h represent ? procedure quite straightforward . simply solve equation 29 knowing . 253.9c 197200256 100 197 100 300 100 256 c5h 19710 690.78 88.46 58 h 169 100 169c 58 h 8810 58 h n 88.32 n 169 100 300 100 28 69 200 256 0.345256 169c 169c 0.78c 100.78c 100c 200c256 0.78cbit 28 256 300c 100c 200c 299.22c 100.78c 100.78c 100.78c 5256 0.0195 299.22c 300c 299.22c 300c 5.0 5256 4.98 v 299.22c 169c 300c 100c example 26 digital signal conditioning 169 wait ! fact hex value stay c5h temperature increases resolution . actual answer correctly stated temperature . one consequences digitizing resolution expected control value closely resolution . supposed control tem perature within using measurement system example 26 would im possible know value within tolerance . problems resolution reduced using bits digital word . 16 bits example resolution one part 65536. 16bitadc using 5.0v reference least significant bit toggled voltage changes ! thus noise becomes severe problem typical industrial environment . 5.2 sampled data systems previous section dealt consequences discrete knowledge value physical variable . consider also discrete knowledge value time . computer control system takes periodic samples vari able value . thus ignorant value variation variable samples . control system function correctly certain conditions must assumed vari ations samples . sampled data systems . following section consider nature consequences periodic samples physical variable . sampling rate key issue respect sampling computerbased con troller rate samples must taken . sample rate expressed either time samples sampling frequency . maximum sampling rate systemthat time required take sample adc conversion time plus time required solve controller equations determine appropriate output program execution time . minimum sampling rate system depends nature time variation sampled variable . simply put samples must taken high enough rate signal reconstructed samples . serious conse quences sampling small rate . example control system able correct variations controlled variable missed samples taken . figure 33 illustrates consequences sampling rate knowledge signal variation . actual signal shown figure 33a . figures 33b 33c 33d il lustrate knowledge signal variation deduced various sample rates . reconstruc tions original signal indicated dashed lines samples . sampling rate figure 33b much slow little information actual signal variation contained reconstruction samples . figure 33c signal seems possess frequency variation fact present actual signal . called aliasing one consequence small sampling rate . fs 1ts ts 5.0 v65536 76.3 v 0.2c 254.68c 253.9c 0.78c digital signal conditioning 170 sampling rate figure 33d shows essential features signal reconstructed samples . general rule minimum sampling rate deduced maximum frequency signal . rule adequate recon struction signal samples samples must taken frequency 10 times maximum frequency signal . 31 course equivalent taking 10 samples within shortest period signal . determine minimum sampling rate estimate must made highest possible frequency shortest possible period signal . sampling frequency 10 times value . figure 33d 6 samples taken instead 10 one basic period data . reconstruction samples somewhat crude basic structure present . fmax maximum signal frequency fs sampling frequency fs 10fmax figure 33 sampling rate disguise actual signal details . digital signal conditioning 171 plot figure 34 shows typical data taken pressure variations reaction ves sel . determine maximum time samples computer control system used system . solution examination signal figure 34 shows shortest time two peaks 0.15 s. gives maximum signal frequency . equation 31 minimum sampling frequency given 67 hz . maximum time samples . important understand connection suggested sampling fre quency equation 31 suggested nyquist sampling frequency . nyquist sampling theorem presents result signal bandlimited frequency signal reconstructed sampled rate twice maximumthat . apparent contradiction equation 31. contradiction resolved two observations . first practical signals indus try bandlimited would mean maximum frequency infinite . alleviated filtering signal block frequencies beyond value effec tively providing artificial band limit beyond presents real practical data . second nyquist criterion specify many samples must taken reconstruct signal . indeed limit sampling infinite number sam ples must taken . practical world signal regular periodic . equa tion 31 represents compromise found provide sufficient samples practical signal reconstruction . cycle time processcontrol fieldbus also impact issue maxi mum signal frequency . fieldbus used take measurement data sensor send response back final control element potential delays bus traf fic limit controllable maximum frequency . 2fmax fmax fsample 2fmax fmax ts 1fs 15 ms fs 10fmax 106.7 hz fmax 10.15 6.7 hz example 27 figure 34 pressure data example 27. digital signal conditioning 172 network application used control system limits cycle time 450 ms cause heavy bus usage . one control systems regulate periodic variations temperature reaction chamber . assuming computer processing time negligible maximum temperature variation frequency controlled ? solution 450 ms corresponds time requesting sample sensor ceiving sample . total reaction time control system include time get signal back final control element . thus add another 225 ms total processing time . case sampling frequency given maximum frequency temperature variation found equation 31 period 6.8 seconds . 5.3 linearization many cases input binary number controlled variable linearly related . cases necessary execute program linearize binary number proportional controlled variable value . two common approaches equation inversion table lookup . linearization equation equation known relates value controlled variable binary number computer equation devel oped determine linearized value variable . example suppose trans ducer outputs voltage related pressure 32 voltage converted binary number dv adc . also true binary number pressure still related square root 33 want binary number linearly related pressure . way get square dv 34 thus program would input sample dv multiply . resulting number would linearly related pressure . course may scale shifts offsets number equal pressure following ex ample shows . dp dv dv varies p dv varies p12 v kp12 fmax fs10 0.148 hz fs 10.45 0.225 1.48 hz example 28 digital signal conditioning 173 pressure 50 400 psi converted voltage relation input adc 5.0v reference provides 00h ffh pres sure range . program uses instruction input data adc base 10 number dv varies 0 255 pressure range . develop lin earization equation give quantity p program equal actual pressure . solution enough information work backward adc signal conditioning measurement . thus know voltage related dv adc transformation using known relation v terms p solving p number p program equal actual pressure value 50 400 psi . linearization table lookup many measurement processes impossible find simple equation equation 32 relate controlled variable binary number . also program must written assembly language may difficult evaluate even simple equations example 29. cases becomes much easier use lookup table approach . really humans use thermocouple tables ex ample . measure voltage go table look temperature sometimes interpolate . exact thing software approach . table input val ues corresponding physical variable values stored table memory . follow ing measurement input value looked table correct measured value found . figure 35 shows software approach table lookup flowchart format . sumed input values stored ascending value n memory locations corresponding physical variable values stored following n locations . thus input found ith memory location start table actual variable value found location . course many methods table construction search . many cases necessary write interpolation routines programming equations refine values table values . n p 0.0507 dv 7.0712 0.385p12 2.722 5256dv v 5256dv dv vvref256 v5256 dv udf1 v 0.385p12 2.722 example 29 digital signal conditioning 174 summary chapter provides digital electronics background make reader conversant elements digital signal conditioning able perform simple analysis design associated process control . 1. use digital words enables encoding analog information digital format . 2. possible encode fractional decimal numbers binary vice versa using 1 3. boolean algebraic techniques applied development process alarms elementary control functions . 4. digital electronic gates comparators allow implementation process boolean equations . 5. dacs used convert digital words analog numbers using fractionalnumber representative . resolution 8 6. adc successive approximations type determines output digital word input analog voltage many steps bits word . v vr2n n10 b121 b222 p bm2m figure 35 linearization table lookup accomplished operations flowchart . digital signal conditioning 175 7. dualslope adc converts analog digital information combination inte gration time counting . 8. dataacquisition system das modular device interfaces many analog signals computer . signal address decoding multiplexing adc operations included device . 9. sampling rate signal must high enough assure signal recon structed samples . generally must sample 10 times maximum signal frequency . 10. one great advantages digitizing data feeding computer non linearities removed software . done either equation table lookup process . problems section 2 1 convert following binary numbers decimal octal hex a. b. c. 2 convert following binary numbers decimal octal hex a. b. c. 3 convert following decimal numbers binary octal hex a. b. c. 4 convert binary number fractional binary part expressed 6 bits . actual decimal binary fraction equal ? 5 find 2s complement a. b . 6 prove table values demorgans theorem . 7 show boolean equation reduces . 8 process involves moving speed load weight rate loading conveyor system . variables provided high 1 low 0 levels digital control . alarm initiated whenever following occur a. speed low weight loading rate high . b. speed high loading rate low . find boolean equation describing required alarm output . let variables speed w weight r loading rate . 9 implement problem 8 a. andor logic b. nandnor logic b b b b 101011002 10112 27.15610 42710 63010 2110 1011.01102 0.11012 10110102 0101102 1110112 10102 digital signal conditioning 176 10 tank shown figure 36 following boolean variables flow rates qa qb qc pressure p level l. high variable high low otherwise . devise boolean equations two alarm conditions follows a. alarm 1. either input flow rate high output flow rate low pressure low level high . 2. input flow rates high output flow rate low pressure low . b. alarm 1. input flow rates low level low output flow rate high . 2. either input flow rate low output flow rate high pressure high . 11 devise logic circuits using nandnor logic provide two alarms problem 10. section 3 12 asensor provides temperature data . develop comparator circuit goes high temperature reaches . 13 light level trigger comparator high 5 v intensity reaches . intensity converted voltage according transfer function . noise found contribute intensity fluctua tions . develop hysteresis comparator provide required output immu nity noise . 14 sensors available system shown figure 36 provide voltage puts following transfer functions flow rate q galmin pressure p psi level l meters vl 0.05l vp 20 20 p vq 0.152q 1.6 wm2 0.04 vwm2 30 wm2 530c 360 vc ep empty ov overfill figure 36 system problems 10 14. digital signal conditioning 177 critical values highlow conditions . design compara tor circuits provide boolean variable values . include hysteresis 1 reference . 15 design hardware liquid delivery system alarm provides binary high put system temperature flow 2.0 3.0 lmin . sensors used transfer functions 16 6bit dac input uses 10.0v reference . a. find output voltage produced . b. specify conversion resolution . 17 4bit dac must 8.00v output inputs high . find required reference . 18 8bit dac 5.00v reference connects light source intensity given . a. range intensity produced ? b. intensities produced digital inputs 1bh 7ah 9fh e5h ? c. plot intensity versus hex input comment linearity . 19 12bit bipolar dac 10.00v reference . a. output voltage results digital inputs 4a6h 02bh d5dh ? b. output 4.740 v needed . digital input would come closest value ? percentage actual output different ? c. suppose output picks highfrequency noise 50 mv rms . many output bits obscured noise ? 20 computer used generate ramp voltage signal time i.e . triangular wave like figure 19 following specifications 1 v 2 period 2.5 ms 3 step size 10 mv minimum . a. specify requirements dac . b. prepare flowcharts software generate wave . 21 8bit adc 10.0v reference input 3.797 v. find digital put word . range input voltages would produce output ? suppose output adc . input voltage ? 22 adc encode pressure data required . input signal 666.6 mvpsi . a. resolution 0.5 psi required find number bits necessary adc . reference 10.0 v. b. find maximum measurable pressure . 23 bipolar adc 10 bits 10.00v reference . output produced puts v v v v ? input voltage output 30bh ? 4.8 2.4 0.66 4.3 101101112 5 5 il 45v32wm2 1001012 vq 5 q 5 vq v q lmin rt 1000e.05t25 rt c 50c 40 p 120 psi l 3.6 qc 100 galmin 30 galmin qb qa 55 galmin digital signal conditioning 178 24 10bit unipolar adc reference 5.00 v 44 conversion time used collect data time constant measurement . thus input form minimum value reliable data samples taken sh circuit used ? 25 8bit 20 bipolar adc 5.00v reference monitor sinusoidal sig nal 3.00v peak amplitude . maximum frequency tracked 8bit accuracy ? 26 sampleandhold circuit like one shown figure 22 resistance fet . signal frequency sampling ca pacitor voltage 3 db signal voltage ? limit appli cation sample hold ? 27 sh 12bit bipolar adc combination following characteristics adc conversion sh aperture acquisition adc sh source . 0.0075 f capacitor used sh function voltage follower input resistance . determine a. sampling cutoff frequency . b. effect droop conversion process . c. effect sh resistance sampling process . 28 sh adc combination throughput expressed 100000 samples per second . explain consequences using system take samples every 5 ms. 29 sensor signal converted frequency varies 4.6 37 khz . used counterbased adc 10 bits . specify count time . count minimum frequency 4.6 khz ? 30 capacitor varies linearly pressure varies 0 100 kpa gauge . devise circuit using lm331 converts frequency maximum 20 khz . determine appropriate counter based adc provide 8bit output 255 20 khz . frequency ? plot frequency versus pressure . comment linearity . section 4 31 das adc 8 bits 0 2.5v range input 00h ffh output i.e . feh ffh occurs 2.50 v. inputs temperature scaled pressure 1 100 psi scaled 100 mvpsi flow 30 90 galmin scaled 150 mvgalmin . develop block diagram required signal conditioning connected das indicated variable range corresponds 00h ffh . specify resolution terms change variable corresponds lsb change adc output . 32 design op amp circuits provide signal conditioning specified prob lem 31 . 40 mvc 100c 20 0.26 f tc 0.04 f 0.26 f 0.04 tc 7.5 resistance 1 resistance 20 resistance 75 reference 5.00 v time 5 time 0.8 time 35 75 c 0.47 f vt 41 et digital signal conditioning 179 33 dataacquisition system eight input channels sampled continuously sequentially . multiplexer select settle channel adc converts computer processes single channel data . minimum time samples particular channel ? 34 flow measured input computer . maximum resolution want minimum flow correspond 00h maximum correspond ffh 8bit converter . flow measured voltage given q flow . develop signal conditioning adc reference provide specification . resolution flow flow lower limit upper limit ? explain difference . 35 8bit adc 8.00v reference . a. find output inputs 3.4 v 6.7 v. b. range inputs could caused output become b7h ? 36 tests show output position sensor 12 mvmm 60hz noise output constant 5mv rms . sensor output impedance . sensor measure workpiece motion oscillates mm mm period 1.5 s. position interfaced 12bit bipolar offset binary adc 5.000v reference . design interface system mm corresponds 000h mm corresponds fffh . a. filter determine many bits toggled noise i.e . lost real data . b. introduce filter reevaluate effect noise adc output determine many bits represent real data . 37 sensor linearly changes resistance 2.35 range measured variable . measurement must resolution least interfaced computer . design signal conditioning specify charac teristics required adc . 38 using das example 25 prepare flowchart system inputs sam ple channel 5 decrements one outputs dac . use port 300h base address . 39 maximum rate data taken one channel das example 25 apart software time ? maximum rate data taken eight channels sequentially sampled ? 40 prepare flowchart software inputs data channel 2 channel 6. multiplied higher 8 bits 16bit product sent dac output . develop equation relates analog output voltage two ana log input voltages . section 5 41 digital control system provide regulation pressure within 1.2 kpa range 30 780 kpa . many bits must used data acquisition ? 42 computer used control flow 10 pumping stations . pumps exhibit surging effect period 2.2 s. minimum sampling rate ensure quality data ? much time spent processing stations data ? dataacquisition hardware software take channel . 200 1.25 3.57 k 10 10 10 10 2.5 k m3h v 0.0022q2 60 m3h 30 m3h 450 33 3.1 digital signal conditioning 180 43 output voltage silicon photovoltaic cell given light intensity . intensity measured 100 input computer via 8bit adc 5.00v reference . a. develop signal conditioning interface cell adc 00h 01h occurs feh ffh occurs . b. develop software language choice linearize input data program variable intensity . 44 typek tc reference used measure temperature computer controller application . dataacquisition hard ware software make actual measured voltage mv available software variable vtc . devise flowchart andor program language choice makes reference correction performs linearization table look interpolation . use table values increments typek tc reference . 45 gauge used bridge circuit figure 2.5 . assume bridge offset voltage provided input computer appears variable deltav . prepare flowchart andor program ob tain value r4 voltage . supplementary problems s1 monitoring station flow sensor outputs voltage proportional square root highpressure gasflow rate given volts flow rate kgh . normal flow flow typically surges periodically within limits . two alarm conditions 1 flow surges 6 kgh twice without dropping 4 kgh tween 2 surge 5.1 kgh followed drop 2.9 kgh within 2 s. devise system comparators ffs oneshot multivibrators needed circuitry provide alarms . s2 pressure sensor outputs 2.5 mvkpa 60hz noise steady peak 55 mv line . pressure range 0.0 70 kpa must converted adc presented computer . resolution must least 0.2 kpa . a. design system filter signalconditioning adc specifications satisfy requirement . b. suppose pressure suddenly changed 20 50 kpa . long would adc presented correct digital signal pressure computer ? s3 system presented figure 37 provide computer temperature control . heater requires voltage 0.0 5.0 v 0 full 100. fol lowing algorithm used computer determine heater setting 1. heater 100 2. heater 70 3. heater 38 4. heater 0 7 22c 19c 6 6 22c 14c 6 6 19c 6 14c 4.0 1.0 kgh vq 0.452q 9 v 10.0 v r1 r2 r3 120 0c 5c 280c 200c 20c wm2 400 wm2 100 wm2 400 wm2 wm2 il v 0.11 logeil digital signal conditioning 181 a. determine adc output critical temperature . b. determine necessary heater voltages proper dac input produce voltages . c. prepare flowchart showing computer program would satisfy algorithm requirements . figure 37 system problem s3 . 1 a. ah b . 3bh c. 16h 3 . 5h b . 276h c. 1abh 5 a. b . 9 see figure s.16 . 11 see figure s.17 . 13 refer figure 10 . 15 see figure s.18 . 17 vref 8.53 v r 2.56 k rf 100 k 1010101002 101012 1101010112 6538 10011101012 11658 101012 258 268 2210 738 5910 128 1010 19 . 4a6h v 0b2h v d5dh 3.352 v b. f96h 0.0026 c. bits 8 9 10 11 12 lost noise . 4.895 2.095 digital signal conditioning solutions oddnumbered problems 182 figure s.16 figure s.17 digital signal conditioning 183 21 input could range 3.789 3.828 v input could 7.148 7.187 v. 23 v 47h v 1bch 2.4 v 2f5h 4.8 v 3ebh . 30bh input 2.607 2.617 v. 25 27 a. b. droop exceeds adc limit 35 vs bit12 significance lost . c. sampling lowpass critical frequency 279 khz output 0.996 input . 29 count 4.6 khz 127 . 31 see figure s.19 resolution 0.3867 psi 0.2343 galmin . 33 35 . 6ch 3.4 v d6h 6.7 v b . 5.71875 5.75 v 37 see figure s.20 . 39 28.6 khz 3.6 khz 3.9 ms 0.3125c tc 27.65 ms fsample 42 vs fsample 6 24.5 khz fmax 51.8 hz 0.66 4.3 101101112 011000012 output 61 h figure s.18 digital signal conditioning 184 figure s.19 41 10 bits 43 see figure s.21 . 45 equation . used directly higherlevel language micros 1000000 strain strain 0.9756 delta v5 delta v 11 0.9756v5 v supplementary problems s1 see figure s.22 . s3 a. 0 160 a0h 255 ffh . b . 100 5 v 255 ffh 70 3.5 v 179 b3h 38 1.9 v 97 61h . c. see figure s.23 . 22c 19c 14c figure s.20 digital signal conditioning 185 32.76 k 1 k 1 k 0.11logil vadc 32.76 k 100 k 200 908 sensor 10 5.1 computer equations vadc 5 n256 n adc input vl vadc32.76 0.597 il expvl0.11 figure s.21 figure s.22 digital signal conditioning 186 figure s.23 digital signal conditioning 187 188 thermal sensors instructional objectives objectives chapter stresses understanding required application measurement instrumentation sensors . read chapter able define thermal energy relation temperature scales thermal energy temper ature scale calibrations . transform temperature reading among kelvin rankine celsius fahrenheit temperature scales . design application rtd temperature sensor specific problems temperature measurement . design application thermistor specific temperature measurement problems . design application thermocouple specific temperature measurement problems . explain operation bimetal strip temperature measurement . explain operation gas thermometer vapor pressure thermometer . develop design system measure temperature using solidstate temperature sensor . 1 introduction process control term used describe condition natural artificial physical quantity regulated . widespread evidence control associated temperature thermal phenomena . natural surround ings remarkable techniques temperature regulation found bodily functions living creatures . artificial side humans vitally con cerned temperature control since first fires struck warmth . industrial temperature regulation always paramount importance becomes even advance technology . chapter concerned first developing chapte5r 55 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 4 process control 189 understanding principles thermal energy temperature de veloping working knowledge various thermal sensors employed temperature measurement . 2 definition temperature materials surround us indeed constructed composed assemblages atoms . 92 natural elements nature represented partic ular type atom . materials surround us typically pure elements com binations atoms several elements form molecules . thus helium natural element consisting particular type atom water however composed molecules molecule consisting combination two hydrogen atoms one oxygen atom . presenting physical picture thermal energy need consider physical relations interaction elements molecules particular material either solid liquid gas . statements actually refer molecules material teracting thermal energy molecules . 2.1 thermal energy solid solid material individual atoms molecules strongly tracted bonded atom able move far particular lo cation equilibrium position . atom however capable vibration particular location . introduce concept thermal energy considering mole cules vibration . consider particular solid material molecules exhibiting vibration molecules rest . material said zero thermal energy . add energy material placing heater example en ergy starts molecules vibrating equilibrium positions . may say material finite thermal energy . liquid energy added material vibrations become violent thermal energy increases . finally condition reached bonding attractions hold molecules equilibrium positions overcome molecules break away move material . oc curs say material melted become liquid . even though molecules still attracted one another thermal energy sufficient cause molecules move longer maintain rigid structure solid . instead vibrating one considers molecules randomly sliding average speed move measure thermal energy imparted material . gas increases thermal energy material intensify velocity molecules finally molecules gain sufficient energy escape completely attraction molecules . condition manifested boiling liquid . material consists unattached molecules moving randomly throughout con taining volume say material become gas . molecules still collide wth 7 0 wth 0 thermal sensors 190 walls container otherwise move freely throughout container . average speed molecules measure thermal energy imparted molecules material . materials undergo transitions thermal energy indeed . thus nitrogen solid liquid gas paper experience breakdown molecules liquid gaseous state occur . whole subject thermal sensors associated measurement thermal energy material environment containing many different materials . 2.2 temperature measure thermal energy must sort units clas sify measurement . original units used hot cold . satis factory time inadequate modern use . proper unit energy measurement joules sample si system would depend size material would indicate total thermal energy contained . mea surement average thermal energy per molecule expressed joules would bet ter define thermal energy . say would traditionally used . instead special sets units whose origins contained history thermal energy measurements employed define average energy per molecule material . consider four common units . case name used describe thermal energy per molecule material related statement material certain degree temperature different sets units referred temperature scales . calibration define temperature scales set calibration points used average thermal energy per molecule well defined equilibrium con ditions existing solid liquid gaseous states various pure materials . thus example state equilibrium exists solid liquid phase pure substance rate phase change either direction liquid solid solid liquid . standard calibration points 1. oxygen liquidgas equilibrium 2. water solidliquid equilibrium 3. water liquidgas equilibrium 4. gold solidliquid equilibrium various temperature scales defined assignment numerical values temperatures list additional calibration points . essentially scales differ two respects 1 location zero temperature 2 size one unit measure average thermal energy per molecule represented one unit scale . si definition kelvin unit temperature terms triple point water . state equilibrium exists liquid solid gaseous state water maintained closed vessel . system temperature 273.16 k. thermal sensors 191 table 1 temperature scale calibration points temperature calibration point k zero thermal energy 0 0 oxygen liquidgas 90.18 162.3 water solidliquid 273.15 491.6 32 0 water liquidgas 373.15 671.6 212 100 gold solidliquid 1336.15 2405 1945.5 1063 182.97 297.3 273.15 459.6 c f r absolute temperature scales absolute temperature scale one signs zero temperature material thermal energy molecular vi bration . two scales common use kelvin scale kelvin k rankine scale degrees rankine . temperature scales differ quan tity energy represented one unit measure hence simple proportionality relates temperature temperature k. table 1 shows values temperature kelvin degrees rankine calibration points introduced earlier . table determine transformation temperature water liquidsolid point water liquidgas point 100 k respectively . two numbers rep resent difference thermal energy clear 1 k must larger ratio two numbers thus transformation scales given 1 material temperature 335 k. find temperature . solution tr 9 5 335 k 603r tr 9 5 tk r tr temperature r tk temperature k tk 5 9 tr 1 k 180 100 1r 9 5 1r 1r 180r r r example 1 thermal sensors 192 relative temperature scales relative temperature scales differ absolute scales shift zero axis . thus scales indicate zero temperature thermal energy sample zero . two scales celsius related kelvin fahrenheit related rankine temperature indi cated respectively . table 1 shows various calibration points scales . quantity energy represented indicated 1 k zero shifted celsius scale 2 similarly size size scale shift 3 transform celsius fahrenheit simply note two scales differ size degree k scale shift 32 separates two thus 4 relation thermal energy possible relate temperature actual ther mal energy joules using constant called boltzmanns constant . although true cases good approximation state average thermal energy mol ecule found absolute temperature k 5 boltzmanns constant . thus possible determine average thermal speed velocity gas molecule equating kinetic energy molecule thermal energy 6 molecule mass kilograms . given temperature express temperature k b . solution a. tk 417.65 k tk 144.5 273.15 tk tc 273.15 f 144.5c vth b 3 kt 1 2 mv2 th wth 3 2 kt vth k 1.38 1023 jk wth 3 2 kt wth tf 9 5 tc 32 r tf tr 459.6 1r 1f tc tk 273.15 1c f c example 2 thermal sensors 193 b. sample oxygen gas temperature . molecular mass find average thermal speed molecule . solution first convert k use equation 6 find speed . speed 3 metal resistance versus temperature devices one primary methods electrical measurement temperature involves changes electrical resistance certain materials . well cases principal measurement technique place temperaturesensing device contact en vironment whose temperature measured . sensing device takes tem perature environment . thus measure resistance indicates temperature device environment . time response becomes important cases cause measurement must wait device comes thermal equilibrium environment . two basic devices used resistancetemperature detector rtd based variation metal resistance temperature thermistor based variation semiconductor resistance temperature . 3.1 metal resistance versus temperature metal assemblage atoms solid state individual atoms equilibrium position superimposed vibration induced thermal energy . chief vth 488.37 ms vth c 3 1.38 1023 jk 305.33 k 5.3 1026 kg a1 kgm2 s2j b r 12 vth b 3 kt tk 305.33 k tk 5 9 tr 5 9 549.6 k tr 549r tr 90f 459.6 tr tf 459.6 90f 5.3 1026 kg 90f tf 292.1f tf 9 5 144.5c 32 tf 9 5 tc 32 example 3 thermal sensors 194 figure 1 energy bands solids . conductionband electrons free carry current . characteristic metal fact atom gives one electron called valence electron move freely throughout material becomes conduction elec tron . say whole material valence band electrons con duction band electrons material overlap energy shown figure 1a . contrast semiconductor small gap exists top electron en ergy valence band bottom electron energy conduction band shown figure 1b . similarly figure 1c shows insulator large gap va lence conduction electrons . current passed material conduction band electrons carry current . electrons move throughout material collide stationary atoms molecules material . thermal energy present material atoms vibrate conduction electrons tend collide even vibrating atoms . impedes movement electrons absorbs energy material exhibits resistance electrical current flow . thus metallic resistance function vibration atoms thus temperature . tempera ture raised atoms vibrate greater amplitude frequency causes even collisions electrons impeding flow absorbing energy . argument see metallic resistance increase temperature . graph figure 2 shows effect increasing resistance temperature several metals . compare different materials graph shows relative resistance versus temperature . specific metal high purity curve relative resistance ver sus temperature highly repeatable thus either tables graphs used deter mine temperature resistance measurement using material . possible thermal sensors 195 figure 2 metal resistance increases almost linearly temperature . express resistance particular metal sample constant temperature analytically using equation 7 equation 7 principal increase resistance temperature due changes resistivity metal temperature . resistivity metal known function temperature equation 7 used determine resistance particular sample material temperature . fact curves figure 2 curves resistivity versus temperature example r r resistivitym crosssectional aream2 l length r sample resistance r r l constant thermal sensors 196 8 use equation 7 resistance versus temperature graphs resistance versus tem perature tables practical high accuracy desired . many applications use analytical approximation curves simply insert temper ature quickly calculate resistance . 3.2 resistance versus temperature approximations curves figure 2 cover large span temperature 150c 600c nearly 750c span . examining curves see smaller ranges temperature say 100c span 100 200c curves nearly linear . observation leads development linear approximation sensor resistance versus temperature . linear approximation linear approximation means may develop equation straight line approximates resistance versus temperature curve specified span . figure 3 see typical curve r r rt r25 tla 25la 25 figure 3 line l represents linear approximation resistance versus temperature . t2 t1 thermal sensors 197 terial . straight line drawn points curve represent tem perature shown represents midpoint temperature . equation straight line linear approximation curve span . equa tion line typically written 9 reason using fractional slope curve con stant used cases physical dimensions length crosssectional area kind wire . note depends midpoint temperature sim ply says straightline approximation span curve would different slope . value found values resistance temperature taken either graph given figure 2 table resistance versus temperature given problem 9 see end chapter . general 10 example figure 3 11 quantity units inverse temperature degrees therefore depends tem perature scale used . thus units typically . quadratic approximation quadratic approximation curve accurate representation curve span temperatures . cludes linear term term varies square temperature . analytical approximation usually written 12 2 quadratic fractional change resistance temperature t0 1 linear fractional change resistance temperature rt0 resistance t0 rt quadratic approximation resistance rt rt01 1t 2t2 r r 1f 1c 0 0 r1 resistance t1 r2 resistance t2 0 1 rt0 r2 r1 t2 t1 b 0 1 rt0slope t0 0 t0 0 r 0 0 fractional change resistance per degree temperature t0 t0 rt0 resistance temperature t0 rt approximation resistance temperature rt rt01 0t t1 6 6 t2 t2 t1 t0 t2 t1 thermal sensors 198 values found tables graphs indicated following exam ples using values resistance temperature three points . depend temperature scale used units celsius temperature used fahrenheit scale used . following examples show approximations formed . sample metal resistance versus temperature following measured values 60 106.0 65 107.6 70 109.1 75 110.2 80 111.1 85 111.7 90 112.2 find linear approximation resistance versus temperature . solution since midpoint used . slope found equation 11 thus linear approximation resistance find quadratic approximation resistance versus temperature data given ex ample 4 . solution since midpoint use therefore . find two equations set using endpoints data namely . adding two equations eliminates solve 2 44.36 106f2 2 1 106.0 110.2 1 190 75 290 752 112.2 110.2 1 160 75 260 752 r90f r60f 2 1 rt0 110.2 t0 75f 90f 60 rt 110.21 0.001875 75 0 1 110.2 112.2 106.0 90 60 0.001875f rt0 110.2 t0 75f 90f 60 r tf 1f2 1f 1c2 1c 2 1 2 1 example 5 example 4 thermal sensors 199 used either equation find value . thus quad ratic approximation resistance versus temperature percentage predictions linear quadratic approximations vary actual values ? solution example 4 predictions linear model found error actual value . find error 0.54. quadratic model example 5 finds resistances zero error endpoint one used determine constants . find error . clearly quadratic approximation provides much better approximation sistance versus temperature . 3.3 resistancetemperature detectors resistancetemperature detector rtd temperature sensor based prin ciples discussed preceding sections metal resistance increasing temper ature . metals used devices vary platinum repeatable quite sensitive expensive nickel quite repeatable sensitive less expensive . sensitivity estimate rtd sensitivity noted typical values linear fractional change resistance temperature . platinum number typ ically order nickel typical value . thus plat inum example change would expected 100 rtd temperature changed . usually specification provide calibration information either graph resistance versus temperature table values sen sitivity determined . materials however number relatively constant function resistivity . response time general rtd response time 0.5 5 . slowness response due principally slowness thermal conductivity bringing device thermal equilibrium environment . generally time constants 1c 0.4 0.005c 0.004c 0 0.09 r85f 111.8 85f 106.0 r60f 110.2 1 0.00187560 75 44.36 10660 752 r85f 112.3 85f 1 106 107.1 r60f 110.2 1 0.00187560 75 85f 60f rt 110.2 1 0.001875t 75 44.36 106t 752 1 0.001875f example 6 thermal sensors 200 figure 4 note compensation lines typical rtd signalconditioning circuit . specified either free air condition equivalent oil bath condition equivalent . former case poor thermal contact hence slow response latter good thermal contact fast response . numbers yield range response times depending application . construction rtd course simply length wire whose resistance monitored function temperature . construction typically wire wound form coil achieve small size improve thermal conductivity decrease response time . many cases coil protected environment sheath protective tube inevitably increases response time may necessary hostile environments . loosely applied standard sets resistance multiples temperature . signal conditioning view small fractional changes resistance temperature 0.4 rtd generally used bridge circuit . figure 4 illustrates essential features system . compensation line leg bridge required lead lengths long thermal gradients along rtd leg may cause changes line resistance . changes show false information suggesting changes rtd resistance . using compensation line resistance changes also appear side bridge cause net shift bridge null . r3 r3 0c 100 thermal sensors 201 dissipation constant rtd resistance power dissipated device causes slight heating effect selfheating . may also cause erroneous reading even upset environment delicate measurement conditions . thus current rtd must kept sufficiently low constant avoid selfheating . typically dissipation constant provided rtd specifications . number relates power required raise rtd temperature one degree tem perature . thus dissipation constant shows power losses rtd equal 25 mw rtd heated . dissipation constant usually specified two conditions free air well stirred oil bath . difference capacity medium carry heat away device . selfheating temperature rise found power dis sipated rtd dissipation constant 13 rtd dissipation constant . rtd used bridge circuit figure 4 variable resistor used null bridge . supply 10 v rtd placed bath find value null bridge . solution first find value rtd resistance without including effects dissi pation . equation 9 get except effects selfheating would expect bridge null equal also . lets see selfheating problem . first find power dissipated rtd circuit assuming resistance still . power current three significant figures found 10 500 450 0.011 p i2r 450 450 r3 r 450 r 5001 0.0050 20 0c r3 0c r3 r1 r2 500 20c pd 30 mwc 0 0.005c r 500 pd dissipation constant rtd wc p power dissipated rtd circuit w temperature rise selfheating inc p pd 1c i2r 25mwc i2r example 7 thermal sensors 202 power get temperature rise equation 13 thus rtd actually bath temperature temperature . must find rtd resistance equation 9 thus bridge null . range effective range rtds principally depends type wire used active element . thus typical platinum rtd may range whereas rtd constructed nickel might typically specified range . 4 thermistors thermistor represents another class temperature sensor measures temperature changes material resistance . characteristics devices differ ent rtds depend peculiar behavior semiconductor resistance versus temperature . 4.1 semiconductor resistance versus temperature contrast metals electrons semiconductor materials bound molecule sufficient strength conduction electrons contributed valence band conduction band . say gap energy exists valence conduction electrons shown figure 1b . material behaves insu lator conduction electrons carry current material . true thermal energy present samplethat temper ature 0 k. temperature material increased molecules begin vibrate . case semiconductor vibration provides additional energy valence electrons . energy equals exceeds gap energy electrons become free molecules . thus electron conduc tion band free carry current bulk material . tempera ture increased electrons gain sufficient energy enter conduction band . clear semiconductor becomes better conductor wg wg 300c 180 650c 100 r3 454.5 r 454.5 r 5001 0.0051.8 20 1.8c 0c 0.054 0.030 1.8c p 0.0112450 0.054 w thermal sensors 203 figure 5 thermistor resistance versus temperature highly nonlinear usually negative slope . current temperature increasedthat resistance decreases . dis cussion form picture resistance semiconductor material decreasing large values low temperature smaller resistance high temperature . opposite metal . important distinction however change semiconductor resistance highly nonlinear shown figure 5. reason semi conductors insulators materials behave way energy gap conduction valence bands small enough allow thermal excitation electrons across gap . important note effect described requires thermal energy provide sufficient energy overcome band gap energy . gen eral material classified semiconductor gap energy typically . true exemplified consideration silicon semiconductor band gap . heated mate rial passes insulator conductor . corresponding thermal energies bring found using equation 5 joulestoev conversion thus average thermal energies high 0.039 ev sufficient numbers electrons raised conduction level material become conductor . true insulators gap energy large temperatures less destructive material pro vide sufficient energy overcome gap energy . 300 k wth 0.039 ev 100 k wth 0.013 ev 0 k wth 0.0 ev wg 1.107 ev 0.01 4 ev1 ev 1.6 1019j wg 20 0 20 40 60 80 100 35 40 30 25 20 15 10 5 0 resistance k temperature c thermal sensors 204 4.2 thermistor characteristics thermistor temperature sensor developed principles dis cussed regarding semiconductor resistance change temperature . particular semi conductor material used varies widely accommodate temperature ranges sensitivity resistance ranges factors . devices usually massproduced particu lar configuration tables graphs resistance versus temperature provided cal ibration . variation individual units nominal values indicated net percentage deviation percentage deviation function temperature . sensitivity sensitivity thermistors significant factor appli cation . changes resistance 10 per uncommon . thus thermistor nominal resistance temperature may change change temperature . used nulldetecting bridge circuits sensitivity large provide control principle less temperature . construction thermistor bulk semiconductor fabricated many forms . thus common forms include discs beads rods varying size bead 1 mm diameter disc several centimeters diameter several centimeters thick . variation doping use different semiconducting materials manufacturer provide wide range resistance values particular temperature . range temperature range thermistors depends materials used con struct sensor . general three range limitation effects 1 melting deterio ration semiconductor 2 deterioration encapsulation material 3 insensitivity higher temperatures . semiconductor material may melt otherwise deteriorate temperature raised . condition generally limits upper temperature less . low end principal limitation thermistor resistance becomes high making practical applications difficult . thermistor shown figure 5 ex tended lower limit resistance risen ! gen erally lower limit . cases thermistor encapsulated plastic epoxy teflon inert material . protects thermistor environment . material may place upper limit temperature sensor used . higher temperatures slope rt curve thermistor goes zero . device unable measure temperature effectively little change sistance occurs . see occurring thermistor resistance versus temperature curve figure 5. response time response time thermistor depends principally quantity material present environment . thus smallest bead thermistors oil bath good thermal contact response 12 typical . thermistor still air respond typical response time 10 s. encapsulated teflon materials protection hostile environment time response increased 100c 50 3 80c ms 300c 1c 1c 1 k 10 k c thermal sensors 205 figure 6 divider circuit example 8. poor thermal contact environment . large disc rod thermistors may response times 10 even good thermal contact . signal conditioning thermistor exhibits large change sistance temperature many possible circuit applications . many cases ever bridge circuit used nonlinear features thermistor make use difficult actual measurement device . devices resistances care must taken ensure power dissipation thermistor exceed limits spec ified even interfere environment temperature measured . dissipation constants quoted thermistors power milliwatts required raise thermistors temperature environment . typical values vary free air 10 mw oil bath . thermistor monitor room temperature . resistance slope . dissipation constant . proposed use thermistor divider figure 6 provide voltage 5.0 v . evaluate effects selfheating . solution easy see design seems work . thermistor resistance divider voltage let us consider effect selfheating . power dissipation thermistor given temperature rise thermistor found equation 13 p pd 7.1 mw 5 mwc 1.42c p v2 rth 52 3.5 k 7.1 mw vd 3.5 k 3.5 k 3.5 k 10 5 v 3.5 k 20c 20c pd 5 mwc 10c 20c 3.5 k c 1 mwc 1c example 8 thermal sensors 206 means thermistor resistance really given divider voltage actually v. actual temperature envi ronment measurement indicates . clearly system unsatisfactory . example shows importance including dissipation effects resistive temperature transducers . real answer problem involves new design duces thermistor current value giving perhaps selfheating . 5 thermocouples previous sections considered change material resistance function temperature . resistance change considered variable parameter property sense measurement resistance thereby temperature requires external power sources . exists another dependence electrical behavior materials temperature forms basis large percentage temperature measurement . effect characterized voltagegenerating sensor electromotive force emf produced proportional temperature . emf found almost linear temperature repeatable constant materials . devices measure temperature basis thermoelectric principle called thermo couples tcs . 5.1 thermoelectric effects basic theory thermocouple effect found consideration electrical thermal transport properties different metals . particular temperature dif ferential maintained across given metal vibration atoms motion electrons affected difference potential exists across material . potential differ ence related fact electrons hotter end material thermal energy cooler end thus tend drift toward cooler end . drift varies different metals temperature differences thermal conductivities . circuit closed connecting ends another conductor current found flow closed loop . proper description effect say emf established circuit causing current flow . figure 7a shows pictorial representation effect called seebeck effect two different metals b used close loop connecting junctions temperatures . could close loop metal potential differences across leg would thus net emf would present . emf produced proportional dif ference temperature two junctions . theoretical treatments problem involve thermal activities two metals . t2 t1 0.1c 20c vd 4.6 3.0 k rth 3.5 k 1.42c0.1c 3.5 k thermal sensors 207 figure 7 seebeck peltier effects refer relation emf temperature twowire system . seebeck effect using solidstate theory aforementioned situation may alyzed show emf given integral temperature equation describes seebeck effect shows emf produced proportional difference temperature difference metallic qa qb thermal transport constants two metals t1 t2 junction temperatures k e emf produced volts e 2 t2 t1 qa qb dt thermal sensors 208 thermal transport constants . thus metals emf zero tem peratures emf also zero . practice found two constants nearly independent temperature approximate linear relationship exists however small finite temperature dependence necessary ac curate considerations . find seebeck emf material junction temperatures . solution emf found peltier effect interesting sometimes useful extension ther moelectric properties occurs reverse seebeck effect considered . case construct closed loop two different metals b . ever external voltage applied system cause current flow circuit shown figure 7b . different electrothermal transport properties metals found one junctions heated cooled device refrigerator ! process referred peltier effect . prac tical applications device cooling small electronic parts employed . 5.2 thermocouple characteristics use seebeck effect basis temperature sensor need establish definite relationship measured emf thermocouple unknown temperature . see first one temperature must already known seebeck voltage pro portional difference junction temperatures . furthermore every connection different metals made thermocouple loop measuring devices extension leads contribute emf depending difference metals various junction tem peratures . provide output definite respect temperature measured arrangement shown figure 8a used . shows measurement junc tion exposed environment whose temperature measured . junction tm e 4 mv e 50 vc 100c 20c e t2 t1 100c 20c 50 vc qb qa t1 t2 junction temperatures k constant vk e t2 t1 qb qa example 9 thermal sensors 209 figure 8 practical measurements thermocouple system often employ extension wires move reference secure location . formed metals b shown . two junctions formed common metal c connects measurement apparatus . reference junctions held common known temperature reference junction temperature . emf measured problems voltage drops across resistive elements loop must con sidered . arrangement opencircuit voltage measured high impedance function temperature difference type metals b. voltage produced magnitude dependent absolute magnitude tempera ture difference polarity dependent temperature larger reference mea surement junction . thus necessary measurement junction higher temperature reference junctions magnitude sign measured volt age must noted . use thermocouple measure temperature reference temperature must known reference junctions must held temperature . tempera ture constant least vary much . industrial environments would difficult achieve measurement junction reference junction close . possible move reference junctions remote location without upsetting measurement process use extension wires shown figure 8b . junction formed measurement system wires type thermocouple . wires may stranded different gauges must type metal thermocouple . extension wires run significant distance actual reference junctions . thermocouple types certain standard configurations thermocouples using specific metals alloys metals adopted given letter designations ex amples shown table 2. type particular features range linear ity inertness hostile environments sensitivity chosen specific applications accordingly . type various sizes conductors may employed specific cases oven measurements highly localized measurements . curves voltage versus temperature figure 9 shown reference temperature tm tr tr thermal sensors 210 table 2 standard thermocouples type materialsa normal range j ironconstantanb copperconstantan k chromelalumel e chromelconstantan 90 platinum rhodiumplatinum r 87 platinum rhodiumplatinum afirst material positive measurement temperature reference temperature . bconstantan chromel alumel registered trade names alloys . 1482c 0c 13 1482c 0c 10 1260c 100c 1260c 190c 371c 200c 760c 190c j k temperature c tc output mv 10 150 0 150 300 450 600 750 900 1050 1200 1350 1500 1650 1800 0 10 20 30 40 50 60 figure 9 curves thermocouple voltage versus temperature reference show different sensitivities nonlinearities three types . 0c several types thermocouples . wish note several important features curves . first see type j k thermocouples noted rather large slope high sensitivitymaking measurements easier given change tem perature . note type thermocouple much less slope appropriately less sensitive . significant advantages much larger possible range measurement including high temperatures highly inert material . another 0c thermal sensors 211 important feature curves exactly linear . take advantage herent accuracy possible devices comprehensive tables voltage versus temperature determined many types thermocouples . thermocouple polarity voltage produced tc differential sense measured two metal wires . noted footnote table 2 convention description tc identifies polarity interpreted . type j thermocouple called ironconstantan . means reference temperature less measurement junction temperature iron positive constantan . thus type j reference produce mv measurement junction meaning iron positive constantan . mea surement junction polarity changes voltage mv meaning iron less positive constantan . thermocouple tables thermocouple tables simply give voltage sults particular type thermocouple reference junctions particular reference temperature measurement junction temperature interest . refer ring tables example see type j thermocouple reference voltage conversely measure voltage 4.768 mv type reference find table cases measured voltage fall exactly table value . hap pens necessary interpolate table values bracket desired value . general value temperature found using following interpolation equation 14 measured voltage lies higher voltage lower voltage tables . temperatures corresponding voltages spectively shown example 10. voltage 23.72 mv measured type k thermocouple reference . find temperature measurement junction . solution table find lies mv mv corresponding temperatures respectively . junc tion temperature found equation 14 th 575c tl 570c vh 23.84 vl 23.63 vm 23.72 0c tl th vl vh vm tm tl b th tl vh vl r vm vl t4.768 mv 555c type 0c ref 0c v210c 11.34 mv type j 0c ref 0c 210c 4.63 100c 100c 5.27 0c example 10 thermal sensors 212 reverse situation occurs voltage particular temperature table desired . interpolation equation used 15 terms defined equation 14. find voltage type j thermocouple reference junction temperature . solution let signs bother us merely apply interpolation relation directly . see junction temperature lies high alge low . corresponding voltages mv . tc voltage change table reference already pointed thermocouple tables prepared particular junction temperature . possible use tables tc different reference temperature appropriate shift table scale . key point remember voltage proportional difference tween reference measurement junction temperature . thus new reference greater table reference voltages table less tc . amount less voltage new reference found table . consider type j thermocouple reference . tables show type j thermocouple reference produces 1.54 mv . correction factor applied voltage expected reference . consider temperature . v30c 1.54 mv type j 0c ref v400c 21.85 mv type j 0c ref 400c 30c 30c 0c 30c vm 7.18 mv vm 7.27 mv 0.15 mv 5c 3c vm 7.27 mv 7.12 7.27 170 175 172c 175c vl 7.27 tl 175c 172c 0c vm vl b vh vl th tl r tm tl tm tm 572.1c tm 570c 5c 0.21 0.09 mv tm 570c 575c 570c 23.84 23.63 mv 23.72 mv 23.63 mv example 11 thermal sensors braically th 170c mv vh 7.12 213 figure 10 change reference equivalent sliding tc curve voltage . 20c 0c correction factor subtracted difference less difference voltage depends upon difference . therefore avoid confusion reference tc voltages henceforth represented subscript type reference . thus means type j reference means type j reference . consider couple temperatures verify following last case magnitude voltage larger difference greater difference voltage de pends difference . summary tables tc voltage versus temperature given specific refer ence temperature . tables used relate voltage temperature different reference temperature using voltage correction factor . correction factor simply voltage new reference would produce tables . correction factor algebraically subtracted table values new reference less table refer ence added new reference less table reference . figure 10 illustrates correction process graphically . curve refer ence assumed table values . see reference curve simply reduced everywhere correction voltage 1.02 mv . effect original curve slides 1.02 mv . note simply add subtract new reference temperature cor rection factor . correction always applied voltages . type j thermocouple reference used measure oven temperature . output voltages correspond temperatures ? 400c 300 25c 20c 0c 0c 90c 30c 90c vj3090c 4.21 1.54 5.75 mv vj30150c 8.00 1.54 6.46 mv 30c vj30 0c vj0 v400c 20.31 mv type j 30c ref 0c 400 30c 400 example 12 thermal sensors 214 solution since reference correction factor must applied table voltages . correction factor simply table voltage temperature refer ence . table find correction factor . tables find voltages since reference actually closer temperatures table reference expect voltages smaller . therefore correction factor subtracted find actual voltages type k thermocouple reference produces voltage 35.56 mv . temperature ? solution first reference temperature must converted celsius . get mv need determine temperature . voltage correction factor determined using tables interpolation . refer ence falls since reference greater table reference would expect table voltages larger temperature . thus correction added measured voltage tables voltage lies 36.35 mv 36.55 mv . using interpolation correction factors minor adjustments . last example ignored correction factor used 35.56 mv directly tables erroneously indicated temperature would 28.8c error . 850.5c 875 880 875 36.55 36.35 36.52 36.35 879.3c 880c 875c vk0t 35.56 0.96 36.52 mv vk023.9c 0.8 1.00 0.80 25 20 23.9 20 0.96 mv 25c 20 0c vk23.9 35.56 23.9c tc 575 329 75f vj25400c 21.85 1.28 mv 20.57 mv vj25300c 16.33 1.28 mv 15.05 mv vj0400c 21.85 mv vj0300c 16.33 mv 400c 300 vj025c 1.28 mv 25c 0c example 13 thermal sensors 215 5.3 thermocouple sensors use thermocouple temperature sensor evolved elementary process crudely prepared thermocouple constituents precise exacting technique . sensitivity review tables shows range thermocouple voltages typically less 100 mv . actual sensitivity strongly depends type signal conditioning employed tc . see figure 9 following worst best case sensitivity type j typical type typical construction thermocouple course simply welded even twisted junction two metals many cases construction . cases however tc sheathed protective covering even sealed glass protect unit hostile environment . size tc wire deter mined application range 10 wire rugged environments fine 30 awg wires even 0.02mm microwire refined biological measurements temperature . range thermocouple temperature sensor greatest range types considered . generalpurpose type j thermocouple usable . type usable . special types ranges . time response thermocouple time response simply related size wire protective material used sensor . time response equates long takes tc system reach thermal equilibrium environment . large industrial tcs using thick wire encased stainless steel sheathing may time constants high 10 20 s. however tc made smallgauge wire time constant small 10 20 ms. often time constant specified conditions good thermal contact poor thermal contact well account environment . signal conditioning key element use thermocouples output voltage small typically less 50 mv . means considerable plification necessary practical application . addition small signal levels make devices susceptible electrical noise . cases thermocouple used highgain differential amplifier . reference compensation problem practical use thermocouples necessity knowing reference temperature . tc voltage proportional difference measurement reference junction temperatures variations 1765c 745c 150 0.006 mvc 0.05 mvc thermal sensors 216 figure 11 automatic reference correction common tc systems . frequently thermistors solidstate temperature sensors used reference measurement . reference temperature show direct errors measurement temperature de termination . following techniques employed reference junction compensation 1. controlled temperature reference block cases particularly many thermocouples use extension wires bring reference junctions temperaturecontrolled box control room . local control system maintains box precisely controlled temperature reference regulated . readouts temperature tc voltage take account known reference temperature . 2. reference compensation circuits modern approach reference correction supplied specialized integrated circuits ics add subtract cor rection factor directly tc output . ics called cold junc tion compensators ice point compensators actually temperature sensors measure reference junction temperature . ics include cir cuitry provides scaled correction voltage depending type tc ing used . figure 11 shows block diagram compensator used . actual reference junctions connection ic ic temper ature reference temperature . 3. software reference correction computerbased measurement systems reference junction temperature measured precision thermistor ic temperature sensor provided input computer . software routines provide necessary corrections thermocouple temperature signal also input computer . noise perhaps biggest obstacle use thermocouples temperature measurement industry susceptibility electrical noise . first voltages gener ated generally less 50 mv often 2 3 mv industrial envi ronment common hundreds millivolts electrical noise generated large electrical machines electrical system . second thermocouple constitutes excel lent antenna pickup noise electromagnetic radiation radio tv thermal sensors 217 figure 12 since tc voltages small great care must taken protect electrical noise using shielding twisting differential amplification . microwave bands . short bare thermocouple may many times noise temperature signal given time . use thermocouples effectively industry number noise reduction techniques employed . following three popular 1. extension lead wires thermocouple reference junction measurement system twisted wrapped grounded foil sheath . 2. measurement junction grounded point measurement . grounding typically inside stainless steel sheath covers ac tual thermocouple . 3. instrumentation amplifier excellent commonmode rejection em ployed measurement . figure 12 shows typical arrangement measurement thermocouple . note junction grounded stainless steel sheath . differential plifier must good commonmode rejection aid noiserejection process . advantage grounding measurement junction noise voltage distributed equally wire tc . differential amplifier least partially cancel noise voltage lines subtracted . twisting done decouple wires induced voltages varying electric magnetic fields permeate environment . principle equal voltages induced loop twisted wires opposite phase cancel . 6 thermal sensors sensors discussed earlier cover large fraction temperature measurement tech niques used process control . remain however numerous devices meth ods temperature measurement may encountered . pyrometric methods involve measurement temperature electromagnetic radiation emitted proportion temperature . thermal sensors 218 figure 13 solid object experiences physical expansion proportion temperature . effect highly exaggerated . 6.1 bimetal strips type temperature sensor characteristics relatively inaccurate hav ing hysteresis relatively slow time response low cost . devices used numerous applications particularly onoff cycle rather smooth continuous control desired . thermal expansion seen greater thermal energy causes mole cules solid execute greateramplitude higherfrequency vibrations average positions . natural expect expansion volume solid would accompany effect molecules tend occupy volume average vibrations . effect varies degree material material many fac tors including molecular size weight lattice structure others . although one speak volume expansion described common consider length expan sion dealing solids particularly configuration rod beam . thus rod length temperature shown figure 13 temperature raised new value rod found new length l given 16 linear thermal expansion coefficient appropriate material rod produced . several different expansion coefficients given table 3. t0 l l01 t0 l0 table 3 thermal expansion coefficients material expansion coefficient aluminum copper steel berylliumcopper 9.3 106c 6.7 106c 16.6 106c 25 106c thermal sensors 219 figure 14 bimetal strip curve exposed temperature change different thermal expansion coefficients . metal thickness exaggerated view . bimetallic sensor thermal sensor exploiting effect discussed previously occurs two materials grossly different thermal expansion coefficients bonded together . thus heated different expansion rates cause assembly curve shown figure 14. effect used close switch contacts actuate onoff mech anism temperature increases appropriate setpoint . effect also used temperature indicators means assemblages convert curvature dial rotation . much aluminum rod 10m length expand temperature changed ? solution first find length find difference . using equation 16 get thus expansion 6.2 gas thermometers operational principle gas thermometer based basic law gases . par ticular gas kept container constant volume pressure temperature vary ratio gas pressure temperature constant 17 p1 t1 p2 t2 l2 l1 0.025 25 mm l2 10.02 l2 10 m1 2.5 105c 100c 20c 100c l1 9.995 l1 10 m1 2.5 105c 0c 20c 0c 100c 0c 100c 0 20c example 14 thermal sensors 220 gas closed volume pressure 120 psi temperature . pressure ? solution first convert temperature absolute scale kelvin using equation 2. get 293.15 k 373.15 k. use equation 17 find pressure state 2. gas thermometer converts temperature information directly pressure signals particularly useful pneumatic systems . transducers also advanta geous moving parts electrical stimulation necessary . elec tronic analog digital processcontrol applications however necessary devise systems converting pressure electrical signals . type sensor often used bourdon tubes produce directindicating temperature meters recorders . gas commonly employed nitrogen . time response slow relation electrical de vices greater mass must heated . 6.3 vaporpressure thermometers vaporpressure thermometer converts temperature information pressure gas thermometer operates different process . closed vessel partially filled liquid space liquid consist evaporated vapor liquid pressure depends temperature . temperature raised liquid va porize pressure increase . decrease temperature result condensation vapor pressure decrease . thus vapor pressure depends tem perature . different materials different curves pressure versus temperature simple equation like gas thermometer . figure 15 shows curve vapor pressure versus temperature methyl chloride often employed sensors . pressure available substantial temperature rises . case gas ther mometers range great response time slow 20 liq uid vessel must heated . two methyl chloride vaporpressure temperature sensors used measure tem perature difference two reaction vessels . nominal temperature . find pressure difference per degree celsius graph figure 15 . 85c 85c p2 153 psi p2 373.15 293.15 120 psi p2 t2 t1 p1 100c 20c p2 t2 absolute pressure temperature state 2 p1 t1 absolute pressure temperature k state 1 example 15 example 16 thermal sensors 221 figure 15 vaporpressure curve methyl chloride . solution estimating slope graph vicinity . let us find slope 6.4 liquidexpansion thermometers solid experiences expansion dimension temperature liquid also shows expansion volume temperature . effect forms basis traditional liquid inglass thermometer common temperature measurement . relationship governs operation device 18 temperature temperature thermal expansion coefficient actual practice expansion effects glass container must accounted ob tain high accuracy temperature indications . type temperature sensor com monly used processcontrol work transduction necessary convert indicated temperature electrical signal . volume t0 t0 vt0 volume vt volume vt vt01 p 8 psic p 400 320 psi 90 80c 90c 80c 85c 0 20 40 60 80 100 350 400 300 250 200 150 100 50 vapor pressure psi temperature c thermal sensors 222 6.5 solidstate temperature sensors many integrated circuit manufacturers market solidstate temperature sensors consumer industrial applications . devices offer voltages vary linearly temperature specified range . function exploiting temperature sensitiv ity doped semiconductor devices diodes transistors . one common version essentially zener diode zener voltage increases linearly temperature . operating temperature sensors typically range . time constant good thermal contact varies range 1 5 seconds whereas poor thermal contact may increase 60 seconds . dissipation constant range 2 depending case conditions heat sinking . one simplest forms solidstate temperature sensor operates electrically like zener diode zener voltage depends upon temperature . generally voltage de pends upon absolute temperature linear way . figure 16 shows temperature sensor connected provide output voltage depends upon temperature . lets assume typical transfer function 12 mvk example . therefore nominal room temperature absolute temperature 293 k sensor output voltage would 3.516 v. generally devices accuracy better often cali brated provide even better accuracy . selfheating must considered dissipate power given zener voltage times operating current . example figure 16 see zener current current 2.9 power dissipated zener still air dissipation constant typically could selfheating error . clearly try operate sensor low current avoid errors . example change resistor show selfheating reduced . sensors easy interface control systems computers coming popular measurements within somewhat limited range offer . im portant application provide automatic reference temperature compensation 0.5c 2000 2c 5 mwc 0.0029 3.516 v 10.2 mw 5 3.516 v 510 0.0029 1c 21c 20 mwc 150c 50 figure 16 solidstate temperature sensors operate like zener diode whose voltage depends upon temperature . thermal sensors 223 thermocouples . provided connecting sensor reference junction block tc providing signal conditioning reference corrections automat ically provided tc output . following example illustrates typical application . type j thermocouple used measurement system must provide output 2.00 v . solidstate temperaturesensor system used provide refer ence temperature correction . sensor three terminals supply voltage output volt age ground . output voltage varies . solution type j thermocouple reference output 10.78 mv . therefore overall gain required compensation sensor physically connected reference block tc . tables show type j thermocouple slope approximately . thus output sensor temperature times larger required correction . provide correction amplifying tc output gain 160 adding sensor reference correction . make rest required gain 185.5 need amplifier gain . output equation given circuit use two differential amplifiers one tc gain 160 add correction voltage provide gain 1.159. must careful get polarities correct correction factor added . figure 17 tc differential amplifier output 160vtc since iron connected verting side amplifier . fed inverting side second differential plifier net effect provides positive gain . see well works consider three cases . sup pose actual reference temperature . following table shows 1 expected output voltage reference 2 compensation circuit output reference determined circuit figure 17 preceding equation 3 percent difference . difference 50 2.58 mv 0.479 v 0.475 v 100 5.27 mv 0.976 v 0.974 v 150 8.00 mv 1.484 v 1.480 v 200 10.78 mv 1.999 v 1.995 v see compensated output differs output expected actual reference less 1. example illustrates great success using solid state temperature sensors reference correction using thermocouples . 0c 0.2 0.3 0.2 0.8 vout20c vout0c vtc0c tc 20c 0c 20c 200c 150c 50c vout 1.159160vtc vc 185.5160 1.159 50 vc 160 8 mvc 50 vc 2.00 v0.01078 185.5 200c 0c 8 mvc vt vs 200c example 17 thermal sensors 224 figure 17 one possible solution example 17 . 7 design considerations design overall processcontrol systems specific requirements set element system . design elements constitutes subsystems involves careful matching elemental characteristics overall system design requirements . even design monitoring systems integration subsystems required necessary match transducer mea surement environment required output signal . keeping consid erations treat temperature transducer design procedures following steps 1. identify nature measurement includes nominal value range temperature measurement physical conditions environ ment measurement made required speed measurement features must considered . 2. identify required output signal applications output ei ther standard 4 20ma current voltage scaled represent range temperature measurement . may requirements related isolation output impedance factors . cases spe cific digital encoding output may specified . 3. select appropriate sensor based primarily results first step sensor matches specifications range environment forth selected . extent factors cost availability impor tant selection sensor . requirements output signals also enter selection lower significance signal conditioning generally provides required signal transformations . 4. design required signal conditioning using signalconditioning tech niques treated previously direct transduction temperature converted required output signal . specific type signal conditioning depends course type sensor employed well nature spec ified output signal characteristics . one form another steps required temperature sensor applica tion although necessarily performed sequence indicated . primary 11.59 k 11.59 k 10 k 10 k 320 k 320 k 8 mvc 2 k 2 k vs fe tr thermal sensors 225 concern enable reader sensor selection signal conditioning associated particular requirement . particular situation thermal sensor required unique design fit application . fact many different designs pos sible one must adjust thinking searching solution searching solution design problem . solution arrangement satisfies spec ified requirements problem . following examples illustrate several problems ther mal design typical solutions . develop system turns alarm led temperature chamber reaches . temperature drops led turned . temperature sensor use thermistor 10 k 10c slope 10c 0.5c . dissipation constant 5 mwc . solution looks like natural hysteresis comparator . need develop measurement give voltage rises temperature trigger comparator allow hysteresis leave temperature falls . work three significant figures . thermistor nonlinearity matter interested two specific values temperatureresistance . thermistor resistances . requirement means selfheating must kept sure let us use . dissipation constant thermis tor given determine maximum allowable power dissipated transducer equation 13 represents maximum current since maximum use . convert resistance varia tion voltage variation using divider one shown figure 4 feed divider voltage hysteresis comparator . common supply using use thermistor increase decreasing resistance increasing temperature . determined requiring current 0.35 . thus voltage dropped across thermistor therefore value simply use since common fixedresistance value . two voltages interest divider 8c vd 1.41 v 10c vd 1.50 v 4.3 k r2 vi 5 3.50.35 4.28 k r2 vth ir1 0.35 10 k 3.5 v 10c r2 vd r1 vs 5 v 0.35 0.354 pr12 1.25 mw10 k12 10c p 1.25 mw p pdt 5 mwc 0.25c 5 mwc 0.25c 0.5c 0.5c 8c 11 k 10c 10 k 8c 10c 8c 10 0.5c example 18 thermal sensors 226 difference 0.09 v must required hysteresis voltage . assuming comparator output 5.0 v high state ratio input feedback resistance found . pick . final design shown figure 18. reference voltage achieved divider trimmer resistor . usual many designs possible . figure 19 shows industrial process . vapor flows chamber containing liq uid . control system regulate vapor temperature measurement must provided convert 0 2.0 v. error exceed . liquid level rises tip transducer temperature rise suddenly . event cause alarm comparator output go high . solution example midrange temperature measurement . let us use rtd output range substantially linear . specifications three resistances interest . linear rtd rela tion resistance equation 9 find 100c rtd 1501 0.004100 65 171 80c rtd 1501 0.00480 65 159 50c rtd 1501 0.00450 65 141 100c 80c 50c pd 30 mwc 65c 0.004c r 65c 150 30 100c 1c 80c 50 100c r 9 k rf 500 k rrf 0.018 rrf 5.0 v 0.09 v vref 1.50 v figure 18 circuit solution example 18. trimmer resistors used obtain nonstandard resistance values . 500 k 200 2.33 k 1 k 4.3 k 9 k rt c 5 v led example 19 thermal sensors 227 figure 19 vapor temperaturecontrol process example 19. error selfheating find maximum current rtd . maximum power found equation 13 maximum current although op amp could used let us place rtd bridge circuit use set voltage measurement . small range resistance cause appreciable nonlinear effects bridge nulled simplify signal conditioning . bridge excited 5.0v source value common . use rtd . value determined requirement current 13.7 . voltage across rtd therefore found let us use standard value ensure current low error condition satisfied . null bridge make use trimmer set 141. bridge shown figure 20. r3 r1 220 50c r2 220 r2 5 2.1713.7 206.5 r2 v ir 13.7 159 2.17 v 80c r2 r4 50c 13.7 pr12 30 mw159 12 p pdt 30 mwc 1c 30 mw 1c thermal sensors 228 need amplifier boost voltage 2.0 v. required gain . also 5v source used bridge ground referenced must use differential amplifier bridge offset voltage . figure 20 shows required amplifier gain . comparator reference voltage . temperature plating operation must measured control within range . develop measuring system scales temperature 0 5 v input 8bit adc computer control system measurement must within . 1f 600f 500 vref 13.80.2338 3.23 v 20.1447 13.8 80c v 0.2338 v 100c v 5 171 220 171 5 141 220 141 v 0.1447 v 80c v 5 159 220 159 5 141 220 141 v 0 designed 50c v 5 141 220 141 5 141 220 141 figure 20 one possible solution example 19. example 20 thermal sensors 229 figure 21 one possible solution example 20. solution given temperature range corresponds . high temperature use type j thermocouple although platinum rtd could also used . reference assumed satisfy required measurement ac curacy . supplied commercial reference correction circuit mea suring reference input computer software adjustment . reference type j tables interpolation used find volt ages thermocouple signal conditioning developed first finding equation final output input . using two conditions find values . gain high single amplifier anyway need differential amplifier front end thermocouple . let us use differential amplifier gain 100 produce intermediate voltage . equation becomes simply differential amplifier . must careful get polarities correct . instance chose hook thermocouple first differential amplifier output negative i.e . 100 vtc . hooking second differential amplifier connect inverting side 1.29 v divider non inverting side . net result required equation . circuit shown figure vadc 16.34v1 1.29 vadc 16.34v1 21 v1 100vj25 v0 21 1634 5 m0.01590 v0 0 m0.01284 v0 vadc mvj25 v0 315.6c vj25 15.90 mv 260c vj25 12.84 mv 25c 25 0.5c 315.6c 260 16.34 k 16.34 k 10 k 10 k 100 295 200 5.1 v 15 v 1.29 v 200 k 200 k 2 k 2 k fe tr thermal sensors 230 21. think design could improved terms reference cor rection . reference changed 20c example circuit output would longer satisfy specification . summary 1. measurement control temperature plays important role process control industry . class sensors performs measurement consists primarily three types 1 resistancetemperature detector rtd 2 thermistor 3 thermocouple . chapter basic operating principles application formation provided sensors . several sensors briefly described . 2. concept temperature contained representation bodys thermal en ergy average thermal energy per molecule expressed units degrees tem perature . four units temperature common use . two scales called absolute indication zero units corresponds zero thermal energy . scales designated kelvin k degrees rankine differ amount energy represented unit . amount energy repre sented 1 k corresponds . thus transform temperatures using 1 3. two scales called relative zero occur zero thermal energy . celsius scale corresponds degree size kelvin shift zero 2 4. similar fashion fahrenheit rankine scales related 3 5. rtd sensor depends increase metallic resistance tempera ture . increase nearly linear analytical approximations used ex press resistance versus temperature either linear equation 9 quadratic relationship 12 6. greater degree accuracy desired tables graphs resistance versus tem perature used . small fractional change resistance tempera ture rtd usually used bridge circuit highgain null detector . 7. thermistor based decrease semiconductor resistance tempera ture . device highly nonlinear resistance versus temperature curve typically used analytical approximations . transducers exhibit large change resistance temperature hence make sensitive rt rt01 1t 2t2 rt rt01 0t tf tr 459.6 f tc tk 273.15 c tk 5 9 tr 95r r thermal sensors 231 temperaturechange detectors . many circuit configurations used including bridges operational amplifiers . 8. thermocouple junction dissimilar metal wires usually joined third metal wire two reference junctions.avoltage developed across common metal wires proportional almost linearly difference temperature measurement reference junctions . extensive tables temperature versus voltage numerous types tcs using standard metals alloys allow accurate deter mination temperature reference junctions . voltage must measured high impedance avoid loading effects measured voltage . thus potentiomet ric operational amplifiers highimpedance techniques employed signal conditioning . 9. bimetal strip converts temperature physical motion metal elements . flexing used close switches cause dial indications . 10. gas vaporpressure temperature sensors convert temperature gas pressure converted electrical signal used directly pneumatic systems . problems section 1 1 convert k . 2 convert k. 3 convert k . 4 process temperature found change . calculate change . hint change temperature involve scale shift . 5 sample hydrogen gas temperature . calculate average mo lecular speed ms. express also fts . note gaseous hydrogen exists molecule mass . 6 temperature controlled range . expressed ? section 2 7 rtd . find resistance . 8 rtd problem 7 used bridge circuit figure 4. supply voltage 10.0 v calculate voltage detector must able resolve order resolve change temperature . 9 use values rtd resistance versus temperature shown table find equations linear quadratic approximations resistance . assume . error percent table resis tance values determined two approximations ? t0 115c 130c 100c 1.0c r3 100 r1 r2 25c 20c r 106 20c 0.004c f 550c 350 3.3 1027 kg h2 500c c 33.4f f 150c r c 222f c f 453.1r thermal sensors 232 90.0 562.66 95.0 568.03 100.0 573.40 105.0 578.77 110.0 584.13 115.0 589.48 120.0 594.84 125.0 600.18 130.0 605.52 10 suppose rtd problem 7 dissipation constant used circuit puts 8 sensor . rtd placed bath resistance rtd ? indicated temperature ? section 4 11 problem 8 rtd replaced thermistor r versus near . calculate voltage resolution detector needed resolve change temperature . 12 modify divider example 8 selfheating reduced . divider voltage ? divider voltage ? 13 thermistor figure 5 used shown figure 22 convert temperature voltage . plot versus temperature . result linear ? maximum selfheating ? section 5 14 type j thermocouple measures 22.5 mv reference . junction temperature ? 15 atype thermocouple reference measures 12.120 mv . junc tion temperature ? 16 type j thermocouple measure reference voltage produced ? 17 type k thermocouple reference monitor oven temperature . a. voltage would expected ? b. extension wires 1000ft length used connect measurement site . determine minimum voltage measurement input impedance error within 0.2 . 0.01 ft 300c 0c 10c 500c 21c 0c pd 5 mwc 80c 0 vout 21c 19c 20c 0.1c 1.0c 20c 10c r20c 100 100c 25 mwc r tc figure 22 circuit problem 13. thermal sensors 233 18 need get 1.5 v candle flame . many type k ther mocouples required series reference assumed nominal room temperature ? section 6 19 thermoelectric switch composed copper rod 10 cm long touch electrical contact temperature . distance tween rod end contact ? 20 gas thermometer pressure 125 kpa 215 kpa unknown temperature . determine temperature . 21 methyl chloride vaporpressure thermometer used . pressure range corresponds temperature range ? 22 find linear approximation methyl chloride pressure versus temperature . find maximum error approximation actual pres sure range . section 7 23 using rtd design bridge op amp system provide 0.0 10.0v output temperature variation . rtd dissipation constant . maximum selfheating 0.05c . 24 type k thermocouple reference used measure temperature tween . devise system convert temperature range 8bit digital word conversion 00h 01h change feh ffh occurring . adc available 2.500vinternal reference . 25 solve example 19 using type k thermocouple reference compensated . 26 solve example 20 using rtd . dissipation constant . 27 commissioned design thermistorbased digital temperature measurement system . adc 5.00v reference 8 bits . thermistor specifications slope . design made gives adc output 5ah gives 6eh . 28 solve example 19 using rtd feedback element inverting ampli fier instead using bridge circuit . 29 type k thermocouple measurement system must provide output 0 2.5 v temperature variation . athreeterminal solidstate sensor used provide reference compensation . develop complete circuit . 30 calibrated rtd used measure critical reaction temperature . temperature must measured resolution least . de vise signalconditioning system provide appropriate digital output computer . specify requirements adc appropriate analog signal con ditioning interface adc . 0.1c 100c 50 30 mwc pd 20c r 306.5 0.0041c 12 mvc 700c 500 11010 110f 9010 90f 8 c 110f 90f pd 5 mwc 90f r 5.00 k 25 mwc 260c 0.003c r 500 0c 350c 200c 350c 200c 0c 28 mwc 100c 20 20c r 100 0.0034c 90c 70 200f 70f c 0c 20c 150c 20c 70f 700c thermal sensors 234 supplementary problems s1 figure 23 shows system proposed power radio heat portable lantern . eight wings shield around lantern flame . wing type j thermocouples facing flame cold junctions outer edge wings . radio base requires minimum 5.0 v 50 op erate . following assumptions made 1 thermocouple segment resistance 2 flame heat thermocouple junction least nominal room temperature . a. determine many thermocouples required distributed wings . sure consider internal resistance thermocouples . b. maximum power delivered load ? c. cold winter night ambient temperature drop . hot junctions still effect voltage applied radio ? s2 rtd used measure temperature hot gas flowing pipe . dissipation constant time constant 5.5 s. normal gas temperature range . a. design system temperature variation converted voltage . keep selfheating 0.5c . b. occasionally turbulent shock wave propagate pipe causing sudden reduction temperature less . devise comparator alarm signal event within 3 dropping . 100c 50c 2.0 v 2.0 220c 100 25 mwc 25c r 300 0.0035c 300c 10c 400c 300c 25c 300c 0.05 figure 23 electrical power lantern flame using thermocouples . see problem s1 . thermal sensors 235 figure 24 use thermistors measurement wind speed problem s3 . s3 airflow speed measured comparing temperatures shielded ther mistor one exposed moving air . adiagram sensor shown figure 24. thermistors used bridge operated ele vated nowind temperature using selfheating . wind blows ex posed sensor cool . experimentally found temperature difference thermistors shown following table winds 0 60 mph . design bridge op amp system provide 0.0 v wind 0 mph 6.0 v wind 60 mph voltage indicates speed directly . condi tions 1 thermistors resistance slope within dissipation constant 2 use 20v supply voltage bridge 3 assume ambient temperature . speed mph bridge 0 0 0.0 10 20 30 40 50 60 6.0 a. complete table design results . b. prepare graph output voltage versus wind speed . c. greatest error voltageindicated wind speed actual speed ? error ? 7.7 7.1 6.3 5.5 4.5 3.0 voutv vv r tc 21c 5.5 mwc 10c 24 c 45c 2.0 k 45c thermal sensors 236 figure s.24 1 251.7 k 3 423.1 k 5 3114 ms 10217 fts 7 9 . linear error quadratic error . 11 resolution required 263 mv . see figure s.24 nonlinear heating . 15 17 . 12.21 mv b . 0.22 mm 21 64 psi 420 psi 23 see figure s.25 . 25 see figure s.26 . 27 see figure s.27 . 29 see figure s.28 . supplementary problems s1 . 398 thermocouples use 400 50 evenly distributed wing . b. total internal resistance maximum power delivered 20 load 453 mw 846 mw . c. ambient heat voltage rises 5.28 v. 300c 10c 400c 300c 20 9980 1225.25c 0.4c 0.016 0.89 0.00000015t 1152 rt 589.481 0.0018t 115 rt 589.481 0.0018t 115 r 108.1 302f 21.4c 6.5f 13 19 solutions oddnumbered problems thermal sensors 237 figure s.26 s3 a. see figure s.29 circuit . table follows speed mph bridge v v 0 0 0 0 0.0 10 0.112 2.44 20 0.166 3.62 30 0.201 4.38 40 0.228 4.97 50 0.255 5.56 60 0.275 6.00 184.4 7.7 170.4 7.1 151.2 6.3 132 5.5 108 4.5 72 3.0 vout v r tc 167 k 10 k 10 k vout 167 k 100 100 rtd 100 5 v figure s.25 thermal sensors 238 43.8 k 1 k 1 k v 43.8 k 2.678 k 100 100 1400 10 k 15 v 15 v rt figure s.27 figure s.28 b. see figure s.30 . c. greatest error wind speed 10 mph voltage indicates 2.44 v 24.4 mph 146 error . error due nonlinearities windtemperature thermistor resistance versus temperature bridge voltage versus resistance . good sensor . thermal sensors 239 240 mechanical sensors instructional objectives chapter presents various types sensors measurement mechanical phe nomena motion force pressure position . read chapter worked examples problems able describe three types sensors measurement displacement location position . explain operating principle lvdt measuring displacement . calculate strain experienced wire influence force . design application strain gauge measurement stress . explain operation strain gaugebased load cell . describe operating principles springmass accelerometer . explain operating principle diaphragm pressure sensor . describe operating mechanism orifice plate flow sensor . 1 introduction class sensors used measurement mechanical phenomena special sig nificance extensive use devices throughout processcontrol dustry . many instances interrelation exists sensor designed measure mechanical variable used measure another variable . learn use mechanical sensors important understand mechanical phenomena oper ating principles application details sensor . purposes give overview essential features associated variable make reader conversant principal sensors used measure mechanical variables characteristics appropriate application notes . expert understanding phenomenon required effectively employ sensors measurement . chapte5r 55 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 5 process control 241 figure 1 potentiometric displacement sensor . 2 displacement location position sensors measurement displacement position location important topic process industries . examples industrial requirements measure variables many varied required sensors also greatly varied designs . give examples measurement needs 1 location position objects conveyor system 2 ori entation steel plates rolling mill 3 liquidsolid level measurements 4 location position work piece automatic milling operations 5 conversion pressure physical displacement measured indicate pressure . following sections basic principles several common types displacement position location sen sors given . 2.1 potentiometric sensors simplest type displacement sensor involves action displacement moving wiper potentiometer . device converts linear angular motion changing resistance may converted directly voltage andor current signals . potentiometric devices often suffer obvious problems mechanical wear friction wiper action limited resolution wirewound units high electronic noise . figure 1 shows simple mechanical picture potentiometric displacement sensor . see wire wound around form making wirewound resistor fixed resistance r endpoints 1 2. wiper assembly connected way motion arm causes wiper slide across wirewound turns fixed resistor . electrical connection made wiper . therefore arm moves back forth resistance wiper connec tion 3 either fixed resistor connection change proportion motion . figure highly pictorial . actual sensors coil tightly wound fine wire . schematic potentiometric sensor simply threeterminal variable resistor . resolution sensor limited distance individual turns wire resulting resistance change single turn . r x mechanical sensors 242 sensor 510 250 5.1 v 15 v figure 2 circuit example 1. potentiometric displacement sensor used measure workpiece motion 0 10 cm . resistance changes linearly range 0 . develop signal conditioning provide linear 0 10v output . solution key thing lose linearity resistance versus displacement . put varying resistance divider produce varying voltage voltage varies nonlinearly resistance . remember though output voltage invert ing amplifier varies linearly feedback resistance . therefore lets put sensor feedback simple inverting amplifier . would something like get rid pesky negative using vin constant negative voltage say 5.1 volts zener diode . pick r1 give desired output 10 volts 1 k 10 cm r1 510 figure 2 shows circuit . 10 1000 r1 5.1 vout r2 r1 vln 1 k example 1 2.2 capacitive inductive sensors second class sensors displacement measurement involves changes capacity inductance . capacitive basic operation capacitive sensor seen famil iar equation parallelplate capacitor 1 plate separation plate common area e0 permittivity 8.85 pfm k dielectric constant c ke0 mechanical sensors 243 figure 3 capacity varies distance plates common area . effects used sensors . figure 4 capacitivedisplacement sensor example 2. three ways change capacity variation distance plates variation shared area plates variation dielectric con stant k. former two methods shown figure 3. last method illustrated example 4 later . ac bridge circuit active electronic circuit employed con vert capacity change current voltage signal . figure 4 shows capacitivedisplacement sensor designed monitor small changes workpiece position . two metal cylinders separated plastic sheathbearing thickness 1 mm dielectric constant 1 khz 2.5. radius 2.5 cm find sen sitivity pfm upper cylinder slides lower cylinder . range capacity h varies 1.0 2.0 cm ? solution capacity given equation 1. net area area shared cylindrical area radius r height h. thus capacity expressed c 2ke0 rh 2rh example 2 mechanical sensors 244 figure 5 variablereluctance displacement sensor changes inductance coil response core motion . sensitivity respect height h defined c changes h given derivative substituting given values get since function linear respect h find capacity range . inductive permeable core inserted inductor shown figure 5 net inductance increased . every new position core produces different induc tance . fashion inductor movable core assembly may used displace ment sensor . ac bridge active electronic circuit sensitive inductance may employed signal conditioning . 2.3 variablereluctance sensors class variablereluctance displacement sensors differs inductive moving core used vary magnetic flux coupling two coils rather changing individual inductance . devices find application many circum stances measure translational angular displacements . many configura tions device exist common extensively used called linear variable differential transformer lvdt . lvdt lvdt important common sensor displacement measure ment industrial environment . figure 6 shows lvdt consists three coils wire wound hollow form . core permeable material slide freely center form . inner coil primary excited ac source cmax 3475 pfm2 102m 69.50 pf 3475 pfm102m 34.75 pf cmin dc dh 22.58.85 pfm 2.5 102m 103m 3475 pfm dc dh 2ke0 r mechanical sensors 245 figure 6 lvdt movable core three coils shown . figure 7 lvdt secondary voltage amplitude seriesopposition connection varies linearly displacement . shown . flux formed primary linked two secondary coils inducing ac volt age coil . core centrally located assembly voltage induced pri mary equal . core moves one side larger ac voltage induced one coil smaller ac voltage changes flux linkage sociated core . two secondary coils wired series opposition shown figure 6 two voltages subtract differential voltage formed . core centrally located net voltage zero . core moved one side net volt age amplitude increase . addition change phase respect source core moved one side . remarkable result shown figure 7 differential amplitude found increase linearly core moved one side . addition noted phase change core moves central location . thus measurement voltage amplitude phase one determine direction extent core motionthat displacement . mechanical sensors 246 figure 8 simple circuit produces bipolar dc voltage varies core displacement . figure 9 sophisticated lvdt signalconditioning circuit uses phasesensitive detection produce bipolar dc voltage output . turns carefully manufactured lvdt provide output linear within range core motion fine resolution limited primarily ability measure voltage changes . signal conditioning lvdts consists primarily circuits perform phasesensitive detection differential secondary voltage . output thus dc volt age whose amplitude relates extent displacement polarity indicates direction displacement . figure 8 shows simple circuit providing put . important limitation circuit differential secondary voltage must least large forward voltage drop diodes . use op amp detectors alleviate problem . figure 9 shows practical detection scheme typically provided sin gle integrated circuit ic manufactured specifically lvdts . system contains signal generator primary phasesensitive detector psd amplifierfilter circuitry . 0.25 mechanical sensors 247 variety lvdts available linear ranges least cm mm . time response dependent equipment core connected . static transfer function typically given millivolts per millimeter mvmm given primary amplitude . also specified range linearity extent linearity . lvdt maximum core motion cm linearity range . transfer function 23.8 mvmm . used track workpiece motion cm expected output voltage ? uncertainty position deter mination due nonlinearity ? solution using known transfer function output voltages easily found linearity deviation shows deviations transfer function . thus transfer function uncertainty means measured voltage mv could interpreted displacement ranges 23.73 23.87 mm approximately expected . thus sensor output 333 mv nominally 1.4 cm actual core position could range 1.40329 1.39506 cm . 2.4 level sensors measurement solid liquid level calls special class displacement sensors . level measured commonly associated material tank hopper . great variety measurement techniques exist following representative examples show . mechanical one common techniques level measurement partic ularly liquids float allowed ride level changes . float shown figure 10a connected linkages secondary displacement mea suring system potentiometric device lvdt core . electrical several purely electrical methods measuring level . ex ample one may use inherent conductivity liquid solid vary resistance seen probes inserted material . another common technique illustrated figure 10b . case two concentric cylinders contained liquid tank . level liquid partially occupies space cylinders air remaining part . device acts like two capacitors parallel one dielectric constant air 0.3 vm vm vm 0.00323.8 mvmm 0.0714 mvmm v1.4 cm 23.8 mvmm14 mm 333 mv v1.2 cm 23.8 mvmm12 mm 285.6 mv 1.4 1.2 0.3 1.5 1 25 example 3 mechanical sensors 248 figure 10 many levelmeasurement techniques . figure 11 ultrasonic level measurement needs physical contact material transmitter receiver r. liquid . thus variation liquid level causes variation electrical capacity measured cylinders . ultrasonic use ultrasonic reflection measure level favored noninvasive technique involve placing anything material . figure 11 shows external internal techniques . obviously external technique better suited solidmaterial level measurement . cases measurement de pends length time taken reflections ultrasonic pulse surface l 1 mechanical sensors 249 material . ultrasonic techniques based reflection time also become popular ranging measurements . pressure liquid measurement also possible make noncontact mea surement level density liquid known . method based well known relationship pressure bottom tank height density liquid . addressed section 1. level ethyl alcohol measured 0 5 using capacitive system shown figure 10b . following specifications define system find range capacity variation alcohol level varies 0 5 m. solution saw earlier capacity given . therefore need find capacity entire cylinder alcohol multiply 26. thus air ethyl alcohol capacity becomes range 0.0032 . 3 strain sensors although obvious first measurement strain solid objects common process control . reason obvious strain sensors used secondary step sensors measure many process variables including flow pressure weight acceleration . strain measurements used measure pressures million pounds per square inch within living biological systems . first view concept strain related forces produce dis cuss sensors used measure strain . 0.0832 f c 0.0832 f c 260.0032 f c 3196 pf l 0.0032 f c 18.85 pfm1.806 m20.005 2rl 20.0575 m5 1.806 m2 c k0ad l distance along cylinder axis r 5.75 cm average radius plate area 2rl cylinder separation 0.5 cm ethyl alcohol k 26 air k 1 example 4 mechanical sensors 250 3.1 strain stress strain result application forces solid objects . forces defined special way described general term stress . section define stress resulting strain . definition special case exists relation force applied solid object resulting deformation object . solids assemblages atoms atomic spacing adjusted render solid equilibrium external forces acting object . spacing determines physical di mensions solid . applied forces changed object atoms rearrange come equilibrium new set forces . rearrange ment results change physical dimensions referred deformation solid . study phenomenon evolved exact technology . effect applied force referred stress resulting deformation strain . fa cilitate proper analytical treatment subject stress strain carefully de fined emphasize physical properties material stressed specific type stress applied . delineate three common types stressstrain relationships . tensile stressstrain figure 12a nature tensile force shown force applied sample material elongate pull apart sample . case stress defined 2 see units stress si units english units like pressure . lbin.2 nm2 crosssectional area sample m2 f applied force n tensile stress f figure 12 tensile compressional stress defined terms forces applied uniform rod . mechanical sensors 251 strain case defined fractional change length sample 3 strain thus unitless quantity . compressional stressstrain differences compressional tensile stress direction applied force polarity change length . thus compressional stress force presses sample shown figure 12b . compressional stress defined equation 2 4 resulting strain also defined fractional change length equation 3 sample decrease length shear stressstrain figure 13a shows nature shear stress . case force applied couple along line tending shear solid object separates force arms . case stress 5 crosssectional area sheared member m2 f force n shear stress f compressional strain l l compressional stress f l original length . l change length . tensile strain l l figure 13 shear stress defined terms forces acting line couple deform member linking forces . mechanical sensors 252 figure 14 typical stressstrain curve showing linear region necking eventual break . strain case defined fractional change dimension sheared mem ber . shown crosssectional view figure 13b . 6 stressstrain curve specific sample exposed range applied stress resulting strain measured graph similar figure 14 results . graph shows relationship stress strain linear range stress . stress kept within linear region material essentially elastic stress removed deformation also gone . elastic limit exceeded permanent de formation results . material may begin neck location finally break . within linear region specific type material always follow curves de spite different physical dimensions . thus say linearity slope con stant type material . tensile compressional stress constant called modulus elasticity youngs modulus given 7 modulus elasticity units stressthat . table 1 gives mod ulus elasticity several materials . exactly similar fashion shear modulus defined shear stressstrain 8 defined figure 13b units defined equation 7. x stress strain fa xl nm2 e modulus elasticity nm2 strain unitless stress fa nm2 lbin.2 e stress strain fa l width sample x deformation shown figure 13b shear strain x l mechanical sensors 253 table 1 modulus elasticity material modulus aluminum copper steel polyethylene plastic 3.45 108 20.70 1010 11.73 1010 6.89 1010 nm2 example 5 find strain results tensile force 1000 n applied 10m aluminum beam crosssectional area . solution modulus elasticity aluminum found table 1 . equation 7 strain units although strain unitless quantity common practice ex press strain ratio two length units example mm in.in . also strain usually small number micro prefix often included . sense strain 0.001 would expressed . previous ex ample solution stated . general smallest value strain en countered applications . strain unitless quantity necessary unit conversions . strain could also written form even . modern usage often gives strain micros . 3.2 strain gauge principles earlier saw resistance metal sample given 7 r0 l0 a0 153 mfurlongsfurlong 153 min.in . 153 mmm 1 mmm 36.3 mmm 1000 mmm 1000 min.in . 3.63 105 36.3 mm see next paragraph 103n 4 104m26.89 1010nm2 strain f ea e fa e 6.89 1010 nm2 4 104m2 mechanical sensors 254 suppose sample stressed application force f shown figure 12a . know material elongates amount new length . also true stressstrain condition although sample lengthens volume remain nearly constant . volume unstressed follows volume remains constant length increases area must decrease amount 9 length area changed find resistance sample also changed 10 using equations 9 10 reader verify new resistance ap proximately given 11 conclude change resistance 12 equation 12 basic equation underlies use metal strain gauges shows strain converts directly resistance change . find approximate change metal wire resistance 120 results strain . solution find change gauge resistance example 6 shows significant factor regarding strain gauges . change resistance small typical strain values . reason resistance change measurement meth ods used strain gauges must highly sophisticated . r 0.24 r 2120103 r 2r0 l l0 1000 mmm r 2r0 l l0 r l0 a0 a1 2l l0 b r l0 l a0 v l0a0 l0 la0 v l0a0 l l l l a0 crosssectional area m2 l0 length sample resistivity r0 sample resistance example 6 mechanical sensors 255 measurement principles basic technique strain gauge sg measure ment involves attaching gluing metal wire foil element whose strain measured . stress applied element deforms sg material experiences deformation securely attached . strain fractional change length change sg resistance reflects strain gauge element secured . temperature effects temperature compensation effects afore mentioned method sg measurement would useless . see need note metals used sg construction linear temperature coefficients typical metals . temperature changes uncommon measurement conditions industrial environment . temperature change exam ple 6 substantial change resistance would resulted . thus find twice change strain ! obviously tem perature effects mask strain effects trying measure . fortunately able compensate temperature effects shown signalconditioning methods next section . 3.3 metal strain gauges metal sgs devices operate principles discussed earlier . following items important understanding sg applications . gauge factor relation strain resistance change equation 12 approximately true . impurities metal type metal fac tors lead slight corrections . sg specification always indicates correct relation statement gauge factor gf defined 13 strain fractional change length rr fractional change gauge resistance strain gf rr strain rt 0.48 rt0 120 nominal resistance 1c case 0 0.004c case rt resistance change temperature change rt r0 rt rt01 0t 1c 1c 0.004c mechanical sensors 256 figure 15 metal strain gauge composed thin metal deposited pattern backing carrier material . metal gauges number always close 2. special alloys carbon gauges gf may large 10. high gauge factor desirable indicates larger change resistance given strain easier measure . construction strain gauges used two forms wire foil . basic charac teristics type terms resistance change given strain . design sg make long order give large enough nominal resis tance practical make gauge sufficiently fine wire foil sist strain effects . finally gauge sensitivity often made unidirectional responds strain one direction . figure 15 see common pattern sgs provides characteristics . folding material back forth shown achieve long length provide high resistance . strain applied transversely sg length pattern tend unfold rather stretch change resistance . gauges usually mounted paper backing bonded using epoxy el ement whose strain measured . nominal sg resistance strain available typ ically 60 120 240 350 500 . common value . signal conditioning two effects critical signalconditioning tech niques used sgs . first small fractional changes resistance require care fully designed resistance measurement circuits . good sg system might require resolution strain . equation 12 would result nominal gauge resistance . second effect need provide compensation temperature effects eliminate masking changes strain . bridge circuit provides answer effects . sensitivity bridge circuit detecting small changes resistance well known . furthermore using dummy gauge shown figure 16a provide required temperature com pensation . particular dummy mounted insensitive orientation figure 16b proximity active sg . gauges change resistance temperature effects bridge respond change strain gauges . active sg responds strain effects . called onearm bridge . sensitivity bridge strain found considering equation bridge offset voltage . suppose nominal unstrained gauge resistance . active strain gauge resistance given ra r a1 r r b r1 r2 rd r 120 4.8 104 r 2 mmm 120 1000 mechanical sensors 257 figure 16 strain gauges used pairs provide tem perature compensation . cases one gauge actually deforms stress . bridge offnull voltage given substitutions made defined previously voltage shown approximation good . substituting equation 13 allows expression terms strain 14 v vs 4 gf l l v rr v 1 v vs 4 r r 1 r r l vs 4 r r v vsc rd rd r1 ra ra r2 mechanical sensors 258 strain gauge used bridge figure 16a . bridge resistors dummy gauge . tensile strain applied find bridge offset voltage . find lation bridge offnull voltage strain . much voltage results strain 1 micro ? solution strain bridge balanced . strain applied gauge resistance change value given thus since tensile strain resistance increase . bridge offset voltage thus 7mv offset results . sensitivity found equation 14 thus every micro strain supply . another configuration often employed uses active strain gauges two arms bridge thus called twoarm bridge . four arms strain gauges two temperature compensation . added advantage doubling sen sitivity . bridge offnull voltage terms strain given 15 obviously placement active dummy gauges environment bridge circuit important . figure 17 shows common application strain gauges v vs 2 gf l l 10.15 mv v 10 2 2.03 l l 10.15 l l v 0.007 v v 5 35110 701 v rv r1 r rav ra r2 r 351 r 1.03 r 2.031.45 103350 r gfstrainr gf rr strain vs 10.0 v 1450 mmm r 350 r1 r2 350 r 350 gf 2.03 example 7 mechanical sensors 259 figure 17 structure shows four gauges used measure beam bending . two respond bending two temperature compensation . measure deflections cantilever beam . beam supported one end deflects shown load applied . application common use twoarm bridge . one pair active dummy gauges mounted top surface . active gauge experience tension downward deflection beam resistance increase . second pair mounted bottom surface . active gauge experience compression downward deflection resistance decrease . show four gauges figure 17 connected bridge . solution gauges must connected offnull voltage increases strain . thus one divider voltage increase decrease difference grows . accomplished using active gauges bridge resistor positions standard bridge configuration shown figure 18. also possible wire strain gauges fourarm bridge four gauges active temperature compensation still supplied . case sensitivity creased another factor two equation 15. r4 r3 d2 a2 d1 a1 example 8 figure 18 solution example 8. mechanical sensors 260 3.4 semiconductor strain gauges sgs use semiconductor material notably silicon sg application increased past years . presently several disadvantages devices compared metal variety numerous advantages use . principles case metal sgs basic effect change resis tance strain . case semiconductor resistivity also changes strain along physical dimensions . due changes electron hole mobility changes crystal structure strain applied . net result much larger gauge factor possible metal gauges . gauge factor semiconductor device gauge factor gf still given equation 13 semiconductor strain gauges gf often negative means resistance decreases tensile stretching stress applied . furthermore gf much larger metal strain gauges cases large strain . must also noted however devices highly nonlinear resistance versus strain . words gauge factor constant strain takes place . thus gauge factor may strain drop nonlinearly . sistance change nonlinear respect strain . use semiconductor strain gauge measure strain must curve table values gauge factor versus resistance . construction semiconductor strain gauge physically appears band strip material electrical connection shown figure 19. gauge either bonded 5000 mmm 50 150 200 gf rr strain figure 19 typical semiconductor strain gauge structure . mechanical sensors 261 example 9 directly onto test element encapsulated attached encapsulation material . sgs also appear ic assemblies configurations used measurements . signal conditioning signal conditioning still typically bridge circuit temperature compensation . added problem need linearization put basic resistance versus strain characteristic nonlinear . a. contrast resistance change produced 150 strain metal gauge b. semiconductor sg . nominal resistances . solution basic equation a. find metal gauge sg b. semiconductor gauge change 3.5 load cells one important direct application sgs measurement force weight . transducer devices called load cells measure deformations produced force weight . general beam yoke assembly used several strain gauges mounted application force causes strain assembly measured gauges . common application uses one devices support hopper feed dry liquid materials . measure weight load cell yields measure quantity material hopper . generally devices calibrated force weight directly related resistance change . forces high 5 mn approximately lb measured appropriate load cell . figure 20 shows simple load cell consisting aluminum post 2.500cm radius detector compensation strain gauges . strain gauges used bridge figure 16 . find variation bridge offset voltage load 0 5000 lb . gf 2.13 v 2 v r1 r2 rd 120.0 120 106 r 2.72 r 120 1510.15 103 r 0.038 r 120 2.130.15 103 gf rr strain 120 gf 151 gf 2.13 mmm example 10 mechanical sensors 262 figure 20 load cell example 10. solution find strain 5000lb load resulting change resistance bridge offset voltage . first change force newtons crosssectional area post table 1 modulus elasticity aluminum . equation 7 find strain relationship resistance strain given equation 13 resistance given . get bridge offset voltage note post compression therefore resistance decrease . strain bridge nulled . 5000lb load active gauge . thus set voltage bridge force varies 0 5000 lb offset voltage varies 0 . form load cell considered figure 20 fine illustrating principles real load cells made simple way . problem forces applied top load cell may cause lean bend instead simply compressing . 175 v v 1.750 104 v 175.0 v v 2 120 120 120 2 119.958 120 119.958 r 119.958 r 120.0 r 0.04203 3.502 104 rr 2.131.644 104 rrll gf 1.644 104 164.4 mmor in.in . 22240 n6.89 1010 nm21.963 103 m2 fea e 6.89 1010 nm2 r2 0.025 m2 1.963 103 m2 5000 lb0.2248 lbn 22240 n mechanical sensors 263 case one side surface beam may experience compression side un dergoes tension . obviously alter correct interpretation result . practical load cells made yoke assemblies designed mounted strain gauges exposed stresses caused compressional force applied cell . 4 motion sensors motion sensors designed measure rate change position location dis placement object occurring . position object function time xt first derivative gives speed object vt called velocity direction also specified . speed object also changing first deriva tive speed gives acceleration . also second derivative position . 16 17 primary form motion sensor accelerometer . device measures acceleration object . integrating equations 16 17 easy show accelerometer used determine speed position object well 18 19 thus accelerometer sensor provide acceleration speed locity position information . 4.1 types motion design sensor measure motion often tailored type motion measured . help understand sensors clear understanding types motion . proper unit acceleration meters per second squared . speed meters per second ms position meters m. often acceleration expressed comparison acceleration due gravity earths surface . amount acceleration approximately called gee given bold g text . automobile accelerating away stop sign . acceleration gs ? ms2 26.4 fts2 9.8 ms2 ms2 xt x0 3 0 vtdt vt v0 3 0 atdt dvt dt d2xt dt2 vt dxt dt example 11 mechanical sensors 264 solution find acceleration simply convert feet meters according 2.54 cmin . 12 in.ft terms gs subscript indicates units gs . thus acceleration away stop sign provides acceleration 80 caused gravity earths surface . rectilinear type motion characterized velocity acceleration composed straightline segments . thus objects may accelerate forward cer tain velocity decelerate stop reverse . many types sensors de signed handle type motion . typically maximum accelerations less gs little angular motion curved line allowed . angular motion several rectilinear motion sensors must used sensitive one line motion . thus vehicle motion measured two transducers may used one measure motion forward direction vehicle motion perpendicular ward axis vehicle . angular sensors designed measure rotations axis angular motion shaft motor . devices used measure physical displacement whole shaft rotation . vibration normal experiences daily living person rarely experiences accelerations vary 1 g percent . even severe environ ments rocket launching involve accelerations 1 g 10 g. however ob ject placed periodic motion equilibrium position figure 21 large peak accelerations may result reach 100 g . motion called vi bration . clearly measurement acceleration magnitude important industrial environments vibrations often encountered machinery opera tions . often vibrations somewhat random frequency periodic motion magnitude displacements equilibrium . analytical treatments vibra tion defined terms regular periodic motion position object time given 20 xt x0 sin ag 8.05 ms29.8 ms2g 0.82 gs 8.05 ms2 26.4 fts212 in.ft2.54 cmin.0.01 mcm ms2 figure 21 object periodic motion equilibrium . peak displacement . x0 x 0 mechanical sensors 265 definition angular frequency consistent reference angu lar speed . object rotates define time complete one rotation period corresponds frequency . frequency represents number revolutions per second measured hertz hz revolution per second.an angular rate one revolution per second corresponds angular velocity one rev olution sweeps radians . argument see f related 21 f related constant refer angular frequency gular velocity . find vibration velocity derivative equation 20 22 get vibration acceleration derivative equation 22 23 vibration position velocity acceleration periodic functions frequency . particular interest peak acceleration 24 see peak acceleration dependent angular frequency squared . may result large acceleration values even modest peak displacements ex ample 12 shows . water pipe vibrates frequency 10 hz displacement 0.5 cm . find peak acceleration b g acceleration . solution peak acceleration given a. b. noting get apeak 2.0 g apeak 19.7 ms2 1 g 9.8 ms2 b 1g 9.8 ms2 apeak 19.7 ms2 apeak 2020.005 2 f 20 rads x0 0.5 cm 0.005 apeak 2x0 ms2 2 apeak 2x0 2x0 sin vt x0 cos 2f 2 2 rads 1hz 1 f 1t angular frequency rads x0 peak displacement equilibrium xt object position example 12 mechanical sensors 266 figure 22 typical shock acceleration profile . 2g vibrating excitation mechanical element destructive yet generated modest conditions example 12. special class sensors developed measuring vibration acceleration . shock aspecial type acceleration occurs object may uniform motion modestly accelerating suddenly brought rest collision . phe nomena result large accelerations actually decelerations ob ject dropped height onto hard surface . name shock given decelerations characterized short times typically order millisec onds peak accelerations 500 g. figure 22 typical acceleration graph function time shock experiment . graph characterized maxi mum peak deceleration shock duration bouncing . find aver age shock knowing velocity object shock duration considered example 13. atv set dropped 2m height . shock duration 5 ms find average shock g. solution tv accelerates 2 m. find velocity duration 5 ms 128 g. wonder tv breaks apart hits ground ! 1260 ms2 6.3 ms 5 103s v 6.3 ms v2 29.8 ms22 v2 2 gx 9.8 ms2 td apeak example 13 mechanical sensors 267 figure 23 basic springmass system accelerometer . 4.2 accelerometer principles several physical processes used develop sensor measure ac celeration . applications involve flight aircraft satellites accelerometers based properties rotating masses . industrial world however com mon design based combination newtons law mass acceleration hookes law spring action . springmass system newtons law simply states mass undergo ing acceleration must force f acting mass given . hookes law states spring spring constant k stretched extended equilibrium position distance must force acting spring given . figure 23a mass free slide base . mass connected base spring unextended state exerts force mass . figure 23b whole assembly accelerated left shown . spring ex tends order provide force necessary accelerate mass . condition de scribed equating newtons hookes laws 25 equation 25 allows measurement acceleration reduced measurement spring extension linear displacement 26 k mx acceleration ms2 mass kg x spring extension k spring constant nm kx f kx x f mechanical sensors 268 figure 24 springmass system exhibits natural os cillation damping response impulse input . acceleration reversed physical argument would apply except spring compressed instead extended . equation 26 still describes relationship spring displacement acceleration . springmass principle applies many common accelerometer designs . mass converts acceleration spring displacement referred test mass seismic mass . see acceleration measurement reduces linear displacement measurement designs differ displacement measurement made . natural frequency damping closer examination simple princi ple described find another characteristic springmass systems complicates analysis . particular system consisting spring attached mass always ex hibits oscillations characteristic natural frequency . experience tells us pull mass back release absence acceleration pulled back spring overshoot equilibrium oscillate back forth . friction associ ated mass base eventually brings mass rest . displacement measur ing system respond oscillation actual acceleration occurs . natural frequency given 27 friction eventually brings mass rest defined damping coefficient units . general effect oscillation called transient response described periodic damped signal shown figure 24 whose equation 28 fn natural frequency damping coefficient x0 peak position initially xtt transient mass position xtt x0e tsin2fnt s1 seismic mass kg k spring constant nm fn natural frequency hz fn 1 2b k mechanical sensors 269 figure 25 springmass accelerometer tached table vibrating . table peak motion mass motion . x x 0 parameters natural frequency damping coefficient equation 28 pro found effect application accelerometers . vibration effects effect natural frequency damping behavior springmass accelerometers best described terms applied vibration . springmass system exposed vibration resultant acceleration base given equation 23 used equation 25 show mass motion given 29 terms previously defined f applied frequency . make predictions equation 29 clear consider situation presented figure 25. model springmass accelerometer fixed table vibrat ing . equation 29 peak amplitude table vibration vi bration seismic mass within accelerometer . thus equation 29 predicts seismicmass vibration peak amplitude varies vibration frequency squared linearly tablevibration amplitude . however result obtained without con sidering springmass system natural vibration . taken account thing quite different occurs . figure 26a shows actual seismicmass vibration peak amplitude versus table vibration frequency compared simple frequencysquared prediction . see resonance effect table frequency equals nat ural frequency accelerometerthat value goes peak . plitude resonant peak determined amount damping . seismicmass vibration described equation 29 2.5. figure 26b shows two effects . first actual seismicmass motion limited physical size accelerometer . hit stops built assembly limit motion resonance . figure also shows frequencies well natural frequency motion mass proportional table peak motion frequency . thus become displacement sensor . summarize 1. applied frequency less natural frequency natural frequency little effect basic springmass response given equations 25 29. rule thumb states safe maximum applied frequency . f 6 12.5fn f 6 fn x0 fn x x x0 2f x mx0 k 2 sin 2x0 sin mechanical sensors 270 figure 26 actual response springmass system vibration compared simple prediction . b effect actual response stops various table peak motions shown . 2 2. applied frequency much larger natural frequency accelerometer output independent applied frequency . shown figure 26b accelerometer becomes measure vibration displacement equation 20 circumstances . interesting note seismic mass stationary space case housing driven vibration moves mass . general rule sets case . generally accelerometers used near resonance natural frequency cause high nonlinearities output . f 7 2.5fn x0 f 7 fn mechanical sensors 271 accelerometer seismic mass 0.05 kg spring constant nm . maximum mass displacement mass hits stops . calculate maximum measurable acceleration g b natural frequency . solution find maximum acceleration maximum displacement occurs equa tion 26 a. b. natural frequency given equation 27 4.3 types accelerometers variety accelerometers used results different applications requirements range natural frequency damping . section various accelerometers special characteristics reviewed . basic difference method mass displacement measurement . general specification sheets accelerometer give natural frequency damping coefficient scale factor relates output acceleration input . values test mass spring constant seldom known required . potentiometric simplest accelerometer type measures mass motion taching spring mass wiper arm potentiometer . manner mass posi fn 39 hz fn 1 2b 3.0 103 nm 0.05 kg fn 1 2b k 122 g 1200 ms2 1 g 9.8 ms2 b 1 g 9.8 ms2 1200 ms2 3.0 103 nm 0.05 kg b 0.02 k mx 0.02 3.0 103 example 14 mechanical sensors 272 figure 27 lvdt often used accelerome ter core serving mass . tion conveyed changing resistance . natural frequency devices gener ally less 30 hz limiting application steadystate acceleration low frequency vibration measurement . numerous signalconditioning schemes employed convert resistance variation voltage current signal . lvdt second type accelerometer takes advantage natural linear dis placement measurement lvdt see section 2.3 measure mass displacement . instruments lvdt core seismic mass . displacements core converted directly linearly proportional ac voltage . accelerometers gen erally natural frequency less 80 hz commonly used steadystate lowfrequency vibration . figure 27 shows basic structure accelerometer . variable reluctance accelerometer type falls general category lvdt inductive principle employed . test mass usually per manent magnet . measurement made voltage induced surrounding coil magnetic mass moves influence acceleration . accelerometer used vibration shock studies output mass motion . natural frequency typically less 100 hz . type accelerometer ten used oil exploration pick vibrations reflected underground rock strata . form commonly referred geophone . piezoelectric piezoelectric accelerometer based property exhibited certain crystals voltage generated across crystal stressed . property also basis familiar sensors crystal phonograph cartridges crystal mi crophones . accelerometers principle shown figure 28. piezoelectric mechanical sensors 273 figure 28 piezoelectric accelerometer high natural frequency . crystal springloaded test mass contact crystal . exposed acceleration test mass stresses crystal force resulting voltage generated across crystal . measure voltage measure accelera tion . crystal per se highimpedance source thus requires highinput impedance lownoise detector . output levels typically millivolt range . natural frequency devices may exceed 5 khz used vibra tion shock measurements . 4.4 applications notes application accelerometers help understanding se lection sensor made particular case . steadystate acceleration steadystate accelerations interested measure acceleration may vary time nonperiodic . thus stopgo mo tion automobile example steadystate acceleration . steadystate accelerations select sensor 1 adequate range cover expected acceleration magnitudes 2 natural frequency sufficiently high period shorter characteristic time span measured acceleration changes . using electronic integrators basic accelerometer provide velocity first integration posi tion second integration information . accelerometer outputs 14 mv per g. design signalconditioning system provides velocity signal scaled 0.25 v every ms determine gain system feedback resistance ratio . f example 15 mechanical sensors 274 figure 29 integrator used obtain velocity information accelerometer . solution first note 14 mvg becomes thus write output voltage sensor va ka k 1.43 mvms2 acceleration ms2 . used input op amp integrator result vv integrator output voltage v velocity ms. must get rid negative sign provide correct scale factor 0.25 vms . therefore use inverting amplifier output integrator . circuit shown figure 29. output vout . notice output positive required . combination quantities used give desired result . example take r 1 c 1 f makes rc 1. use gain r2r1 provide correct scale factor therefore could use r1 1 k r2 175 k. vibration application accelerometers vibration first requires applied frequency less natural frequency accelerometer . second one must sure stated range acceleration measured never exceed specification device . assurance must come consideration equation 29 cir cumstances maximum frequency vibration displacement . shock primary elements importance shock measurements device natural frequency greater 1 khz range typically greater 500 g. primary accelerometer satisfy requirements piezoelectric type . 0.25 r2 r1 b 1.43x103 1 r2 r1 175 r2 r1 k rcv vv 1 rc 3 vadt k rc 3 adt k rcv a14 mv g b 1 g 9.8 ms2 b 1.43 mv ms2 mechanical sensors 275 5 pressure sensors measurement control fluid liquid gas pressure one common process industries . great variety conditions ranges materials pressure must measured many different types pressure sensor designs . following paragraphs basic concepts pressure presented brief description given common types pressure sensors . see pressure measurement often accomplished conversion pressure informa tion intermediate form displacement measured sensor determine pressure . 5.1 pressure principles pressure simply force per unit area fluid exerts surroundings . gas pressure gas force per unit area gas exerts walls container holds . fluid liquid pressure force per unit area liquid exerts container contained . obviously pressure gas uniform walls must enclose gas completely . liquid pres sure vary greatest bottom vessel zero top surface need enclosed . static pressure statements made previous paragraph explicitly true fluid moving space pumped pipes flow ing channel . pressure cases motion occurring referred static pressure . dynamic pressure fluid motion pressure exerts sur roundings depends motion . thus measure pressure water hose nozzle closed may find pressure say 40 lb per square inch note force per unit area . nozzle opened pressure hose drop different value say 30 lb per square inch . reason thorough description pressure must note cir cumstances measured . pressure depend flow compressibility fluid external forces numerous factors . units since pressure force per unit area describe si system units newtons per square meter . unit named pascal pa . seen later convenient unit often used conjunction si standard prefixes kpa mpa . see combination used use combination avoided favor pa appro priate prefix . english system units common designation pound per square inch usually written psi.the conversion 1 psi approximately 6.895 kpa . low pressures may found vacuum systems unit torr often used . one torr approximately 133.3 pa. use pascal appropriate prefix preferred . units may encounter pressure description atmosphere atm 101.325 kpa psi bar 100 kpa . use inches feet water millimeters mercury discussed later . 14.7 lbin2 ncm2 1 pa 1 nm2 mechanical sensors 276 gauge pressure many cases absolute pressure quantity major interest describing pressure . atmosphere gas surrounds earth exerts pressure weight surface earth approximately 14.7 psi defines atmosphere unit . closed vessel earths surface contained gas absolute pressure 14.7 psi would net pressure walls container atmospheric gas exerts pressure outside . cases like appropriate describe pressure relative sensethat compared atmospheric pressure . called gauge pressure given 30 english system units abbreviation psig used represent gauge pressure . head pressure liquids expression head pressure pressure head ten used describe pressure liquid tank pipe . refers static pres sure produced weight liquid point pressure described . pressure depends height liquid point liquid density mass per unit volume . terms equation liquid contained tank pressure bottom tank given 31 equation could used find pressure english system common express density system weight density cludes gravity term equation 31. case relationship pressure depth becomes 32 pressure desired psi would expressed . common occurrence liquid tanks necessity express pressure sys tems become common practice describe pressure directly terms equivalent depth particular liquid . thus term mm mercury means pres sure equivalent produced many millimeters mercury depth could calculated equation 31 using density mercury . sense 144 in2 ft2 h depth ft w weight density lbft3 p pressure lbft2 p wh lbft3 w h depth liquid g acceleration due gravity 9.8 ms2 density kgm3 p pressure pa p gh pat atmospheric pressure pabs absolute pressure pg gauge pressure pg pabs pat mechanical sensors 277 expression inches water feet water means pressure equivalent particular depth water using weight density . see basis level measurement pressure mentioned section 2.4. equation 31 shows level liquid density p directly related pressure . level measurement pass pressure measurement usually done type displacement measurement . tank holds water depth 7.0 ft. pressure tank bottom psi pa ? solution find pressure pa directly converting 7.0 ft meters thus 7.0 ft . equation 31 find pressure psi convert pressure pa psi use equation 32. lets use latter . weight density found pressure 5.2 pressure sensors p 1 atmosphere general design pressure sensors employed measurement pressure higher one atmosphere differs employed pressure less 1 atmosphere atm . section basic operating principles many types pressure sensors used higher pres sures considered . aware rigid separation find many principles employed lower vacuum pressure measurements . pressure sensors used process control result transduction pressure formation physical displacement . measurement pressure requires techniques producing displacement means converting displacement proportional electrical signal . true however low pressure region atm many purely electronic means pressure measurement may used . diaphragm one common element used convert pressure information physical displacement diaphragm thin flexible piece metal shown figure 30. p 6 103 p 3 psi p 62.4 lbft37.0 ft 440 lbft2 w 62.4 lbft3 w 9.8 103 nm30.3048 mft30.2248 lbn w 103 kgm39.8 ms2 9.8 103 nm3 p 21 kpa note significant figures p 103 kgm39.8 ms22.1 0.3048 mft 2.1 density 103 kgm3 example 16 mechanical sensors 278 figure 30 diaphragm used many pressure sensors . displacement varies pressure difference . figure 31 bellows another common method con verting pressure displacement . lvdt used convert displacement voltage amplitude . pressure exists one side diaphragm net force exerted given 33 diaphragm like spring therefore extends contracts hookes law force developed balances pressure difference force . shown figure 30 greater . notice since force greater side diaphragm deflected toward side . extent deflection i.e . diaphragm displace ment measure pressure difference . bellows shown figure 31 another device much like diaphragm converts pressure differential physical displacement except dis placement much straightline expansion . accordionshaped sides bel lows made thin metal . pressure difference net force exist flat front surface bellows . bellows assembly collapse like accordion greater expand less . dis placement proportional pressure difference . conversion pressure dis placement nearly linear . therefore suggested use lvdt measure displacement . sensor output lvdt voltage amplitude lin early related pressure . p1 p2 p1 p2 p2 p1 p2 p1 p1 p2 pressure nm2 diaphragm area m2 f p2 p1a p2 p1 mechanical sensors 279 figure 32 bourdon tube probably common pressuretodisplacement element . figure 31 also shows lvdt connected bellows pres sure measurement converted directly displacement voltage . addition dis placement pressure nearly linearly related lvdt voltage linear displacement voltage pressure also linearly related . bourdon tube probably common pressure sensor universal use based upon bourdon tube concept . figure 32 shows process making bourdon tube measures pressure . ahard metal tube usually type bronze brass flattened one end closed . tube bent curve arc sometimes even spiral . open end attached header pressure introduced inside tube . done tube deflect inside applied pressure different outside pressure . tube tend straighten inside pressure higher outside pressure curve pressure inside less outside . common round pressure gauges meter pointer rotates pro portion pressure based sensor . case deflection transformed pointer rotation system gears . course control applications interested converting deflection electrical signal . accomplished various types displacement sensors measure deflection bourdon tube . electronic conversions many techniques used convert displacements generated previous examples electronic signals . simplest technique use mechanical linkage connected potentiometer . fashion pressure related resistance change . methods conversion employ strain gauges directly di mechanical sensors 280 figure 33 differential pressure dp cell measures pressure difference diaphragm . feedback system minimizes actual diaphragm deflection . aphragm . lvdts inductive devices used convert bellows bourdon tube motions proportional electrical signals . often pressure measurement accomplished using diaphragm special feed back configuration shown figure 33. feedback system keeps diaphragm moving using induction motor . error signal feedback system provides elec trical measurement pressure . solidstate pressure sensors integrated circuit technology led de velopment solidstate ss pressure sensors find extensive application pres sure ranges 0 100 kpa 0 14.7 psi . small units often require three connectionsdc power ground sensor output . pressure connection via metal tube shown figure 34a . generally manufacturers provide line sen sors various ranges pressure configurations . basic sensing element small wafer silicon acting diaphragm usual deflects response pressure difference . however suggested figure 34b case deflection sensed semiconductor strain gauges grown directly silicon wafer furthermore signalconditioning circuitry grown directly wafer well . signal conditioning includes temperature compensation circuitry pro vides output voltage varies linearly pressure specified operating range . configuration shown figure 34b measuring gauge pressure since one side diaphragm open atmosphere . figure 35 shows simple modifica tions used convert basic sensor absolute differentialtype gauge . mechanical sensors 281 figure 34 solidstate pressure sensors employ integrated circuit technology silicon diaphragms . example measures gauge pressure . absolute pressure measurement one side wafer sealed evacuated . dif ferential measurement facilities provided allow application independent pressures two sides diaphragm . ss pressure sensors characterized 1. sensitivities range 10 100 mvkpa . 2. response times order 10 ms. firstorder timeresponse devices response time defined time change 10 90 final value following step change input pressure . p2 p1 mechanical sensors 282 figure 35 simple modifications allow ss pressure sensors measure absolute differential pressure . 3. linear voltage versus pressure within specified operating range . 4. ease use often three connections dc power typically 5 v ground sensor output voltage . ss pressure sensors find application broad sector industry control wher ever low pressures measured . another important application commercial field sensors employed example home appliances dish washers washing machines . ss pressure sensor outputs 25 mvkpa pressure variation 0.0 25 kpa used measure level liquid density . voltage output expected level variations 0 2.0 ? sensitivity level measurement expressed mvcm ? solution pressure sensor attached bottom tank holding liquid . therefore pressure measured given equation 31. clearly empty pressure zero output voltage zero well . 2.0 pressure . therefore sensor output sensitivity 637 mv200 cm 3.185 mvcm v 25 mvkpa25.48 kpa 0.637 v p gh 1.3 103 kgm39.8 ms22.0 25.48 kpa 1.3 103 kgm3 example 17 mechanical sensors 283 figure 36 ionization gauge used measure low pressures atm . 1013 5.3 pressure sensors p 1 atmosphere measurements pressure less 1 atm conveniently made using purely elec tronic methods . three common methods electronic pressure measurements . first two devices useful pressure less 1 atm atm . based rate heat conducted radiated away heated filament placed lowpressure environment . heat loss proportional num ber gas molecules per unit volume thus constant filament current fila ment temperature proportional gas pressure . thus transduced pressure measurement temperature measurement . pirani gauge gauge determines filament temperature measure filament resistance accordance principles established previously . filament ex citation resistance measurement performed bridge circuit . response resistance versus pressure highly nonlinear . thermocouple second pressure transducer gauge measures filament tem perature using thermocouple directly attached heated filament . case bient room temperature serves reference thermocouple voltage output proportional pressure highly nonlinear . calibration pirani thermocouple gauges also depends type gas pressure measured . ionization gauge device useful measurement low pres sures atm atm . gauge employs electrons usually heated filament ionize gas whose pressure measured measures current flowing two electrodes ionized environment shown figure 36. number ions per unit volume depends gas pressure hence cur rent also depends gas pressure . current monitored approximately lin ear indication pressure . 1013 103 103 mechanical sensors 284 6 flow sensors measurement control flow said heart process industries . continuously operating manufacturing processes involve movement raw materials products waste throughout process . functions considered flow whether automobiles assembly line methyl chloride pipe . methods measurement flow least varied industry . would unrea sonable try present every type flow sensor section consider flow three broad frontssolid liquid gas . pressure find flow formation often translated intermediate form measured using tech niques developed form . 6.1 solidflow measurement common solidflow measurement occurs material form small particles crushed material powder carried conveyor belt system host material . example solid material suspended liquid host combination called slurry pumped pipes like liquid . consider conveyor system leave slurry treated liquid flow . conveyor flow concepts solid objects flow usually described specification mass weight per unit time transported conveyor system . units many formsfor example kgmin lbmin . make mea surement flow necessary weigh quantity material fixed length conveyor system . knowing speed conveyor allows calculation terial flow rate . figure 37 shows typical conveyor system material drawn hopper transported conveyor system . mechanical valve controls rate terial flow hopper onto conveyor belt . belt driven motor sys tem . flow rate measured weighing amount material platform length l instant . conveyor belt slides platform deflects slightly due weight material . load cell measures deflection indication weight . case flow rate calculated 34 flow sensor example working figure 37 ev ident flow sensor actually assembly conveyor hopper opening weighing platform . actual weighing platform performs measurement l length weighing platform ft r conveyor speed mmin ftmin w weight material section length l kg lb q flow kgmin lbmin q wr l mechanical sensors 285 figure 37 conveyor system illustrating solidflow measurement . flow rate determined however . see flow measurement becomes weight measurement . case suggested weight measured means load cell strain gauge measurement . another popular device weight measurement moving systems like lvdt measures droop con veyor point measurement material carries . coal conveyor system moves 100 ftmin . weighing platform 5.0 ft length particular weighing shows 75 lb coal platform . find coal delivery lbh . solution use equation 34 directly find flow converting lbh multiplying 60 minh 6.2 liquid flow measurement liquid flow involved nearly every facet process industry . conditions flow occurs vastly different types material flow sult great many types flow measurement methods . indeed entire books written de voted problems measuring liquid flow interpret results flow q 90000 lbh q 1500 lbmin q 75 lb100 ftmin 5 ft example 18 mechanical sensors 286 measurements . impractical within scope book present comprehen sive study liquid flow basic ideas liquid flow measurement presented . flow units units used describe flow measured several types depending specific process needs information . common descrip tions following 1. volume flow rate expressed volume delivered per unit time . typical units galsmin h h . 2. flow velocity expressed distance liquid travels carrier per unit time . typical units mmin ftmin . related volume flow rate 35 3. mass weight flow rate expressed mass weight flowing per unit time . typical units kgh lbh . related volume flow rate 36 water pumped 1.5in . diameter pipe flow velocity 2.5 fts . find volume flow rate ft3min weight flow rate lbmin . weight density . solution flow velocity given 2.5 fts volume flow rate found equation 35 . area given diameter volume flow rate q 1.8 ft3min 13.5 galmin q 2.5 fts0.0122 ft260 smin 3.140.12524 0.0122 ft2 1.5 in.112 ftin . 0.125 ft d24 q va 62.4 lbft3 q volume flow rate mass density weight density f mass weight flow rate f q crosssectional area flow carrier pipe q volume flow rate v flow velocity v q 1 gal 231 in.3 ft3 m3 example 19 mechanical sensors 287 figure 38 flow pipe p determined part pressure due head h. weight flow rate found equation 36 pipe flow principles flow rate liquids pipes determined primarily pressure forcing liquid pipe . concept pressure head simply head introduced previous sections often used describe pressure cause easy relate forcing pressure produced depth liquid tank pipe exits . figure 38 flow pipe p driven pressure pipe pressure caused weight liquid tank height h head . pressure found equation 31 32. many factors affect actual flow rate produced pressure including liquid viscosity pipe size pipe roughness fric tion turbulence flowing liquid others . beyond scope book detail exactly factors determine flow . instead objective discuss flow measured regardless features may determine exactly flow relative conditions . restriction flow sensors one common methods measuring flow liquids pipes introducing restriction pipe measuring pres sure drop results across restriction . restriction placed pipe velocity fluid restriction increases pressure restriction decreases . find relationship pressure drop rate flow flow increases pressure drops . particular one find equation form 37 constant k depends many factors including type liquid size pipe veloc ity flow temperature . type restriction employed also change value constant used equation . flow rate linearly dependent p drop pressure across restriction k constant pipe liquid type q volume flow rate q k2p f 112 lbmin f 62.4 lbft31.8 ft3min mechanical sensors 288 figure 39 three different types restrictions commonly used convert pipe flow pressure difference . p1p2 pressure drop square root . thus pressure drop pipe increased fac tor 2 flow rate increased flow rate increased factor 1.4 square root 2. certain standard types restrictions employed exploit ing pressuredrop method measuring flow . figure 39 shows three common methods . interesting note hav ing converted flow information pressure employ one methods mea suring pressure often conversion displacement measured displacement sensor finally getting signal used processcontrol loop . common method measuring pressure drop use differential pressure sensor sim ilar shown figure 35b . often described name dp cell . flow controlled 20 150 galmin . flow measured using orifice plate system shown figure 39c . orifice plate described equation 37 . bellows measures pressure lvdt output 1.8 vpsi . find range voltages result given flow range . solution equation 37 find pressures result given flow 20 galmin p 20119.52 0.0280 psi p qk2 k 119.5galminpsi12 example 20 mechanical sensors 289 150 galmin 1.8 vpsi voltage range easily found . 20 galmin 150 galmin pitot tube pitot tube common way measure flow rate particular point flowing fluid liquid gas . figure 40 shows tube placed flowing fluid opening directed direction flow . principle fluid brought rest tube therefore pressure sum static fluid pressure plus effective pressure flow . pressure pitot tube measured differential static pressure flowing fluid vicinity tube . differential pressure proportional square root flow rate . flow rate pipe varies across pipe pitot tube determines flow rate point insertion . obstruction flow sensor another type flow sensor operates effect flow obstruction placed flow stream . rotameter obstruction float rises vertical tapered column . lifting force thus distance float rises column proportional flow rate . lifting force produced differential pressure exists across float restriction flow . type sensor used liquids gases . moving vane flow meter vane target immersed flow region rotated flow flow velocity creases . angle vane measure flow rate . rotating vane shaft tached anglemeasuring sensor flow rate measured use processcontrol application . turbine type flow meter composed freely spinning turbine blade assembly flow path . rate rotation turbine proportional flow rate . turbine attached tachometer convenient electrical signal v 1.57561.8 2.836 v v 0.02801.8 0.0504 v p 150119.52 1.5756 psi ps pt q k pt ps pitot tube pipe flow q figure 40 pitot tube measures flow point gas liquid . mechanical sensors 290 produced . methods flow measurement necessary present sub stantial obstruction flow path measure flow . reason devices used obstruction cause unwanted reaction flow sys tem . devices illustrated figure 41. magnetic flow meter shown charged particles move across magnetic field potential established across flow perpendicular magnetic field . thus flowing liquid also conductor even necessarily good conductor electricity flow measured allowing liquid flow magnetic field measuring transverse potential produced . pipe section measure ment made must insulated nonconductor potential produced figure 41 three different types obstruction flow meters . mechanical sensors 291 figure 42 magnetic flow meter work conducting fluids blood . cancelled currents pipe . diagram type flow meter presented figure 42. type sensor produces electrical signal directly convenient processcontrol applications involving conducting fluid flow . summary chapter assortment measurement systems fall general de scription mechanical sensors studied . objective gain familiarity essential features variables typical measurement methods . topics covered following 1. position location displacement sensors including potentiometric capacitive lvdt . lvdt converts displacement linearly voltage . 2. strain gauge measures deformation solid objects resulting applied forces called stress . strain gauge converts strain change resistance . 3. accelerometers used measure acceleration objects rectilinear motion vibration shock . operate springmass principle converts acceleration information displacement . 4. pressure force per unit area fluid exerts walls container . pres sure sensors often convert pressure information displacement . examples include diaphragms bellows bourdon tube . electronic measures often used low pressures . 5. gas pressures less 1 atm purely electrical techniques used . cases temperature heated wire used indicate pressure . 6. flow sensors important manufacturing world . typically solid flow mass weight per unit time . 7. fluid flow pipes channels typically measured converting flow formation pressure restriction flow system . mechanical sensors 292 figure 43 figure problem 3. problems section 2 1 50 wirewound pot used measure displacement work piece . linkage employed work piece moves distance 12 cm pot varies full 50 . pot wound 3cmdiameter form 5 cm long distance wires pot 0.25 mm . resolution workpiece motion ? resistance change corresponds resolution ? 2 develop signal conditioning problem 1 output v work piece moves 0 12cm motion limit . 3 acapacitive displacement sensor used measure rotating shaft wobble shown figure 43. capacity 880 pf wobble . find change capacity mm shaft wobble . 4 develop ac bridge problem 3. use 880 pf bridge capacitors assume 10v rms 10khz excitation . maximum bridge offset voltage amplitude ? 0.02 0.02 6 6 k k figure 44 figure problem 5. mechanical sensors 293 5 figure 44 shows 555 ic timer connected make frequency gen erator . output low time given whereas high time given . suppose capacitor example 2 used parallel 1000pf fixed capacitor c circuit . displacement converted variation output frequency . a. range frequency corresponds 1 2cm displacement sensor ? b. plot frequency change versus displacement . linear ? 6 lvdt associated signal conditioning used measure workpiece motion cm . static transfer function 2.5 mvmm . output interfaced computer via adc . a. range output voltage ? b. desired resolution 0.5 mm many bits must adc ? c. design analog signal conditioning provide interface bipolar adc 5v reference . 7 design linkage system float liquid level measurement moves 0 1 lvdt core moves linear range 3 cm . suppose lvdt output interfaced 10bit adc . resolution level measurement ? 8 example 4 capacity change would need measured reso lution 2 cm ? measurement ultimately go computer many bits must adc support resolution ? 9 design ac bridge like seen previously convert capacity change example 4 ac offset voltage . bridge null 0 level . use r1 r3 1 k c3 0.02 f excitation 5 v rms 1 khz . plot voltage versus level . section 3 10 aluminum beam supports 550kg mass . beam diameter 6.2 cm calcu late stress b strain beam . 11 using equations 9 10 prove equation 11 valid first order . note . 12 strain gauge made wire . dissipation factor given . maximum current placed sg keep selfheating er rors strain ? 13 strain gauge nominal resistance . calculate sistance change resulting strain . 14 strain gauge nominal resistance used measure strain resolution . design bridge detector pro vides five switched ranges 1000 spans i.e . 0 1000 etc .. idea bridge null found combination switch ing appropriate range making smooth null adjustment within range . strain would necessary switch 3000 4000 range adjust smooth pot null occurred would . 390 3390 2000 1000 5 120 gf 2.03 144 in.in 120 gf 2.14 1 pd 25 mwc 25c 0 0.0034c r 120 gf 2.06 x v 1 11x 1 x 20 20 thigh 0.693ra rbc tlow 0.693rbc mechanical sensors 294 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0 40 60 80 0 20 100 120 140 160 180 gauge factor strain 1000 figure 45 semiconductor gf versus strain problem 16 . 15 derive equation 14 giving approximate bridge offnull voltage versus strain . much error equation exact offnull voltage v strain ? assume bridge resistors also . 16 semiconductor strain gauge gf versus strain given figure 45. gauge used bathroom scale strain varies 0 asweightvariesfrom0to300lb.plotthegaugeresistancechangeversusweight . 17 example 10 develop signal conditioning provide input 10bit unipolar adc 5.000v reference . many pounds lsb represent ? plot adc output hex versus force . evaluate linearity . use gain 500 single op amp circuit stage design . 18 weigh objects strain gauge mounted copper column 6in . diameter . find change resistance per pound placed column . change increase decrease resistance ? draw diagram system showing active dummy gauges mounted . 19 figure 46 shows microminiature cantilever beam four strain gauges mounted . active gauges . show gauges wired bridge circuit provide temperature compensation . gauge gauge factor gf derive equation bridge offnull voltage function strain . 20 show add another active gauge dummy gauge system problem 18 provide increased sensitivity . assuming bridge excitation 5.0 volts determine bridge offnull voltage per 1000 pounds placed beam . r 120 gf 2.02 1000 r 300 120 500 gf 2.05ra 120 vs 10 mechanical sensors 295 c b c bottom figure 46 fourgauge system problem 19. section 4 21 calculate rotation rate 10000rpm motor rads . 22 object falls rest near earths surface accelerating downward 1 g. 5 speed distance moved ? 23 force 2.7 lb applied 5.5kg mass . find resulting acceleration . 24 calculate average shock gs experienced transistor falls 1.5 tabletop takes 2.7 ms decelerate zero reaching floor . 25 automobile fender vibrates 16 hz peaktopeak amplitude 5 mm . cal culate peak acceleration gs . 26 springmass system mass 0.02 kg spring constant 140 nm . cal culate natural frequency . 27 lvdt used accelerometer measure seismicmass displacement . lvdt signalconditioning output 0.31 mvmm cm maximum core displacement . spring constant 240 nm core mass 0.05 kg . find relation acceleration output voltage b maximum acceleration measured c natural frequency . 28 accelerometer problem 27 design signalconditioning system pro vides velocity information 2 mvms position information 0.5 vm . 29 piezoelectric accelerometer transfer function 61 mvg natural fre quency 4.5 khz . vibration test 110 hz reading 3.6 vpeak results . find vibration peak displacement . 30 accelerometer shock designed shown figure 47. find relation tween strain gauge resistance change shock g i.e . resistance change per g. force rod crosssectional area . 31 design signalconditioning scheme accelerometer problem 30 using bridge circuit . plot bridge offset voltage versus shock g 0 5000 gs . section 5 32 calculate pressure atmospheres water column 3.3 high exerts base b pressure liquid mercury . convert results pas cals . mercury density . 13.546 gcm3 2.0 104 m2 ms2 2 ms2 mechanical sensors 296 pressure sensor funnel liquid flow lines 33 welding tank holds oxygen 1500 psi . tank pressure expressed pa ? pressure atmospheres ? 34 diaphragm effective area . pressure difference across di aphragm 5 psi force exerted diaphragm ? 35 figure 48 shows proposed sensor measuring speed liquid flowing open channel . ss pressure sensor connected funnel shown . pressure formed funnel open end pointed upstream liquid brought rest funnel opening . pressure given liquid density liquid speed ms. ss pressure sensor range 0 5 kpa transfer function 40 mvkpa . suppose liquid water density . maximum speed measured ? plot graph sensor output voltage versus liquid speed . comment linearity . 36 bellows diaphragm bourdon tube pressure sensors exhibit second order time response . means sudden change pressure cause os cillation displacement therefore sensor output . like 1gcm3 kgm3 p 1 2 2 25 cm2 figure 47 figure problem 28. figure 48 figure problem 35. mechanical sensors 297 springs effective spring constant mass frequency es timated equation 27. consider bellows effective spring constant 3500 nm mass 50 g. effective area pressure acts . calculate bellows deflection pressure 20 psi b nat ural frequency oscillation . section 6 37 grain conveyor system finds weight 1.0m platform 258 n. conveyor speed needed get flow 5200 kgh ? 38 convert water flow 52.2 galh kgh velocity ms 2in . diameter pipe . 39 orifice plate system pumping alcohol find . plot pressure versus flow rate 0 . supplementary problems s1 ultrasonic system used measure level grain 1 9 bin shown figure 49. done measuring time delay transmitting short ultrasonic pulse receiving pulse echo grain sur face . 50khz transmitter triggered logic highlow input shown . transmitted pulse duration propagation speed 300 ms. receiver connected comparator goes high signal received . receiver must disabled transmitter sending pulse us ing logic high input shown . 8bit counter start counting pulse 6 ms 100 m3h k 0.4 m3min kpa12 0.5 in2 figure 49 ultrasonic system level measurement problem s1 . mechanical sensors 298 sent stop echo received . count thus measure time de lay grain level . reading taken every second . a. calculate expected time delay grain levels 1 9 m. b. since ultrasonic system measures bin top time delay reversed i.e . long time low level short time high level . account counter count preset value . determine preset value correct counter clock speed digital display equal grain level i.e . level 4.5 would produce binary count display would show 45. c. use oneshot pulse generators flipflops digital logic devices complete design shown figure 49. s2 show gauge mounting figure 17 changed four gauges active temperature compensation still provided . show gauges connected bridge . s3 figure 45 shows variation gf strain semiconductor strain gauge strain . gauge used measure solid material flow conveyor using system like figure 37. load cell structure shown figure 50. conveyor speed platform length . a. design bridge signal conditioning strain gauges temperature compensated provides output 0.0 5.0 v strain 0 . b. prepare plot output voltage versus flow rate 0.0 200 kgs . s4 ss pressure sensor used measure specific gravity flowing pro duction liquid . specific gravity simply ratio liquid density water density . figure 51 shows measured difference head pressure equal heights liquid water . level control system maintains flowing production liquid level water . differential ss sensor sen sitivity 45 mvkpa . specific gravity measured range 1.0 2.0. liquidwater level 1.0 density water . 1 gcm3 500 l 1.5 r 0.3 ms r 300 001011012 figure 50 load cell problem s3 . mechanical sensors 299 figure 52 pirani gauge problem s5 . a. pressure water sensor ? range pressure liquid sensor ? b. sensor voltage results range 1.0 2.0 specific gravity ? c. develop signal conditioning interface sensor output 8bit adc 5.00v reference . d. digital resolution specific gravity measurement ? e. level control system cm error setpoint much er ror specific gravity measurement ? 2 figure 51 system problem s4 . mechanical sensors 300 s5 figure 52 shows pirani gauge measuring vacuum pressures 0 100 kpa atmospheric pressure . two resistive filaments operated ele vated temperature 1 atm pressure . exposed filament temperature function pressure encapsulated filament temperature . figure 53 shows exposed filament temperature varies pressure . variation resis tance temperature given rtd relation selfheating dissipation constant . design bridge circuit provides necessary selfheating current offnull voltage depends pressure . plot offnull voltage versus pressure 0.0 100 kpa . 30 mwc 20c r 20 0.035c 80c figure 53 resistance versus pressure problem s5 . solutions oddnumbered problems 1 0.6 mm 3 862.75 pf 897.96 pf approximately17.6 pf 250 figure s.29 mechanical sensors 301 figure s.30 figure s.31 figure s.32 mechanical sensors 302 5 9.961 9.637 khz see figure s.31 linear . 7 see figure s.32 resolution 0.97 mm . 9 refer figure 10 . see figure s.33 plot . 13 15 .05 error 17 see figures s.34 s.35 circuit plot linear 4.88 lblsb . 19 1047 rads 21 2.18 ms2 0.037 r1 r3 1 k r2 r4 6.25 k c3 0.02 f figure s.33 figure s.34 mechanical sensors 303 figure s.35 23 2.58 gs 25 11 hz 27 1.2 mm 29 use bridge arm 5v source . see figure s.36 plot . 31 10.34 mpa 102 atm 33 max 3.16 ms see figure s.37 nonlinear . 120 vout 0.0000646 vms2a amax 96 ms2 figure s.36 mechanical sensors 304 figure s.37 35 197.7 mhr 37 see figure s.38 . supplementary problems s1 a. level 9 takes 13.33 ms level 1 takes 66.67 ms. b. preset value clock frequency 1500 hz . c. see figure s.39 . s3 a. see figure s.40 . b. see figure s.41 . s5 use bridge like figure 5 sensors 24v supply . see figure s.42 plot . r4 r1 r2 80 r3 11011102 11010 figure s.38 mechanical sensors 305 11 9 1 bin rcvr txmr disable rcd c 4 5 8 8 load start stop counter count clock 6 ms mv 10 mv 110 5 ff clr clk master clock 900 ms 100 ms q figure s.39 192.3 k 1 k 1 k 192.3 k dummy 300 active 300 5 v figure s.40 mechanical sensors 306 0 40 80 120 160 200 6 5 4 3 2 1 0 output voltage flow kgs figure s.41 mechanical sensors 307 308 optical sensors instructional objectives read chapter able describe electromagnetic em radiation terms frequency wavelength speed propagation spectrum . define energy em radiation terms power intensity effects divergence . compare photoconductive photovoltaic photoemissivetype photodetectors . describe principles structure total radiation optical pyrometers . distinguish incandescent atomic laser light sources characteristics light . design application optical techniques processcontrol measurement applications . 1 introduction desirable characteristic sensors negligible effect measured environmentthat process . thus resistancetemperature detector rtd heats temperature environment less confidence rtd resistance truly represents environmental temperature . much effort made sensor transducer de sign reduce backlash measuring instrument environment . electromagnetic em radiation used perform processvariable measure ments transducers affect system measured emerge . systems mea surement called nonlocal noncontact physical contact made environment variable . noncontact characteristic measurements often made distance . process control em radiation either visible infrared light band fre quently used measurement applications . techniques applications called optical radiation close visible light . chapte5r instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 6 process control 309 common example optical transduction measurement objects tempera ture emitted em radiation . another example involves radiation reflected sur face yield level displacement measurement . optical technology vast subject covering span geometrical optics includ ing lenses prisms gratings like physical optics lasers parametric fre quency conversion nonlinear phenomena . subjects interesting required purposes familiarity optical principles knowledge spe cific transduction measurement methods . 2 fundamentals em radiation familiar em radiation visible light . visible light around us . em ra diation also familiar forms radio tv signals ultraviolet infrared light . us falter however asked give general technical description ra diation including criteria measurement units . section covers general method characterizing em radiation . although much follows valid complete range radiation particular attention given infrared visible ultraviolet sensor applications concerned ranges . 2.1 nature em radiation em radiation form energy always motionthat propagates space . object releases emits radiation loses energy . one absorbs radi ation gains energy . thus must describe energy appears em radiation . frequency wavelength use term electromagnetic radia tion name form energy surprise intimately tied electricity magnetism . indeed careful study shows electrical magnetic phenomena produce em radiation . radiation propagates space manner similar waves wa ter propagating disturbance . define frequency wavelength radiation . frequency represents oscillation per second ra diation passes fixed point space . wavelength spatial distance two successive maxima minima wave direction propagation . speed propagation em radiation propagates vacuum constant speed independent wavelength frequency . case velocity 1 f frequency hertz hz cycles per second s1 wavelength meters c 2.998 108 ms l 3 108 ms speed em radiation vacuum c f optical sensors 310 given em radiation frequency hz find wavelength . solution note em radiation used carry radio signals . radiation moves nonvacuum environment propagation locity reduced value less c. general new velocity indicated index refraction medium . index refraction ratio defined 2 index refraction often varies radiation wavelength sample material . find velocity em radiation glass index refraction . solution know wavelength units many applications specification em radiation made frequency radiation 1mhz radio signal 1ghz microwave signal . cases however common describe em radiation wavelength . particularly true near visible light band . proper unit measurement v 1.91 108 ms v c n 3 108 ms 1.57 n c v n 1.57 v velocity em radiation material ms n index refraction n c v 300 c f 3 108 ms 106 s1 c f 106 example 1 example 2 optical sensors 311 figure 1 electromagnetic radiation spectrum covers everything low frequency vlf radio xrays beyond . length meters associated prefixes . thus 10ghz signal described 30mm wavelength . red light emitted wavelength . another unit often employed angstrom defined . thus red light previously described wavelength . conversion left exercise reader . see also problem 2. em radiation spectrum seen em radiation type energy propagates space constant speed velocity specify direction . oscillating nature radiation gives rise different interpretation radi ation relation environment however . categorizing radiation wavelength frequency describing position spectrum radiation . figure 1 shows 7000 1010 1010 0.7 optical sensors 312 range em radiation low frequency high frequency together associated wavelength meters equation 1 bands frequency relate world . one type energy ranges radio signals visible light xrays pen etrating cosmic rays smooth variation frequency . processcontrol strumentation particularly interested two bands infrared visible light . even though figure 1 presents distinct boundaries em radiation descrip tions reality boundaries quite indistinct . thus transition microwave infrared example gradual considerable band radiation could described either term . visible light small band radiation approximately 400 nm 760 nm represents visible light figure 1. radiation band covers wavelengths eyes radiation detectors heads sensitive . infrared light longerwave radiation band extends limit eye sensitivity approximately called infrared ir radiation . cases band subdivided radiation wavelength 3 called farinfrared . limits bands distinct serve roughly separate described radiation broad categories . treatment rest chapter refers simply light meaning either ir visible concern bands . describe wavelength b nature em radiation hz frequency . solution a. wavelength given b. figure 1 see radiation lies infrared band generally designated farinfrared specifically . 2.2 characteristics light light described source energy natural inquire en ergy content relation spectrum . 5.56 106 1 1010 55600 5.56 3 108 ms5.4 1013 hz c f 5.4 1013 100 mm 100 mm 0.76 mm example 3 optical sensors 313 photon description em radiation complete without discussion photon . em radiation particular frequency propagate discrete quantities energy . thus source emitting radiation one frequency fact emit ting energy large number discrete units quanta . quanta called photons . actual energy one photon related frequency 3 energy one photon small compared electric energy shown example 4. microwave source emits pulse radiation 1 ghz total energy 1 j. find energy per photon b number photons pulse . solution a. find energy per photon b. number photons figure 2 shows energy carried single photon various wavelengths . energy expressed electron volts . unit convention ally employed provides convenient magnitude photon energy discussion . energy dealing typical sources detectors light impractical unnecessary consider discrete nature radiation . instead deal macroscopic properties result collective behavior vast number photons moving together . general energy principles involve description net energy radiation propagates region space . description given joules energy propagating light . simple statement energy insufficient ever motion energy spatial distribution energy . power em radiation energy motion complete description joules per second watts power carried . thus one might describe situation 1 ev 1.602 1019 j n 1.5 1024 photons n w wp 1 j 6.63 1025 jphoton wp 6.63 1025 j wp 6.63 1034 js109 s1 wp hf 1 ghz 109 s1 wavelength f frequency s1 h 6.63 1034 js known plancks constant wp photon energy j wp hf hc example 4 optical sensors 314 figure 2 energy carried one photon varies inversely wavelength em radiation . source emits 10 w light 10 j energy form light radiation emit ted every second . even description incomplete without specifying power spatially distributed . intensity complete picture radiation emerges also specify spatial distribution power transverse direction propagation . thus 10w source discussed concentrated beam crosssectional area specify intensity watts per unit area case 10 w . general intensity 4 p 50 wm2 0.2 m2 0.2 m2 optical sensors 315 one problem expressing intensity sometimes difficult imagine distribution power square meter relates smallscale problem . thus sensor area people difficulty relating size intensity say . reason unit common use . quantity equal much different size visualization . former case sensor intensity would . another motivation using lightsource power measurement situations often mil liwatt range . divergence still quite exhausted necessary descriptors en ergy tendency light travel straight lines . radiation trav els straight lines possible intensity light change even though power remains constant . best seen figure 3. 10w source area source . nature source straightline propaga tion however see distance away 10 w distributed larger area hence intensity diminished . spreading radiation called divergence specified angle made outermost edge beam central direction propagation shown figure 3. thus far description energy state light propagating region space demands knowledge power carried crosssectional area power distributed divergence . find intensity 10w source source b 1 away case shown figure 3 radius 0.05 divergence . solution intensity source simply power area . thus circular crosssection a1 7.85 103 m2 a1 r1 2 3.140.05 m2 2 a1 a2 a1 mwcm2 1 mwcm2 2cm2 10 wm2 mwcm2 10 wm2 2 cm2 wm2 beam crosssectional area m2 p power w intensity wm2 figure 3 sources em radiation exhibit divergence spreading beam distance source . example 5 optical sensors 316 figure 4 diagram aid solving divergence problems example 5. a. intensity source b. first must find beam area 1 get intensity 1 m. find radius using figure 4 guide . elementary trigonometry see right triangle formed 5 dealing sources originating small point propagating di rections condition maximum divergence . point sources inten sity decreases inverse square distance point . seen consideration divergence . suppose source delivers power p light shown figure 5. intensity distance r found dividing total power surface area sphere radius r source 4 p i2 440.53 wm2 441 wm2 i2 10 w 0.0227 m2 a2 0.0227 m2 a2 r2 2 3.140.085 m2 r2 0.085 r2 0.05 1 mtan2 r2 r1 l tan a2 i1 10 w 7.85 103 m2 1273 wm2 i1 p a1 figure 5 intensity light point source depends distance source r area considered a. optical sensors 317 surface area sphere radius r thus entire surface sur rounding point source 6 equation shows intensity point source decreases inverse square distance point . spectrum another factor significance description light includes spectral content radiation . source laser beam delivers light single wavelength nearly called monochromatic source . source incandescent bulb may deliver broad spectrum radiation referred poly chromatic source . general spectrum source described curve showing power distributed function wavelength frequency radiation . figure 6 com pares spectrum em radiation sun standard tungsten source temperature white hot . curve gives spectrum terms per cent emitted power relative maximum function radiation wavelength . coherency less familiar characteristic radiation coherency . seen light described electric magnetic effects oscillate time space . whenever consider oscillating phenomena interest determine 2870c p 4r2 4r2 figure 6 comparison em radiation emitted sun heated tungsten filament well spectral sensitivity human eye . optical sensors 318 phase relation oscillations different parts beam . points along crosssection radiation beam phase beam spatial coherence . radiation line along beam fixedphase relation beam temporal co herence . general conventional sources light incandescent fluorescent light bulbs produce beams coherence . laser convenient source co herent radiation available . 2.3 photometry conventional units described previously would seem satisfactory complete description optical processes . designs human engineering however tradi tional units insufficient . human eye responds intensity light also spectral content . figure 6 also shows nominal spectral sensitiv ity human eye . see peaked visible band would expect . suppose known human needs intensity read . infrared source intensity used human would still able read eye respond infrared . problems others special sets units em radiation developed used humanrelated design problems . basic unit si candela cd . 1cd source defined one emits monochromatic radiation nm wavelength intensity 1683 w passing one steradian solid angle . radiation roughly middle visible spectrum . figure 7 shows 1cd source pictorially defined . 1cd source cen ter sphere radius r emit radiation aforementioned frequency en ergy 1683 w part surface area . many units employed describe visible luminous energy . units find significant application instrumentation measurement applications using optical technology control covered . r2 l 555 340 1012 hz 1 wm2 figure 7 candela defined terms uniform monochromatic radiation point source . optical sensors 319 3 photodetectors important part application light instrumentation problem mea sure detect radiation . processcontrolrelated applications radiation lies range ir visible sometimes uv bands . measurement sensors gen erally used called photodetectors distinguish spectral ranges ra diation rf detectors radio frequency rf applications . section study principal types photodetectors descrip tion operation specifications . 3.1 photodetector characteristics several characteristics photodetectors particularly important typical applications devices instrumentation . following discussions various types de tectors described terms characteristics . particular characteristic related em radiation detection spectral sensi tivity . given graph sensor response relative maximum function radiation wavelength . obviously important match spectral response sen sor environment used . usual standard characteristics sensors transfer function linearity time constant signal conditioning given . 3.2 photoconductive detectors one common photodetectors based change conductivity semi conductor material radiation intensity . change conductivity appears change resistance devices also called photoresistive cells . resistance parameter used transduced variable describe device point view resistance changes versus light intensity . principle earlier noted semiconductor material energy gap exists conduction electrons valence electrons . semiconductor photodetector photon absorbed thereby excites electron valence conduction band . many electrons excited conduction band semiconductor resistance decreases making resistance inverse function radiation intensity . photon provide excitation must carry least much energy gap . equation 3 indicates maximum wavelength 7 max maximum detectable radiation wavelength wg semiconductor energy gap j h plancks constant 6.63 1034 js max hc wg ep hc max wg optical sensors 320 radiation wavelength greater predicted equation 7 cause resistance change semiconductor . germanium band gap 0.67 ev . find maximum wavelength resistance change photon absorption . note . solution find maximum wavelength lies ir . important note operation thermistor involves thermalenergy exciting electrons conduction band . prevent photoconductor showing similar thermal effects necessary either operate devices controlled tem perature make gap large thermal effects produce conduction electrons . approaches employed practice . upper limit cell spectral response determined many factors reflectivity transparency certain wavelengths . cell structure two common photoconductive semiconductor materials cad mium sulfide cds band gap 2.42 ev cadmium selenide cdse 1.74ev gap . large gap energies materials high resistiv ity room temperature . gives bulk samples resistance much large practical applications . overcome special structure used shown figure 8 min imizes resistance geometrically provides maximum surface area detector . result based equation figure 8a shows basic idea behind structure photoconductive cell . es sentially make photoconductor wide thin layer shown . area presented light large maximum exposure whereas electrical length small reduces nominal resistance . course structure unwieldy strip wound back forth insulating base shown figure 8b . l l wl crosssectional area m2 l length resistivity r resistance r la max 1.86 mm max 6.63 1034 js3 108 ms 0.67 ev1.6 1019 jev max hc wg 1.6 1019 j 1 ev example 6 optical sensors 321 figure 8 photoconductive cell structure maximize exposure minimize resistance . table 1 photoconductor characteristics photoconductor time constant spectral band cds 0.47 cdse 0.6 pbs 1 pbse 1.5 4 mm 10 ms 3 mm 400 ms 0.77 mm 10 ms 0.71 mm 100 ms cell characteristics characteristics photoconductive detectors vary con siderably different semiconductor materials used active element . characteristics summarized typical values table 1. nominal dark resistance variation resistance intensity usually pro vided terms graph table resistance versus intensity particular wavelength within spectral band . typical values dark resistance vary hundreds ohms several various types photoconductors . variation radiation intensity usually nonlinear resistance decreasing radiation intensity increases . figure 9 optical sensors 322 figure 9 photoconductive cell resistance changes nonlinearly radiation intensity . shows typical graph resistance change versus em radiation intensity . graph wavelength maximum response . response less wavelength goes value . pbs pbse cells able detect infrared radiation fore also susceptible thermal resistance changes . usually used temperature controlled enclosures prevent thermal resistance changes masking radiation effects . cds cell common photoconductive cell commercial use . spectral sponse similar human eye shown figure 6. signal conditioning like thermistor photoconductive cell exhibits resistance decreases nonlinearly dynamic variable case radiation intensity . generally change resistance pronounced resistance change several hundred orders magnitude dark normal daylight . absolute intensity measurement desired calibration data used conjunction accu rate resistancemeasurement method . optical sensors 323 figure 10 circuit solution example 7. sensitive control ambientradiation intensity obtained using cell bridge circuit adjusted null ambient level . various op amp circuits using photoconductor circuit element used convert resistance change current voltage change . important note cell variable resistor therefore max imum power dissipation exceeded . cells rating 50 500 mw depending size construction . cds cell dark resistance resistance light beam . cell time constant 72 ms. devise system trigger 3v comparator within 10 ms beam interruption . solution many possible solutions problem . let us first find cell resistance 10 ms using must v signal comparator cell resistance . circuit figure 10 accomplish . cell feedback invert ing amplifier v constant input . output make v r1 13 k r2 39.077 k vout 3 r2 39.077 k vout r2 r1 b 1 v r2 r1 1.0 r2 39.077 k 3 r10 ms 30 k 70 k 0.1296 39.077 k rt r1 rf r11 etr 30 k 100 k example 7 optical sensors 324 figure 11 photovoltaic solar cell giant pn junction diode . ensures comparator trigger 10 ms beam interruption . see comparator trigger beam present set amplifier output insufficient trigger comparator . 3.3 photovoltaic detectors another important class photodetectors generates voltage proportional incident em radiation intensity . devices called photovoltaic cells voltage generating characteristics . actually convert em energy electrical energy . applications found em radiation detectors power sources converting solar radiation electrical power . emphasis consideration instrumentation type applications . principle operating principles photovoltaic cell best described figure 11. see cell actually giant diode constructed using pn junc tion appropriately doped semiconductors . photons striking cell pass thin pdoped upper layer absorbed electrons n layer causes mation conduction electrons holes . depletionzone potential pn junction vout 2.3 v vout 30 k 13 k 1 v r2 30 k optical sensors 325 figure 12 iv curves pn junction diode vary exposure em radiation . separates conduction electrons holes causes difference poten tial develop across junction . upper terminal positive lower negative . also possible build cell thin ndoped layer top polarities opposite . electrical characteristics photovoltaic cell understood reference pn junction diode iv characteristics . figure 12 family iv curves shown photosensitive diode function light intensity junction . note junction illuminated voltage generated across diode shown iv curve crossing zero current axis nonzero voltage . photovoltaic voltage . figure 12 also shows reverse current diode reverse biased also increases radiation intensity . basis photodiode dis cussed next . photovoltaic cells also range spectral response within voltage produced . clearly frequency small individual photons insuf ficient energy create electronhole pair voltage produced . also upper limit frequency optical effects radiation penetration cell . optical sensors 326 figure 13 thvenin equivalent circuit photovoltaic cell . resistance also varies radiation . since photovoltaic cell battery modeled ideal voltage source series internal resistance shown figure 13. turns voltage source varies light intensity approximately logarithmic fashion 8 internal resistance cell also varies light intensity . low intensity resistance may thousands ohms whereas higher intensities may drop less 50 ohms . complicates design systems derive maximum power cell since optimum load equal internal resistance . fortunately higher intensities internal resistance nearly constant . shortcircuit current simply cell voltage divided internal resistance varies linearly light intensity . easy understand since current proportional number charge carriers proportional num ber photons striking cell thus radiation intensity . figure 12 shows shortcircuit current values current iv curve crosses zerovoltage line . signal conditioning since shortcircuit current linearly related radiation intensity preferable measure current using cell measure ment instrumentation . figure 14 shows obtained connecting cell directly op amp . since current op amp input must zero feedback current r must equal . therefore output voltage given 9 since current linearly proportional light intensity output voltage . vout risc isc isc isc vcrc isc ir light intensity v0 constant dependent cell material vc opencircuit cell voltage vc l v0 loge 1 ir rc vc figure 14 circuit converts cell shortcircuit current proportional voltage . optical sensors 327 photovoltaic cell used radiation intensity 5 . mea surements show unloaded output voltage ranges 0.22 0.41 v tensity delivers current 0.5 1.7 100 load . a. find range shortcircuit current . b. develop signal conditioning provide linear voltage 0.5 1.2 v intensity varies 5 . solution a. find shortcircuit current need find cell resistance given intensities . done noting load current delivered 100 load given cell opencircuit voltage cell internal resistance . solv ing resistance find find shortcircuit current given b. signal conditioning consist first op amp currenttovoltage converter figure 14. signal conditioning provide required output . lets find equation whole signal conditioning find form two equations given facts subtracting v0 1.2 0.00286316.7 0.294 0.7 0.0021m 316.7 0.5 0.00065m v0 1.2 0.00286m v0 v0 vout misc v0 isc12 mwcm2 0.42147 2.86 isc5 mwcm2 0.22340 0.65 isc vcrc rc 0.42 0.170.0017 147 12 mwcm2 rc 0.22 0.050.0005 340 5 mwm2 rc vc 100ilil rc vc il vc 100 rc 12 mwcm2 12 mwcm2 example 8 optical sensors 328 figure 15 one solution example 8. whole signal conditioning first stage lets use 100 feedback resistor remains provided differential amplifier since figure 15 shows final circuit . cell characteristics properties photovoltaic cells depend materi als employed cell nature doping used provide n p layers . cells used low temperatures prevent thermal effects obscuring ra diation detection . silicon photovoltaic cell probably common . table 2 lists several types cells typical specifications . thermal effects pronounced producing changes order put voltage fixed intensity . mvc vout 3.167100isc 0.0928 vout 3.167100isc 0.294 vout 316.7isc 0.294 table 2 typical photovoltaic cell characteristics cell material time constant spectral band silicon si selenium se germanium ge indium arsenide inas cooled indium antimonide insb cooled 7 mm 2.3 mm 10 ms 3.6 mm 1.5 mm 1 ms 1.8 mm 0.79 mm 50 ms 0.62 mm 0.3 mm 2 ms 1 mm 0.44 mm 20 ms optical sensors 329 figure 16 photodiode uses pn junction reverse current measure radiation . 3.4 photodiode detectors previous section showed one way pn junction diode sensitive em ra diation photovoltaic effect . pn diode sensitive em radiation another way well gives rise photodiodes sensors . photodiode effect refers fact photons impinging pn junction also alter reverse currentversusvoltage characteristic diode . particular reverse current increased almost linearly light intensity . thus photodiode operated reversebias mode . figure 16a shows basic reversebias connection diode . optical sensors 330 figure 17 photodiodes small often use internal lens focus light junction . figure 18 circuit example 9. figure 12 already showed reverse current increases light intensity . fig ure 16b load line drawn reversecurrent iv curves diode . load line used determine voltage changes across diode function light intensity . darkcurrent response basic diode reverse current illumination pn junction . curves like figure 12 figure 16b given radiation intensity polychromatic standard source tungsten heated 2870 k white hot . one primary advantages photodiode fast time response nanosecond range . generally photodiodes small like regular diodes lens must used focus light pn junction . often lens built photodiode casing shown figure 17. spectral response photodiodes typically peaked infrared usable response visible band . standard sources like tungsten given previously pro vide radiation broad range visible infrared farinfrared radiation . photodiode figure 16 used circuit shown figure 18. range output voltage result light intensities 100 ? solution load line drawn curves figure 16b extending supply voltage 20 v current voltage drop across diode . load line shows reverse current range intensity ranges 100 . op amp circuit simple currenttovoltage converter output . therefore range output voltage . note dark current output 0.075 v light present . 75 1000800 0.8 v 1000200 0.2 v vout 1000i 400 wm2 800 200 20 v15 k 1.33 400 wm2 example 9 optical sensors 331 figure 19 phototransistor need base current effectively supplied incoming light intensity . cases photodiode operated photovoltaic mode since output zero voltage zero . mode speed slower however shortcircuit currents small . phototransistor extension photodiode concept phototransistor . sensor intensity em radiation impinging collectorbase junction transistor acts much like base current producing amplified collectoremitter current . figure 19 shows schematic symbol typical grounded emitter connection phototransistor . figure 20 illustrates em radiation intensity represented family collectoremitter current versus voltage curves much way base current regular bipolar transistor action . phototransistor fast photodiode still offers response times microseconds . usual limit spectral response maximum response infrared usable range visible band . device used much like figure 20 iv curves phototransistor collector current collectoremitter voltage form family curves light intensity parameter . optical sensors 332 transistor except base current required . aload line using collector resistor supply voltage show response function light intensity . often phototransistor builtin lens like figure 17 concentrate radiation transistor junction . phototransistor characteristics shown figure 20 used circuit like figure 19 14v supply 500 collector resistance . range results light intensity ranging 10 ? solution load line runs 14v value axis current 14 v500 axis . see crosses line 12 v across tran sistor . intensity load line crosses voltage 7 v. thus transistor voltage range 12 7 v. 3.5 photoemissive detectors type photodetector developed many years ago still one sen sitive types . wide variety spectral ranges sensitivities selected many types photoemissive detectors available . principles understand basic operational mechanism photoemissive de vices let us consider twoelement vacuum phototube shown figure 21. pho todetectors largely replaced detectors modern measurements . 40 mwcm2 10 wm2 ic 28 vce 40 wm2 vce example 10 figure 21 structure basic photoemissive diode . optical sensors 333 figure 22 photomultiplier depends multiplication photoelectrons achieve high gain . dynode maintained successively positive voltages accelerate electrons . figure 21 note cathode maintained negative voltage respect wire anode grounded resistor r. inner surface cathode coated photoemissive agent . material metal electrons easily detached metal surface . easily means take much energy cause electron leave material . particular photon strike sur face impart sufficient energy electron eject coating . electron driven cathode anode potential resis tor r. thus current depends intensity light striking cathode . photomultiplier tube simple diode described previously basis one sensitive photodetectors available shown figure 22a . previously optical sensors 334 noted cathode maintained large negative voltage coated photoemissive material . case however many following electrodes called dynodes main tained successively positive voltages . final electrode anode grounded resistor r. photoelectron cathode strikes first dynode sufficient energy eject several electrons . electrons accelerated second dynode strikes surface sufficient energy eject several electrons . process repeated dynode electrons reach anode greatly multiplied number constitute current r. thus photomultiplier unlike transducers gain associated detec tion . one single photon striking cathode may result million electrons anode ! effect gives photomultiplier excellent sensitivity . many electrode design arrangements used principle operation shown figure 22a . specifications specifications photomultiplier tubes depend several features 1. number dynodes material constructed deter mine amplification current gain . gains relating direct pho toelectrons cathode electrons anode typical . 2. spectral response determined two factors . first spectral sponse photoemissive material coated cathode . second transparency glass envelope window em radiation must pass . using various materials possible build different types pho tomultipliers taken together span wavelengths 0.12 . combination cathode coating window material described standard system indicate spectral response . thus designation number identifies particular band . example s3 designates flat response 0.35 . time constant photomultiplier tubes ranges typically . signal conditioning signal conditioning usually highvoltage negative supply directly connected photocathode . resistive voltage divider figure 22b provides respective dynode voltages . usually anode grounded resistor voltage drop across resistor measured . cathode typically requires v dynode divided evenly . 10dynode tube v cathode thus v first dynode v second shown figure 22b . 4 pyrometry one significant applications optoelectronic transducers noncontact measurement temperature . early term pyrometry extended include several methods temperature measurement rely em radiation . methods depend direct relation objects temperature em radiation emitted . section consider mechanism radiation temperature lated used temperature measurement . 800 900 1000 2000 1000 0.1 20 0.7 0.95 107 105 optical sensors 335 4.1 thermal radiation objects finite absolute temperature emit em radiation . nature extent radiation depend temperature object . understanding descrip tion phenomenon occupied interest attention physicists many years briefly note results research following argument . well known em radiation generated acceleration electrical charges . also seen addition thermal energy object results vibratory motion molecules object . simple marriage concepts coupled fact molecules consist electrical charges led conclusion object finite ther mal energy emits em radiation charge motion . object emitting em radiation radiation form energy object must losing energy true temperature would decrease en ergy radiates away . fact isolated small sample occur . general ever state equilibrium reached object gains much energy radiates remains fixed temperature . energy gain may thermal contact another object absorption em radiation surrounding objects . important note interplay em radiation emission heat absorption object achieving thermal equilibrium . blackbody radiation develop quantitative description thermal radiation consider first idealized object . idealized object absorbs radiation impinging regardless wavelength therefore becomes ideal absorber . object also emits radiation without regard special peculiarities particular wavelength therefore becomes ideal emitter . assume ideal object placed thermal equilibrium temperature controlled . figure 23 em radiation emitted ideal object plotted show intensity spectral content radiation several temperatures . ab scissa radiation wavelength ordinate energy emitted per second power dissipated per unit area particular wavelength . area curve indicates total energy per second power dissipated per unit area emitted object . several curves shown plot different temperatures . see low temperatures radiation emitted predominantly longwavelength farinfrared microwave region . temperature increased maximum emitted radiation shorter wavelengths finally high temperatures maximum emitted radiation near visible band . shift emission peak temperature object begins glow temperature increases . blackbody temperature emitted radi ation onetoone correspondence following respects 1. total radiation study blackbody radiation shows total emitted ra diation energy per second wavelengths increases fourth power temperature 10 temperature k object e radiation emission js per unit area wm2 e t4 optical sensors 336 figure 23 ideal curves em radiation function temperature . 2. monochromatic radiation also clear figure 23 radiation energy emitted particular wavelength increases function tempera ture . thus js per area given wavelength increases temperature . manifested object getting brighter wavelength temperature increases . blackbody approximation materials emit absorb radiation preferred wavelengths giving rise color example . thus objects display radiation energy versus wavelength curve like ideal blackbody . correction fac tors applied relate radiation curves real objects ideal blackbody . calibration purposes blackbody constructed shown figure 24. radiation emitted small hole metal enclosure close ideal blackbody . 4.2 broadband pyrometers one type temperature measurement system based emitted em radiation uses lation total emitted radiation energy given temperature . shows tal em energy emitted wavelengths expressed joules per second per unit area optical sensors 337 figure 24 blackbody simulated hole metal sphere temperature t. figure 25 total radiation pyrometer determines objects temperature input radiation broad band wavelengths . varies fourth power temperature . system responded energy could thus measure temperature emitting object . practice virtually impossible build detection system respond radiation wavelengths . study curves figure 23 however shows energy carried ir visible bands radiation . collection radiation energy bands provides good approximation total radiated energy . total radiation pyrometer one type broadband pyrometer designed collect radiation extending visible infrared wavelengths ferred total radiation pyrometer . one form device shown figure 25. radiation object collected spherical mirror focused broad band detector d. signal detector representation incoming ra diation intensity thus objects temperature . devices detector often series microthermocouples attached blackened platinum disc . radiation ab sorbed disc heats results emf developed thermocouples . advantage detector responds visible ir radiation little gard wavelength . ir pyrometer another popular version broadband pyrometer one mostly sensitive ir wavelengths . device often uses lens formed silicon optical sensors 338 germanium focus ir radiation suitable detector . ir pyrometers often hand held pistolshaped devices read temperature object toward pointed . characteristics broadband pyrometers often readout directly tempera ture either analog digital . generally switchable range accu racy depending cost . accurate measurements require input emissivity information variation reading scale factor . correction factor ac counts fact object ideal blackbody conform exactly radiation curves . applications technology ir pyrometers advanced devices experienced vast growth industrial applications . applications follows 1. metal production facilities numerous industries associated pro duction working metals temperatures excess common . contact temperature measurement elements usually limited lifetime . broadband pyrometers however noncontact measurement made result converted processcontrol loop signal . 2. glass industries another area high temperatures must controlled production working annealing glasses.the broadband pyrometers find ready application processcontrol loop situations . carefully designed control systems glass furnace temperatures regulated within . 3. semiconductor processes extensive use semiconductor materials electronics resulted need carefully regulated hightemperature processes producing pure crystals . applications pyrometer mea surements used regulate induction heating equipment crystal pull rates related parameters . accuracy ir pyrometers improved temperature ranges 500 k many applications historically used contact measurements change ir pyrometers . 4.3 narrowband pyrometers another class pyrometer depends variation monochromatic radiation energy emission temperature . devices often called optical pyrometers generally involve wavelengths visible part spectrum . know intensity particular wavelength proportional temperature . intensity one object matched another temperatures . optical pyrometer intensity heated platinum filament varied matches object whose tempera ture determined . temperatures filament temper ature calibrated versus heat setting temperature object determined . figure 26 shows typical system implementation optical pyrometer . system focused object whose temperature determined filter picks 0.1 k 500c 0.5c 5c 1000c 0 optical sensors 339 figure 26 optical pyrometer matches intensity object heated calibrated filament . comparison made red using red filters . desired wavelength usually red . viewer also sees plat inum filament superimposed image object . low heating filament appears dark background object figure 27a . filament heated even tually appears bright filament background object figure 27c . point brightness filament measured object match . setting filament disappears respect background object object temperature read filament heating dial . range optical pyrometer devices determined low end point object becomes visible red virtually limited melt ing point platinum upper end . accuracy typically k k function operator error matching intensities emissivity corrections object . devices easily adapted control processes require acute optical comparisons usually human operator . applications predominantly spot measurements constant monitoring control temperature required . 5 optical sources one limitation application em radiation devices process control lack convenient characteristics available optical sources . often complicated colli mating lens systems required heat dissipation may excessive wavelength char acteristics may undesirable host problems may arise . development sources relying light amplification stimulated emission radiation laser provided em radiation sources good characteristics application processcontrol measurement . section consider general characteris tics conventional laser light sources applications measurement problems . discussion confined sources visible ir wavelength bands although noted many applications exist regions em ra diation spectrum . 10 5 3000 k 500 k optical sensors 340 figure 27 examples appearance filament use optical pyrometer . 5.1 conventional light sources development laser two primary types light sources employed . fundamentally distributed radiation emerges physically distributed source . also divergent incoherent often particularly monochromatic . incandescent sources common light source based principle ther mal radiation discussed section 4. thus fine currentcarrying wire heated high temperature losses emits considerable em radiation visible band . standard lamp example type source flashlight lamps automobile headlights . light distributed broad wavelength spectrum see figure 23 clearly monochromatic . light actually results molec ular vibrations induced heat light one section wire associated light another section . argument see light incoherent . divergent nature light inherent observation direction emission preferential . fact employment lenses mirrors collimate light familiar anyone uses flashlight . large fraction emitted radiation lies ir spec trum shows radiant heat loss rather effective lighting . fact great extent elevated temperature glass bulb incandescent lamp caused absorption glass ir radiation emitted filament . i2r optical sensors 341 figure 28 representation electron transitions atom emission em radiation . see incandescent source polychromatic divergent incoherent inefficient visiblelight production . yet source workhorse light ing many years . deserving use measurement transducer limi tations severely restrictive . atomic sources light sources provide red neon signs used adver tising familiar fluorescent lighting examples another type light source . light sources atomic depend rearrangements electrons within atoms material light originates . figure 28 shows schematic rep resentation atom nucleus associated electrons . one electrons excited normal energy level different position indicated transition energy must provided atom . electron returns normal level short time atoms . gives energy form emitted em radiation indicated transition figure 28. process often represented energy diagram figure 29. lines represent pos sible positions energies electronexcited states . excitation previous example indicated upward arrow . deexcitation resulting radiation shown . arrows show multitude possible excitations de excitations may occur . wavelength emitted radiation inversely proportional energy transition see equation 3. thus shorter wavelength . atomic sources mechanism provided cause excitation electron states em radiation emitted resulting deexcitation appears visible light . neon light excitation provided collisions electrons ions gas electrons provided electric current gas . case neon gas deexcitation results light emission whose wavelength predominantly redorange part visible spectrum . thus light nearly c b b b b 108 b optical sensors 342 figure 29 energylevel diagram schematically shows electron orbit energies possible transitions . monochromatic although light wavelengths representing different deexcitation modes still present . fluorescent light twostep process occurs . initial deexcitation produces light predominantly ultraviolet uv part spectrum absorbed ner coating bulb . electrons atoms coating material excited uv radi ation deexcited many levels transitions producing radiation broad band wavelengths visible region . thus radiation emitted polychromatic . ra diation sources also divergent incoherent . fluorescence certain materials exhibit peculiar characteristic regard deexcitation transition time electrons transition may take much longer average normal s. cases average transition time may even hours days . levels called longlived states show materials fluo resce glow dark following exposure intense light source . actually happens material excited exposure light source fills electrons longlived excited states . transition time may several minutes ob ject continues emit light taken dark room excited levels finally depleted . longlivedstate materials actually form basis development laser . 5.2 laser principles stimulation emission basic operation laser depends principle formulated albert einstein regarding emission radiation excited atoms . found several atoms material excited level one atoms emits radiation others passage radiation excited atoms also stimulate deexcite . significant stimulated deexcite emitted ra diation inphase direction stimulating radiation . effect shown figure 30 atom emits radiation spontaneously . radiation passes 108 optical sensors 343 figure 30 stimulated emission radiation gives rise monochromatic coherent radiation pulses moving random directions . atoms indicated b c also stimulated emit direction inphase coherently . radiation also monochromatic single transition en ergy involved . stimulated emission first requirement realization laser . laser structure see concept stimulated emission employed laser consider figure 31. host material also contains atoms longlived states described earlier . atoms spontaneously deexcite radiation stimulates atoms radiation path deexcite giving rise pulses radiation indicated . consider one pulses directed perpen dicularly mirrors . pulse reflects mirrors speed light stimulating atoms paths emit . majority excited atoms quickly deexcited fashion . mirror 60 reflecting pulse reflection passed . overall result following excitation pulse light emerges monochromatic coherent little divergence . system also made operate continuously providing continuous excitation atoms plenish deexcited stimulated emission . properties laser light light comes laser characterized following properties 1. monochromatic laser light comes predominantly particular energy level transition therefore almost monochromatic . thermal vibration atoms presence impurities cause wavelengths present . 2. coherent laser light coherent emerges laser output mirror remains certain distance laser called coherence length . slight variations coherency induced thermal vibrations effects eventually cause beam lose coherency . m2 m2 m2 m1 p1 p2 optical sensors 344 figure 31 laser gives preference radiation pulses emitted perpendicular reflecting surfaces . 3. divergence laser light emerges perpendicular output mirror beam little divergence . typical divergency may 0.001 rad . 4. power continuousoperation lasers may power outputs 0.5 mw 100 w . pulsetype lasers power levels terrawatts short time pulsesmicroseconds even nanoseconds duration . table 3 summarizes characteristics typical industrial lasers . workhorses measurement applications hene continuousoperation lasers . lasers rel atively cheap operate visible red wavelength regions . table 3 laser characteristics material wavelength power applications heliumneon 0.6328 red 0.5 100 mw general purpose ranging gas cw alignment communication etc . argon gas 0.4880 green 0.1 5 w heating smallpart welding cw communication 10 100 w pulsed carbon dioxide 10.6 ir 0 1 kw cutting welding communication gas cw vaporization drilling 0 100 kw pulse ruby solid 0.6943 red 0 1 gw cutting welding vaporization pulse drilling ranging neodymium 1.06 ir 0 1 gw cutting welding vaporization solid pulse drilling communication mm optical sensors 345 hene laser exit diameter 0.2 cm power 7.5 mw divergence rad used detector 150 away . detector area find power laser light detector must respond . solution solve problem must ultimately find intensity laser beam 150 away . first find beam area 150 using known divergence . figure 4 find see example 5 radius 150 thus area intensity 150 find power intercepted detector thus detector must respond power power . although small low power measured many detectors . reader show similar calculation source flashlight divergence rad would resulted much lower power detector . 6 applications several applications optical transduction techniques process control discussed . intention demonstrate typical nature application de sign details . pyrometry temperature measurement already discussed considered examples . 6.1 label inspection many manufacturing processes large number items produced batch runs automatic process attaches labels items . inevitably items either missing labels labels incorrectly attached . system figure 32 examines 4.35 108 w 34.9 103 2 18.2 w pdet 1.82 105 w pdet iadet 0.036 wm25 104 m2 0.036 wm2 7.5 103 w 0.206 m2 pa a2 0.206 m2 a2 r2 2 3.140.256 m2 r2 0.256 r2 103 150 mtan1.7 103 rad r2 r1 l tan 5 cm2 1.7 103 example 11 optical sensors 346 figure 32 labelinspection system example optical technique . 323 optical sensors 347 figure 33 one possible circuit implement example 12. presence alignment labels boxes moving conveyor belt system . label missing improperly aligned photodetector signals incorrect terms light reflected sources solenoid pushout rejects item conveyor . detectors case could cds cells sources either focused incandescent lamps small hene laser . sourcedetector system detects presence box initiates measurements sourcedetector systems b c. signals received de tectors b c identical preset level label correct box moves accept conveyor . instance misalignment missing label indicated box ejected onto reject conveyor . devise signalconditioning circuitry application figure 32 using cds cells detectors . cells resistance less label considered correct . label produces . solution one many possible methods implementing solution shown figure 33. label misaligned missing one comparator outputs high thus driving 2000 1000 100 example 12 optical sensors 348 figure 34 turbidity measurement made inline optical system . summing amplifier close reject relay . box present power applied reject solenoid box ejected . resistors chosen cell sistance exceeds comparator outputs go high . relay chosen close ei ther comparator signal present . 6.2 turbidity one many characteristics liquids involved process industries called turbidity . turbidity refers lack clarity liquid caused sus pended particulate material . turbidity indication problematic condition cause impurities improperly dissolved products . also intentional example material suspended liquid ease transport pipes . turbidity measured optically affects propagation light liquid . also possible measure turbidity liquids process inlinethat taking periodic samples method similar figure 34. case laser beam split passed two samples matched photodetectors . one sample carefully selected standard allowed acceptable turbidity . inline sample process liquid . inline sample attenuates light standard signalconditioning system triggers alarm takes appropriate action reduce turbidity . 1100 optical sensors 349 6.3 ranging development laser fast small photodetectors introduced number methods measuring distances rate travel objects noncontact means . distances measured measuring time flight light pulses scattered distant object . speed light constant use simple equation find dis tance providing time flight known . thus pulse light directed dis tant object reflection detected time later distance 11 object approximately 300 away . find approximate time difference calculate distance using light pulse reflected object . solution ranging method employed measuring shorter distances limited time measurement capability detecting reflected signal longer distances . surveying instruments measuring distance developed method . velocity rate motion measured electronic computing system records changing reflectedpulse travel time computes velocity . interferometric methods used doppler radar beyond scope book text . summary em radiation measurement allows noncontact measurement techniques many vari ables temperature level others . chapter presented essential elements em radiation application processcontrol measurement . included following 2 2d c 23 102 3 108 ms ct 2 time light round trip c speed light ms distance object ct2 example 13 optical sensors 350 1. em radiation defined form energy characterized constant propagation speed . wavelength frequency related 1 2. form energy em radiation best described intensity watts per unit area divergence spreading radians spectral content . 3. associated human eye detection light described set luminous units relative standard visible source . 4. four basic photodetectors photoconductive photovoltaic photoemissive photodiode . special characteristics relative spectral sensitivity de tectable power response time . 5. pyrometry relates measurement temperature measuring intensity em ra diation object function temperature . 6. total radiation ir pyrometers may used processcontrol applications measurement temperature 300 k almost limit . accuracy varies k k better cases . 7. conventional light sources usually divergent incoherent . incandescent types polychromatic atomic sources may almost monochromatic . 8. laser based concept stimulated emission one photon stimulate excited atoms emit many photons . 9. light laser nearly nondivergent coherent monochromatic . 10. applications optical techniques particularly useful contact measurement difficult . problems section 2 1 find frequency 3cm wavelength em radiation . band phenomena radiation represent ? 2 source green light frequency hz . wavelength nanometers nm ? 3 light beam passed 100 liquid index refraction . long take light traverse 100 without liquid ? 4 flashlight beam exit power 100 mw exit diameter 4 cm di vergence . calculate intensity 60 size beam distance . 5 detector resolve light intensity . far away placed 10w point source ? 6 many watts power emitted 1cd source ? 7 laser 0.03mrad divergence 1000 w power 2cm exit diameter aimed moon 238000 mi . beam size moon ? radiation intensity ? 25 mwm2 mwcm2 1.2 n 1.7 6.5 1014 0.5 10 c f optical sensors 351 figure 35 circuit problem 13 . 8 suppose 700nm beam power 0.2 mw 5cm diameter strikes detector 0.2cm diameter . many photons strike detector per second ? section 3 9 cds cell time constant 73 ms dark resistance . light pulse 20 ms length strikes cell . intensity light pulse final resistance would plot resistance versus time 100 ms. resistance 20 ms ? 10 suppose another 20ms light pulse may strike cell problem 9 lower intensity final resistance would . call one problem 9 . devise system latch red led strikes cell green led strikes cell . time pulse strikes cell latches cleared appropriate led turned . 11 photoconductive cell figure 9 used measure distance stable source 0.5 wavelength radiation . source 75 mw power 2 mr di vergence 0.5cm exit radius . construct graph sensor resistance versus dis tance 0 2.5 m. 12 design system using photoconductive cell figure 9 measure display light intensity . make design 20 produces output 0.2 1.0 v. readout error intensity ? 13 silicon photovoltaic cell employed circuit shown figure 35. cell internal resistance . light pulse 20ms duration intensity strikes detector . sketch output voltage versus time find maximum voltage produced . cell calibration voltage . v0 0.60 v 2 wm2 65 60 mwcm2 100 mwcm2 p2 p1 p2 p1 85 k 45 k 150 k optical sensors 352 figure 36 circuit problem 16 . 14 single silicon photovoltaic cell found opencircuit voltage 0.6 v shortcircuit current 15 full sunlight . show collection cells arranged deliver 500 mw 9.0 v load . 15 design system using photodiode figure 16 interface 100 400w intensity computer . design must use 10bit bipolar adc 5.0v ref erence . design must produces adc output produces . 16 phototransistor figure 20 used circuit figure 36. calculate output voltage versus light intensity 10 . 17 devise system phototransistor figure 20 trigger compara tor light intensity rises . 18 photomultiplier current gain . weak light beam produces 50 electronss photocathode . anodetoground resistance must used get 3 voltage light pulse ? charge electron coulomb . section 5 19 10w argon laser beam diameter 1.5 cm . focused 1mm diameter find intensity radiation beam focus . 20 turbidity system figure 34 tanks 2 length . laser 2.2mrad divergence 2.1mw power 1mm exit radius employed . sample nominally detracts beam power 12 per meter find tensity beam detector . laser 1.5 beam splitter . note splitter halves power affect divergence . 21 special timing circuit resolve 2.4ns time difference . find closest distance could measured using laser ranging . 22 turbidity system figure 34 two matched photoconductive cells used r vs. given figure 37. design signalconditioning system puts deviation flowing system turbidity volts triggers alarm intensity reduced 10 nominal . 15 mwcm2 il 1.6 1019 v 3 106 20 wm2 40 wm2 40010 400 wm2 10010 100 wm2 m2 optical sensors 353 figure 37 figure problem 22. supplementary problems s1 figure 38 shows laser 60mw output power 1.0cm output beam diame ter fixed divergence . aphotodiode used measure distance source 0.0 5.0 using known decrease intensity distance . photodiode used circuit figure 16a . circuit relation diode reverse current light tensity . a. design signal conditioning distance 0.0 5.0 converted 8bit digital signal . use 8bit unipolar adc 10.0v reference . b. plot adc output expressed base 10 number versus distance . comment linearity . s2 automatic security camera must operate follows intrusion occurs 1. ambient light level greater shutter activated . 2. ambient light less light source triggered . 3. source lighting reaches shutter triggered . 20 mwcm2 20 mwcm2 20 mwcm2 ia 1.429ilwm2 57 r 15 k vs 20 v 0.2 optical sensors 354 figure 38 setup problem s1 . figure 39 solar tracking system . design system signal conditioning using following assumptions a. shutter light source triggered ttl logic high signals . b. cds cell characteristics given figure 9 used monitor ambient light level . c. photodiode characteristics given figure 16b used measure light intensity light source triggered . explain cds cell could used also . s3 onedimensional solar panel suntracking system uses two silicon photocells shown figure 39. solar image centered cells ex posed areas shortcircuit currents sscs . sun moves image displace amount x shown . optical sensors 355 ssc one increase increased exposure area whereas decrease . ssc varies x difference sscs error signal used drive panel sscs . use op amp circuits convert ssc cell proportional voltage . devise differential amplifier system output error voltage solar image deflects cm . plot graph put voltage versus deflection . comment linearity . 1 2.5 v iscx c2 1 2x 8 215 4x 4x2 sin1 1 2x 4 b 1 hz microwave 3 without liquid liquid 5 5.64 7 23km diameter 9 see figure s.43 20 ms. 11 see figure s.44 . 13 see figure s.45 15 see figure s.46 . 17 see figure s.47 . 19 21 0.36 12.7 mwm2 vmax 0.8 v 124.8 k 2.4 wm2 0.57 0.33 1010 figure s.42 solutions oddnumbered problems optical sensors 356 figure s.43 figure s.44 0 5 10 15 20 25 1.0 0.8 0.6 0.4 0.2 v time ms figure s.45 optical sensors 357 figure s.46 1000 500 400 c 14 v figure s.47 supplementary problems s1 a. see figure s.48 . b. see figure s.49 nonlinear . s3 see figure s.50 circuit . see figure s.51 plot linear cm slightly nonlinear extreme . 0.5 0.5 optical sensors 358 final control instructional objectives chapter presents general techniques features final control elements used processcontrol systems . reading chapter working examples problems end chapter able define three parts final control element operation . explain basic principles pneumatic nozzleflapper system . define basic operation power electronics devices scr gto triac . explain bjt switching results less power dissipation simple amplification . provide descriptions power mosfet igbt . explain dc motor works . describe two types ac motors . explain operation pneumatic valve stem positioning actuator . describe difference three control valve types . explain process control valve size determination . 1 introduction typical processcontrol application measurement evaluation process variable carried using lowenergy analog digital signal represent variable . control signal carries feedback information back process necessary cor rective action expressed low level representation . general con trolled process may involve highenergy condition flow thousands cubic meters liquid several hundred thousand newton hydraulic forces steel rolling mill . function final control element translate lowenergy control chapte5r 5 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 7 process control 359 signals level action commensurate process control . con sidered amplification control signal although many cases signal also con verted entirely different form . chapter general concepts used implement final control element func tion presented together specific examples several areas process control . sensor used measure variable processcontrol application negligible effect process . follows sensor selection based mainly quired measurement specifications necessary protections sensor harmful effects process environment . sensor selection processcontrol technologist need intimate knowledge mechanisms process . arguments apply however considering final control element . final control element necessarily profound effect process therefore must selected detailed considerations possessive operational mechanisms . selection therefore responsibility processcontrol technolo gist alone . view processcontrol technologist sufficient background final control element associated signal conditioning know de vices interface preceding process controllers transducers . technologist able communicate work closely process engineers subjects . objectives chapter selected enable future technologist fulfill responsibility . 2 final control operation final control element operations involve steps necessary convert control signal generated process controller proportional action process . thus use typical 4 20ma control signal vary large flow rate say certainly requires intermediate operations . specific intermediate op erations vary considerably depending processcontrol design certain generaliza tions made regarding steps leading control signal final control element . typical processcontrol application conversion processcontroller sig nal control function represented steps shown figure 1. input con trol signal may take many forms including electric current digital signal pneumatic pressure . 50.0 m3min 10.0 m3min figure 1 elements final control operation . final control 360 2.1 signal conversions step refers modifications must made control signal properly terface next stage controlthat actuator . thus valve control element operated electric motor actuator 4 20ma dc control signal must modified operate motor . dc motor used modification might currentto voltage conversion amplification . standard types signal modification discussed section 3. devices perform signal conversions often called transducers convert control signals one form another current pressure current voltage like . corollary signalconversion process development special electronic devices provide highenergy output control lowenergy input . generally described term industrial electronics . section 4 presents overview important topic . 2.2 actuators results signal conversions provide amplified andor converted signal designed operate actuate mechanism changes controlling variable process . direct effect usually implemented something process valve heater must operated device . actuator translation converted control signal action control element . thus valve operated actuator device converts control signal physical action opening closing valve . sev eral examples actuators common processcontrol use discussed section 5 . 2.3 control element last get final control element . device direct influence process dynamic variable designed integral part process . thus flow controlled control element valve must built directly flow sys tem . similarly temperature controlled mechanism control element direct influence temperature must involved process . could heatercooler combination electrically actuated relays pneumatic valve control influx reactants . figure 2 control system shown control degree baking say crack ers determined cracker color . optical measurement system produces 4 20ma conditioned signal analog representation cracker color therefore proper baking . controller compares measurement setpoint outputs 4 20ma signal regulates conveyer belt feedmotor speed adjust baking time . final control operation represented signal conversion transforms 4 20ma signal 50 100v signal required motor speed control . motor self actuator conveyer belt assembly control element . applications processcontrol techniques industry varied dustry impractical consider final control techniques . study ing examples reader prepared analyze understand many techniques arise industry . final control 361 figure 2 processcontrol system showing final control operations . 3 signal conversions principal objective signal conversion convert lowenergy control signal highenergy signal drive actuator . controller output signals typically one three forms 1 electrical current usually 4 20ma 2 pneumatic pressure usually 3 15 psi 20 100 kpa 3 digital signals usually ttllevel voltages serial parallel format . many different schemes conversion signals forms depending desired final form evolving technology . following sec tions number common conversion schemes presented . always receptive advances technology subsequent new methods signal con ditioning conversion . 3.1 analog electrical signals many methods analog signal conditioning used conversions necessary final control . following paragraphs summarize common approaches . relays common conversion use controller signal activate relay simple onoff twoposition control sufficient . cases lowcurrent signal insufficient drive heavy industrial relay amplifier used boost control signal level sufficient job . final control 362 many instances electromechanical relay replaced highpower industrial electronic devices called solidstate relays . moving parts yet perform function electromechanical relay . generally lowpower ac dc signals turn solidstate relay . cases devices switch hundreds amps using milliamp control signal . solidstate relay usually implemented using scrs triacs . special knowledge devices necessary use relay however . scrs triacs discussed section 4. amplifiers highpower ac dc amplifiers often provide necessary con version lowenergy control signal highenergy form . amplifiers may serve motor control heat control lightlevel control host industrial needs . magnetic amplifier requires 5 10v input signal 4 20ma control signal . design signalconversion system provide relationship . solution first must convert current voltage provide required gain bias . get voltage using resistor current line say . 4 20 becomes 0.4 2.0 v. amplifier system must provide output given k gain appropriate bias voltage . know 0.4v input must provide 5v output 2v input must provide 10v output . allows us find k using simultaneous equations subtracting get use either equation find thus result circuit figure 3 shows implemented using op amp configura tion . rest design would involve determining op amp deliver enough current drive magnetic amplifier . booster would required . vout 3.125vin 1.2 vout 3.125vin 3.75 vb 3.75 k 3.125 5 1.6k 10 2k vb 5 0.4k vb vb vb vout kvin vb 100 example 1 final control 363 100 100 31.25 k 10 k 10 k 1150 15 v vin vout 31.25 k set 1.2 v figure 3 op amp circuit example 1. motor control many motor control circuits designed packaged units accept lowlevel dc signal directly control motor speed . system avail able possible build circuits using amplifiers along scrs triacs perform control . nature scrs triacs presented next section . basic elements electrical motors words control discussed later chapter . 3.2 digital electrical signals conversions digital signals forms required final control operations usually car ried using systems already discussed . mention however basic elements output interface computer final control . onoff control many cases process control control al gorithm accomplished simple commands outside equipment change speed turn move . cases computer simply load latched put line 1 0 appropriate . simple matter use signal close relay activate outside circuit . dac digital output must provide smooth control valve po sitioning computer must provide input dac determines appropri ate analog output . computer must provide outputs many final control elements data output module system employed . integrated modules contain chan nel addressing dac required elements selfcontained output interface system . final control 364 4bit digital word intended control setting dc resistive heater . heat put varies 0 24 v input heater . using 10v dac followed amplifier highcurrent output calculate settings minimum maximum heat dis sipation b power varies lsb changes . solution a. 4bit word total 16 states thus dac outputs voltage 0 v input 9.375 v input . use gain 2.56 heater input 0 24 v 1.6v steps . heat dissipation found 1 minimum maximum b. variation heating voltage linear power varies square voltage . increase power step change voltage found taking difference power two cases first bit change produces power change 1.28 w last bit power change 37.12 w. direct action use digital computer techniques process control become widespread new methods final control developed actuated directly computer . thus stepping motor discussed later inter faces easily digital signals computer outputs . another development special integrated circuits made reside within final control element allow digi tal signal connected directly . 3.3 pneumatic signals general field pneumatics covers broad spectrum applications gas pressure dustrial needs . one common applications provide force gas pres sures acting piston diaphragm . later chapter deal application process control . section however interested pneumatics means p 1.62v 1.6 r 0.82v 1.6 v 1.6 v p v2 r v v2 r v2v v r pmax 288 w pmax 24 v2 2 v 0 p 0 p v2 r 11112 00002 2 example 2 final control 365 propagating informationthat signal carrierand signal converted forms . principles pneumatic system information carried pressure gas pipe . pipe length raise pressure gas one end increase pressure propagate pipe pressure throughout raised new value . pressure signal travels pipe speed range speed sound gas say air 330 ms 1083 fts . thus transducer varies gas pressure one end 330m pipe 360 yd response controlled vari able pressure occurs end pipe delay approxi mately 1 s. many processcontrol installations delay time consequence although slow compared electrical signal . type signal propagation used many years process control electricalelectronic technology advanced level reliability safety enable use confidence . pneumatics still em ployed many installations either danger electrical equipment carryover previous years conversion electrical methods would cost effective . general pneumatic signals carried dry air gas signal infor mation adjusted lie within range 3 15 psi . si unit systems range 20 100 kpa used . three types signal conversion primary interest . amplification pneumatic amplifier also called booster relay raises pressure andor air flow volume linearly proportional amount input sig nal . thus booster pressure gain 10 output would 30 150 psi input 3 15 psi . accomplished via regulator activated control sig nal . schematic diagram one type pressure booster shown figure 4. sig figure 4 pneumatic amplifier booster converts signal pressure higher pressure pressure greater gas volume . final control 366 nal pressure varies diaphragm motion move plug body block booster . motion gas leak reduced pressure output line creased . device shown reverse acting highsignal pressure cause put pressure decrease . many designs also used . nozzleflapper system important signal conversion pressure chanical motion vice versa . conversion provided nozzleflapper system sometimes called nozzlebaffle system . diagram device shown figure 5a . regulated supply pressure usually 20 psig provides source air striction . nozzle open end gap exists nozzle flapper figure 5 principles nozzleflapper system . final control 367 air escapes region . flapper moves closes nozzle opening air leaks signal pressure rise supply pressure . flapper moves away signal pressure drop leaking gas . finally flapper far away pressure stabilize value determined maximum leak nozzle . figure 5b shows relationship signal pressure gap distance . note great sensitivity central region . anozzleflapper designed operate central gion slope line greatest . region response small motion flapper change pressure order magnitude . system covered extensively later discussion pneumatic controllers . currenttopressure converters currenttopressure converter sim ply ip converter important element process control . often want use lowlevel electric current signal work easier let work done pneumatic signal . ip converter gives us linear way translating 4 20ma current 3 15psig signal . many designs converters basic principle almost always involves use nozzleflapper system . figure 6 il lustrates simple way construct converter . notice current coil produces force tend pull flapper close gap . high cur rent produces high pressure device direct acting . adjustment springs perhaps position relative pivot attached allows unit calibrated 4 corresponds 3 psig 20 corresponds 15 psig . 4 power electronics important part final control operations electrical signal energy conversion . means taking lowenergy control signal e.g . 420 using impart large figure 6 using nozzleflapper currenttopressure converter . final control 368 energy impact plant e.g . controlling 100hp 74.6 kw motor . kind signal conversion carried using highpower electronics devices . generally power electronics refers assortment special semiconductor devices designed de veloped allow control hundreds thousands amperes hundreds thousands volts . section assortment common devices described . devices fall within two categories switching devices control devices . switching context means devices two output states . con trol devices contrast output varies continuously range . important realize however even devices usually used switching mode . types devices used variety control applications including control large electric heaters highpower motor speed control highenergy power supplies large solenoid actuation host applications . 4.1 switching devices solidstate semiconductor devices property either state state much like mechanical switch . course common diode acts like sense conduct current one direction forward biased opposite direction reverse biased . difference devices considered section turned even forward biased . siliconcontrolled rectifier scr first device consider scr also called thyristor . figure 7 shows schematic symbol scr typical curve current versus voltage . device much like diode extra terminal called gate . like diode scr conduct reversebiased i.e . anode voltage negative cathode . however unlike diode scr forwardbiased still conduct unless positive trigger voltage applied gate indi cated figure 7. turn conduct like diode . important note continue conduct even gate voltage taken away . fact way get anode g gate vak k cathode reverse breakdown iak diode action triggered figure 7 siliconcontrolledrectifier scr symbol characteristic curve . final control 369 turn back remove forwardbiased condition . reason application dc problems limited unless external method provided interrupt current . notice figure 7 even switched conducting state scr exhibits forward voltage drop increases current . means acts like sistance . scr power electronic devices study specified resistance ron . since effective resistance since current large current flowing power dissipated scr i2ron . used ac application reversebias condition turnoff provided au tomatically ac voltage cycles . figure 8 shows simple halfwave application scr vary power delivered load . trigger voltage vt derived cir cuit shown able change time forwardbiased half cycle trigger voltage applied gate . figures 8b 8c show effective rms voltage across load varies time pulse applied gate . time often referred firing angle angle refers 180 half cycle . figure 9 shows illustration scr used fullwave fashion vary power delivered load . see fullwave diode bridge converts ac pulsating dc going zero every 180 source cycle . case scr au figure 8 scr variation load voltage using halfwave circuit . positive half source cycle delivers power load . final control 370 tomatically turned voltage drops zero half cycle . special tim ing circuit adjusts trigger voltage applied half cycle . course control application means must found low en ergy control signal changes firing angle trigger voltage . figure 10 shows el ementary way done . optocoupler allows control voltage change current phototransistor . turn changes charging rate capacitor . voltage capacitor reaches required gate trigger voltage capacitor discharges resistor r turns scr . control voltage small transistor current small charging rate small trigger voltage reached late cycle . large control voltage means high charging rate thus early triggering cycle . scrs characterized like diodes specification maximum reverse voltage maximum forward current well turnoff time gate voltage . modern high power scrs available 6 kv reverse voltage 3.5 ka forward current rating . turn time major limitation switching frequency typically 100 200 faster 10 s. higher power units tend slower turnoff time . another figure 9 fullwave scr circuit . effective rms dc voltage applied load greater halfwave entire cycle used . final control 371 figure 11 circuit example 3. scr parameter holding current minimum forward current necessary maintain scr state . general scrs operated switching modes kilohertz . typical values ron highpower scrs range 0.25 m. means even high current forward voltage drop small power dissipation scr great . example current 100 would mean voltage vscr 100 a0.00025 0.025 v power dissipation pscr 1000.025 2.5 w. scrs suffer problem associated rate change voltage across anode cathode terminals . rate change exceeds certain threshold value scr spontaneously go conduction even gate trigger voltage . effect referred derivative effect dvdt since rate change derivative . scr 4.0v trigger used circuit figure 11 lightdimmer control . resistance r used provide approximately 10 90 time ? example 3 figure 10 optical coupler used control triggering scr external circuit . final control 372 figure 12 voltages versus time example 3. solution lets start understanding part circuit . diode resistor 10v zener diode provide source 10 v goes zero every cycle shown figure 12. serves charge capacitor resistor r. ac voltage scr positive half cycle capacitor charge reaches trigger value 4 v scr go discharging capacitor turning light . scr voltage goes negative half cycle scr turn . figure 12 shows voltage waveforms figure 11 50 ontime setting r. capacitor charge reach trigger 4.0 v ? found simple capacitorcharging equation zener voltage . case looking charge 4.0 v solving find . thus whatever r c scr trigger time given expression . period half cycle . therefore 10 time use 90 time use . since capacitor given find required resistance two cases rmin 0.833 ms 0.5110.12 f 13.6 k 0.12 f 7.5 ms 0.833 ms 1120 8.33 ms 0.511rc 4.0 101 etrc v0 vct v01 etrc 0.12f 5k d1 final control 373 gives basic range resistance . lets use resistor series variable . range 15 corresponds range 11 95 time . gate turnoff thyristor gto significant improvement scr technol ogy modification allows scr also turned application gate signal . two symbols common use device shown figure 13. like scr device turned forward biased application positive trigger voltage gate terminal . scr turned except taking away forwardbias condition . gto sufficient negative current applied gate gto made go . thus ability turn device . amount negative current required effect turnoff defined current gain parameter like beta transistor . one disadvantage device turnoff current gain large perhaps 5. means ward current 100 gate current required turnoff would 1005 20 a. course pulse still significant current . generally turn time gto shorter scr switching higher speeds possible . since gto turned used dc circuits . figure 14 shows elementary illustration suggesting gto used vary average power dissipated load . controlling square wave fixed frequency period duty cycle varied hence time tx positive . square wave amplitude vs. positive part cycle transistor t1 turned positive voltage current applied gto gate turning . negative part cycle transistor t2 turned current drawn gate turning gto back . thus battery voltage applied load square wave high . voltage across load gto vl vb vgto vgto iron voltage across gto ron resistance . find average power dis sipated load follows 2 ratio txt duty cycle . pave 1 t1 0 itvtdt 1 t1 tx 0 iirdt tx ti2r 115 k 100k 15k rmax 7.5 ms 0.5110.12 f 122 k anode g gate k cathode anode g gate k cathode figure 13 two common symbols gate turnoff gto . final control 374 much current must drawn t2 turn gto figure 14 following specifications apply gto 7 ron 2.5 vb 75 v rl 2 ? average power dissipated load gto 50 duty cycle ? solution first find current load gto since gain 7 current t2 must 37.5 a7 5.4 a. gto load dissipates average power found equation 2 pave 0.537.5 a22 1406 w power dissipated gto found using given value ron pgto 0.537.5 a20.0025 1.75 w like scr gto susceptible unwanted turnon rateofchange voltage across terminals large . special snubber circuits used limit rate change . also gto requires small amount gate current even sure proper operation . il vb ilron rl il vb rl ron 75 2 0.0025 37.5 vb vs vs vt vtt tx vcc vcc r t1 t2 figure 14 gto circuit example 4. example 4 final control 375 figure 15 triac triggered conduct either direction true ac voltage applied load . gtos available forward voltage holdoff 4500 volts currents 3000 a. generally used switching applications 10 khz . onstate resistance gto range 2 3 m. triac another type switching power electronic device triac schematic symbol shown figure 15. note symbol looks like two diodes parallel reversed along third gate terminal . indeed properties triac conducts current directions . like scr gto conduction begin trigger voltage applied gate terminal . case triac application positive voltage gate allows conduction current one direction device voltage negative polarity applied gate allows conduc tion opposite direction . figure 15 shows waveforms across source load response pulses applied triac gate . triac somewhat limited application power electronics switching speed low comparison devices . addition like scr may final control 376 example 5 driven conduction rate change voltage across terminals large dvdt effect . also like scr turned either direction turned taking voltage across terminals zero . order provide necessary bipolar gate voltage triac often used conjunction diac one commonly employed schematic symbol shown figure 16. twoterminal device conduct directions volt age across terminals exceeds breakover value either direction . typical breakover voltage families diacs range 25 75 volts . following example illustrates application triac diac light dimmer . diac available 28v breakover voltage . show used make light dimmer example 3 using triac . want approximately 10 90 range adjustment using r . solution light dimmer implemented power applied every cycle instead every cycle . use circuit figure 17 load replaced light source given rms 60hz line . given vac 169.7 sin120t 120vac c 0.12 f vl figure 16 diac bipolar breakover voltage vl . voltage reaches vl diac conducts like diode . final control 377 first question line voltage reach 28 would even possible trigger diac thus triac ? found solving since half period 8.33 ms light turned 5 pe riod passed . next problem find values r provide 10 90 time respectively . means voltage must reach 28 v 0.833 ms 7.5 ms respectively . unfortunately simple relation capaci tor voltage time example 3 charging voltage changing timethat . exact equation found lets try simpler approach . modify circuit shown figure 18 provide clamped ac voltage 40 v charging capacitor . question ac voltage first reach 40 v ? found 7.5 half cycle . estimate r give 10 90 example 3. . approximation voltage 40 v start period . using times 0.833 7.5 ms gives c 0.12 f 1.2rc 28 401 etrc sin140169.7120 0.63 ms 40 169.7 sin120t 169.7 sin120t sin128169.7120 0.44 ms 28 169.7 sin120t figure 17 triac triggered ac line using diac . final control 378 figure 18 modification triggering circuit eases calculation solution example 4. thus could use fixed resistor series pot . would give times 10.4 97. figure 19 shows waveforms source load capacitor . high power triacs generally used 1200 v current 300 a. max imum switching frequency 400 hz due part slow turnoff time 200 400 s. effective resistance runs 3 4 m. 4.2 controlling devices previous section presented three common power electronics semiconductor devices based upon diode action . characteristics devices either conducting conducting . another class power electronic devices based upon semiconduc tors high current voltage controlled small current voltage . de vices used execute smooth control current also used switches . highpower applications much efficient operate devices switched mode . use example bipolar junction transistor see true . bipolar junction transistor bjt common bipolar junction transistor used modest power electronic applications . schematic symbol bipo lar transistor npn type shown figure 20. figure 20 also shows basic operating curves bjt . collector current plotted versus collectoremitter volt age family curves different base currents . linear regime bjt current amplifier wherein collectortoemitter current given current gain factor b times basetoemitter current ic bib . 50k 6k rmax 7.5 ms1.20.12 f 52 k rmin 0.833 ms1.20.12 f 5.8 k final control 379 354 figure 19 voltage waveforms example 4. vce ic ib base collector emitter saturated cutoff linear increasing figure 20 bipolar junction transistor bjt symbol characteristic curves . final control 380 switched mode bjt either . base current zero transistor cutoff meaning collector current flowing . thus dissipating power sort like open circuit i.e . open switch . state bjt acts like resistance ron case scrs gtos . case curves figure 20 show voltage drop across bjt called saturation voltage vsat icron bjt dissipating power icvsat . often specifications bjt simply give saturation voltage collector current instead effective satu ration resistance . lets contrast using bjt linear amplifier versus switching amplifier . suppose resistive 10 heater power output varies 25.6 w 640 w. heater output adjusted common 4 20ma control signal . power bjt available linear current gain 400 saturation voltage 1.5 v 10 a. 100v dc power supply available . figure 21 shows linear circuit could used provide required varia tion . dissipate 640 w would require maximum current given p ir2 quickly calculate minimum current would 1.6 a. bjt base current varies 4 20 collector current vary 1.6 8 quired remember b 400. lets look power dissipation . full power volt age across heater would vhmax pi 6408 80 v. must 20 v across transistor 80 20 100. means although heater dis sipating 640 w transistor dissipating 20 v8 160 w ! wasted dissipation . low end heater dissipating 25.6 w voltage across heater 16 v must 84 v across transistor . bjt dissipating 84 v1.6 134.4 w. thus bjt dissipating heater ! ter ribly inefficient . lets see happens operate bjt switching mode switch ing base current zero cutoff collector current value leads saturation wherein collector current maximum determined essentially ex ternal components rather b device . case voltage collector toemitter fixed saturation forward voltage drop . typically value range fractions volt several volts . power dissipated bjt maximum current small voltage across transistor . b p r b 640 10 8a r 10 heater 100 v 4 20 figure 21 operating bjt linear mode . final control 381 figure 22 shows slightly modified circuit . notice 4 20ma signal fed control circuit varies duty cycle fixed 1 khz square wave . bjt square wave high ton seconds rest period . average power delivered heater thus given 3 v constant voltage across current heater part cycle . course since vr write 4 particular problem need duty cycle average power 640 w. bjt drops 1.5 volts heater voltage v 100 1.5 98.5 v. solve duty cycle i.e . ton equation 4 66 duty cycle ton 0.66 ms. quickly show case 25.6 w voltage across load still 98.5 v duty cycle time 0.03 3 0.03 ms. thus control circuit designed 4 produces 3 duty cycle 20 produces 66 duty cycle . thus average power 25.6 w 640 w required . dissipation bjt ? current bjt ic vr 98.510 9.85 640 w setting 2.56 25.6 w setting . bjt saturation 1.5 v thus average power dissipated bjt equation 3 25.6 w pbjt 0.44 w ! ! thus switching mode much less power lost heating bjt . 640 w pbjt 0.66 1 1.59.85 9.8 w ! ! ton p 640w 64010 98.52 0.66 pave ton v2 r pave 1 t1 0 ptdt 1 t1 ton 0 vtitdt ton vi r 10 heater 100 v 4 20 ton 1 ms control circuit figure 22 operating bjt switched mode . final control 382 generally power bjt devices limited less 250 600 v applications thermal problems switching speeds exceeding 25 khz . switching turnoff time generally runs 2 9 effective resistance 20 bjt devices suffer condition called thermal runaway limits appli cation power electronics . thermal runaway works like . suppose bjt operating collector current i0 . forward voltage vce device dissipating power p i0vce . dissipation heats bjt . property bjt temperature rises collector current also rise i0 i. means dissipated power increases p p p ivce . temperature would rise cur rent would rise unit fails . power mosfet schematic symbol nchannel enhancement mode mosfet shown figure 23 along typical characteristic curves . see mosfet device value gatesource voltage controls drain source current . transfer function called transconductance 5 therefore mosfet like bjt used linear circuits amplifier . inefficient power losses mosfet . highpower applications use switching circuits avoid excessive power dissipation mosfet . one important advantage mosfet essentially draws current driving signal source since gate essentially insulated drain source . con trast bjt effective base current significant b high . power mosfet fast switching speeds used high frequency power applications . general specifications mosfets show units available holdoff voltages high 1000 volts maximum current capacity 50 a. switching speeds high 100 khz turnoff times range 0.5 1.0 s. effective resistance mosfet runs high 0.02 2 power types . high resistance limits effectiveness high current applications heating would become excessive . gm id vgs constant vds pinchoff id increasing vgs vds drain gate source figure 23 power mosfet symbol characteristic curves . final control 383 insulated gate bipolar transistor igbt final semiconductor device consider kind combined bjt mosfet . fact schematic sym bol shown figure 24 indicates collector emitter gate insulated collector emitter replaces base . characteristic curves shown figure 24 indicate device uses input voltage control current collector emitter . furthermore gate presents high impedance little gate current flows . like bjt mosfet igbt used switching mode avoid power losses device . igbt mosfet predominant players power electronics applications . igbt used applications 1200 volts 400 a. relatively high switching capacity 20 khz turnoff time runs around 2.5 s. resistance modest around 50 heating high currents occurs . 5 actuators valve used control fluid flow mechanism must physically open close valve . heater warm system device must turn heater vary excitation . examples requirements actuator processcontrol loop . notice distinction device input control signal control element valve heater shown figure 1. actuators take many diverse forms suit particular requirements processcontrol loops . consider several types electrical pneumatic actuators . 5.1 electrical actuators following paragraphs give short description several common types electrical ac tuators . intention present essential features devices depth study operational principles characteristics . specific application one would expected consult detailed product specifications books associated type actuator . saturation ic increasing vge vde collector gate emitter figure 24 igbt symbol characteristic curves . final control 384 solenoid asolenoid elementary device converts electrical signal mechanical motion usually rectilinear straight line . shown figure 25 lenoid consists coil plunger . plunger may freestanding spring loaded . coil voltage current rating may dc ac . solenoid specifications include electrical rating plunger pull push force excited speci fied voltage . force may expressed newtons kilograms si system pounds ounces english system . solenoids rated intermittent duty thermal constraints . case maximum duty cycle percentage time total time specified . solenoids used large sudden force must ap plied perform job . figure 26 solenoid used change gears two position transmission . scr used activate solenoid coil . electrical motors electrical motors devices accept electrical input produce continuous rotation result . motor styles sizes vary demands rotational speed revolutions per minute rpm starting torque rotational torque specifications vary . numerous cases electrical motors employed figure 25 solenoid converts electrical signal physical displacement . figure 26 solenoid used change gears . final control 385 actuators process control . probably common control situation mo tor speed drives part process must controlled control variable processthe drive conveyor system example . many types elec trical motors special set characteristics . simply discuss three common varieties dc motor ac motor stepping motor . dc motor rotation dc motor produced interaction two con stant magnetic fields . figure 27a shows one type dc motor employs permanent magnet pm form one magnetic fields . second magnetic field formed passing current coil wire contained within pm field . coil wire called armature free rotate . notice coil connected current source slip rings brushes called commutator slip rings split current reverses direction armature rotates . see rotation occurs look fig ure 27b . notice north n south poles pm armature aligned . thus torque driving n n s. fore armature rotate counterclockwise shown . split slip rings armature would rotate n n course aligned . figure 27 permanent magnet dc motor . final control 386 split slip rings arranged current direction therefore ns orientation armature reverses alignment occurs . shown figure 27c torque armature . rotation continues . speed depend current . actually armature current determined coil resistance counter emf produced rotating wire magnetic field . thus effective voltage determines current wire resistance ohms law difference applied voltage counteremf produced rotation . many dc motors use electromagnet instead pm provide static field . coil used produce field called field coil . kind dc motor called wound field motor . current field coil provided placing coil series armature parallel shunt . cases field composed two windings one type . compound dc motor . schematic symbols type mo tor shown figure 28. characteristics dc motors field coil follows . 1. series field motor large starting torque difficult speed control . good applications starting heavy nonmobile loads speed con trol important quickopening valves . figure 28 three dc motor configurations . final control 387 2. shunt field motor smaller starting torque good speedcontrol characteristics produced varying armature excitation current . good appli cations speed controlled conveyor systems . 3. compound field motor attempts obtain best features two previous types . generally starting torque speedcontrol capability fall predictably two pure cases . use dc motors control systems ranges low energy delicate con trol applications heavyduty control operations elevators vehicles . general pm types used motors less 10 hp 7.5 kw wound field types units 100 200 hp 75 150 kw . control speed torque large chines requires high power dc electricity . power derived power elec tronics devices described earlier chapter . general threephase ac power rectified using switching technology produce required highvoltage highcurrent dc electric ity . control often made possible variation voltage amplitude . figure 29 shows diagram threephase rectifier implemented using scrs . variation scrs firing angle amplitude dc voltage current armature hence speed motor varied . excitation field coils provided fixed amplitude rectified ac another variable supply provide control . ac motors basic operating principle ac motors still involves interaction two magnetic fields . case however fields varying time con sonance ac excitation voltage . therefore force fields function angle rotor also phase current passing coils . two basic types ac motors synchronous induction . primary motor appli cation control industry induction motor . synchronous motor ac voltage applied field coils called stator ac motor . means magnetic field changing time phase impressed ac voltage . armature called rotor ac motors either permanent magnet dc electromagnet possesses fixed magnetic field . synchronous motor rotor es sentially follows ac magnetic field stator . figure 30 shows simple synchronous motor two poles permanent magnet rotor . fourpole motor would rotor two ns bars rotor four poles stator . speed rotation ns syn chronous motor related frequency ac excitation number poles threephase variable amplitude dc ripple trigger control circuit figure 29 threephase rectifier high power dc motors implemented scrs . final control 388 6 f excitation frequency hertz p number poles . synchronous motors operated using singlephase ac units used low power 0.1 hp suffer low starting torque . operated threephase ac synchronous motors operated high power 50000 hp . induction ac motors characterized rotor neither pm dc ex cited electromagnet . instead current induced coil wound rotor generates teracting magnetic field rotor . current induced stator coils . figure 31 illustrates basic concept . see ac field stator produces changing magnetic field passing closed loop rotor . faradays law teaches us changing flux induce current loop . turn creates magnetic field rotor coil interacts field stator . bottom line torque exists rotor caused two fields . singlephase induction motors used applications relatively low power say less 5 hp 3.7 kw . motors typical found household appliances example . higher power use threephase ac excitation . motors available 10000 hp . control environment want control speed motors . induction motor speed dependent upon ac excitation frequency much like equation 6 synchronous motor small difference referred slip ns 120f p rpm figure 30 simple ac motor permanent magnet rotor . figure 31 induction motor depends rotor field current induced ac field coils shown figure 30. final control 389 . thus speed control types affected variable frequency ac excitation . order provide turn power electronics . figure 32 provides typical scheme threephase ac 60 hz rectified produce variable amplitude dc voltage using scrs variable firing angle control circuit . voltage filtered applied igbtbased inverter whose purpose produce variable frequency ac voltage . diodes across igbt provide current flow reverse igbt . course sequence speed switching provided control circuit determine frequency . circuit could equally well use gtos mosfets even bjt devices . stepping motor stepping motor increased importance recent years ease interfaced digital circuits . stepping motor rotating machine actually completes full rotation sequencing series discrete rotational steps . step position equilibrium position without excitation rotor position stay latest step . thus continuous rotation achieved input train pulses causes advance one step . really continuous rotation discrete stepwise rotation . rotational rate determined number steps per revolution rate pulses applied . driver circuit necessary convert pulse train proper driving signals motor . astepper motor per step must rotate 250 rpm . input pulse rate pulses per second required ? solution full revolution per step take 36 steps complete one revo lution . thus therefore 9000 pulsesmin 1 min 60 150 pulsess a250 rev min b a36 pulses rev b 9000 pulsesmin 10 360 10 threephase 60 hz ac trigger control circuit timing sequence control rectifier filter inverter threephase variable frequency ac figure 32 ac motor control variable amplitude variable frequency circuit using power electronics . example 6 final control 390 operation stepping motor understood simple model shown figure 33 per step . motor rotor pm driven particular set electromagnets . position shown system equi librium motion occurs . switches typically solidstate devices transistors scrs triacs . switch sequencer direct switches sequence positions pulses received . next pulse figure 33 change s2 c resulting poles electromagnet reversing fields . pole northsouth orientation different rotor repelled tracted moves new position equilibrium shown figure 34b . next pulse s1 changed b causing kind pole reversal rotation pm new position shown figure 34c . finally next pulse causes s2 switch c pm rotor steps new equilibrium position figure 34d . next pulse send system back original state ro tor original position . sequence repeated pulse train comes resulting stepwise continuous rotation rotor pm . although example il lustrates principle operation common stepper motor use pm 90 figure 33 elementary stepping motor . final control 391 figure 35 stepper 8 rotor teeth 12 stator poles . note rotor teeth line poles . next step rotor teeth line b poles . rather rotor magnetic material magnet certain number teeth . rotor driven phased arrangement coils different number poles rotor never perfect alignment stator . figure 35 illustrates rotor 8 teeth stator 12 poles . one set four teeth aligned four . excitation placed next set poles b taken first set rotor step come alignment figure 34 four positions elementary stepper rotor . final control 392 b set poles . direction rotation stepper motors changed chang ing order different poles activated deactivated . 5.2 pneumatic actuators actuator often translates control signal large force torque required nipulate control element . pneumatic actuator useful translation . principle based concept pressure force per unit area . imagine net pressure difference applied across diaphragm surface area net force acts diaphragm given 7 need double available force given pressure merely necessary dou ble diaphragm area . large forces developed standard signalpressure ranges 3 15 psi 20 100 kpa . many types pneumatic actuators available perhaps common associated control valves . consider detail convey general principles . action direct pneumatic actuator shown figure 36. figure 36 left shows condition low signalpressure state spring main tains diaphragm connected control shaft position shown . pres sure opposite spring side diaphragm maintained atmospheric pres sure open hole h. increasing control pressure gauge pressure applies force diaphragm forcing diaphragm connected shaft spring force . figure 36 right shows case maximum control pres sure maximum travel shaft . pressure force linearly related f force n diaphragm area m2 p1 p2 pressure difference pa f ap1 p2 figure 36 direct pneumatic actuator converting pressure signals mechanical shaft motion . final control shown equation 7 compression spring linearly related forces . 393 figure 37 reverseacting pneumatic actuator . see shaft position linearly related applied control pressure 8 reverse actuator shown figure 37 moves shaft opposite sense direct actuator obeys operating principle . thus shaft pulled application control pressure . suppose force 400 n must applied open valve . find diaphragm area con trol gauge pressure 70 kpa must provide force . solution must calculate area applied pressure gauge pressure specified . 8.5 cm diameter . inherent compressibility gases causes upper limit usefulness gas propagating force . consider pneumatic actuator figure 36. want mo tion occur low shaft load simply increase pressure actuator via regu lator . regulator allows gas highpressure reservoir enter actuator . increases diaphragm force able move shaft . suppose shaft connected high loadthat something requiring large force movement . principle simply matter increasing pressure 5.71 103 m2 f p 400 n 7 104 pa p1 p2 f ap1 p2 10 psi k spring constant nm diaphragm area m2 p applied gauge pressure pa x shaft travel x k p example 7 final control 394 input gas area equals required force . find however try raise input gas pressure large volumes gas must passed actuator bring pressure rise gas compressing density increasing . 5.3 hydraulic actuators seen upper limit forces applied using gas working fluid . yet many cases large forces required . cases hy draulic actuator may employed . basic principle shown figure 38. basic idea pneumatic actuators except incompressible fluid used provide pressure made large adjusting area forcing pis ton . hydraulic pressure given 9 pressure transferred equally throughout liquid resulting force working piston 10 thus working force given terms applied force 11 a. find working force resulting 200 n applied 1cmradius forcing piston working piston radius 6 cm . b. find hydraulic pressure . fw a2 a1 f1 a2 working piston area m2 fw force working piston n fw pha2 a1 forcing piston area m2 f1 applied piston force n ph hydraulic pressure pa ph f1a1 a1 pressure diaphragm figure 38 hydraulic actuator converts small force amplified force . fw f1 example 8 final control 395 solution a. find working force b. thus 200n force provides 7200 n force . hydraulic pressure pressure approximately hydraulic servos cases desired control position large loads part control system . often done using lowenergy controller output setpoint input hydraulic control system . concept illustrated figure 39 . 93 lbin.2 ph 6.4 105 pa ph fw a2 7200 n 6 102 m2 fw 7200 n fw r2 r1 b 2 f1 f 6 cm 1 cm b 2 200 n fw a2 a1 f1 figure 39 hydraulic servo system . processcontrol system provides input setpoint hydraulic servo . final control 396 system highpressure hydraulic fluid directed either side force piston causes motion either direction . direction determined position control valve piston hydraulic servo valve . position valve piston controlled linear motor driven output amplifier error detector . puts error detector processcontroller output forms setpoint hydraulic servo feedback force piston shaft . thus amplifier drive hydraulic servo feedback matches setpoint input . 6 control elements actual control element part process many different de vices . intention book present many devices general sur vey standard devices valuable complete picture process control . several examples control elements described later terms different control problems . 6.1 mechanical control elements perform mechanical operation process virtue oper ations called mechanical control elements . examples types follow . solidmaterial hopper valves consider grain supply bin figure 40. control system maintain flow grain storage bin provide constant flow figure 40 example mechanical control element form hopper valve conveyor . final control 397 rate conveyor . flow depends height grain bin hence hopper valve must open close compensate variation . case actuator operates vanetype valve control grain flow rate . actuator could motor adjust shaft position hydraulic cylinder mechanism . paper thickness figure 41 essential features system controlling paper thickness shown . paper wet fiber suspension passed rollers . varying roller separation paper thickness regulated . mechanical con trol element shown movable roller . actuator could electrical pneu matic hydraulic adjusts roller separation based thickness measurement . 6.2 electrical numerous cases direct electrical effect impressed process control situation . following examples illustrate typical cases electrical control elements . motorspeed control speed large electrical motors depends many factors including supply voltage level load others . processcontrol loop regulates speed direct change operating voltage current shown figure 42 dc motor . voltage measurements engine speed tachometer used processcontrol loop determine power applied motor brushes . cases motor speed control intermediate operation processcontrol application . thus operation kiln solid chemical reaction rotation feed rate may var ied motor speed control based example reaction temperature shown figure 43. figure 41 continuousoperation paperthicknesscontrolling system using mechanical final control elements . final control 398 figure 42 basic control system motor speed using tachometer sense motor speed . temperature control temperature often controlled using electrical heaters application industrial control . thus heat supplied heaters electrically endothermic reaction processcontrol signal used onoff cycle heater set heater within continuous span operating voltages figure 44. example reaction vessel maintained constant temperature using electrical heater . processcontrol loop provides smoothly varying ex citation heater . figure 43 control system varies rotation rate reaction kiln based upon temperature . final control 399 figure 44 control heat reaction vessel electrical power amplifier . 6.3 fluid valves chemical petroleum industries many applications require control fluid processes . many industries also depend part operations involve flu ids regulation fluid parameters . word fluid represents either gases liquids vapors . many principles control equally applied states matter slight corrections . many fluid operations require regulation quantities density composition far important control pa rameter flow rate . regulation flow rate emerges regulatory parameter reaction rate temperature composition host fluid properties . con sider detail processcontrol element specifically associated flowthe control valve . controlvalve principles flow rate process control usually expressed volume per unit time . mass flow rate desired calculated particular fluid density . given fluid delivered pipe volume flow rate 12 v flow velocity ms pipe area m2 q flow rate m3s q av final control 400 alcohol pumped pipe 10cm diameter 2 ms flow velocity . find vol ume flow rate . solution pipe 10cm diameter crosssectional area thus flow rate purpose control valve regulate flow rate fluids pipes system . accomplished placing variablesize restriction flow path shown figure 45. see stem plug move size opening plug seat changes thus changing flow rate . note direction flow respect seat plug . flow reversed force flow would tend close valve small openings . drop pressure across restriction flow rate varies square root pressure drop appropriate constant proportional ity shown 13 p p2 p1 pressure difference pa k proportionality constant m3spa12 q k2p q 0.0157 m3s q av 7.85 103 m22 ms 7.85 103 m2 d2 4 101 m2 4 example 9 figure 45 basic controlvalve crosssection . direction flow important proper valve action . final control 401 pressure difference 1.1 psi occurs across constriction 5cmdiameter pipe . constriction constant . find flow rate b flow velocity ms. solution first note 1.1 psi gives a. flow rate b. flow velocity found constant k depends size valve geometrical structure delivery system extent material flowing valve . actual pressure entire fluid delivery sink system valve used hence flow rate predictable function valve opening . cause valve opening change flow rate provides mechanism flow control . controlvalve types different types control valves classified lationship valve stem position flow rate valve . controlvalve characteristic assigned assumptions stem position indi cates extent valve opening pressure difference determined valve alone . correction factors allow one account pressure differences introduced whole system . figure 46 shows typical control valve using pneumatic actuator tached drive stem hence open close valve . three basic types control valves whose relationship stem position percentage full range flow rate percentage maximum shown figure 47. types determined shape plug seat shown figure 45. stem plug move respect seat shape plug determines amount actual opening valve . 1. quick opening type valve used predominantly full onfull control applications . valve characteristic figure 47 shows rela tively small motion valve stem results maximum possible flow rate valve . valve example may allow 90 maximum flow rate 30 travel stem . v 12.7 ms v q 4b 0.025 m3s 5 1022 r q av q 0.025 m3s q k2p 0.0097.584512 p 7.5845 kpa p 1.1 psi6.895 kpapsi m3s 0.009 m3s per kpa12 example 10 final control 402 2. linear type valve shown figure 47 flow rate varies linearly stem position . represents ideal situation valve alone determines pressure drop . relationship expressed 14 smax maximum stem position stem position qmax maximum flow rate m3s q flow rate m3s q qmax smax figure 46 pneumatic actuator connected control valve . actuator driven current ip converter . figure 47 three types control valves open differ ently function valve stem position . final control 403 3. equal percentage important type valve employed flow con trol characteristic given percentage change stem position produces equivalent change flowthat equal percentage . gener ally type valve shut flow completely limit stem travel . thus represents minimum flow stem one limit travel . extreme valve allows flow maximum openvalve flow rate . type define rangeability r ratio 15 curve figure 47 shows typical equal percentage curve depends rangeability exact form . curve shows increase flow rate given change valve opening depends extent valve already open . curve typically exponential form rep resented 16 terms defined previously . equal percentage valve maximum flow minimum . full travel 3 cm find flow 1cm opening . solution rangeability flow 1cm opening controlvalve sizing another important factor associated control valves involves corrections equation 13 nonideal characteristics materials flow . standard nomenclature used account correc tions depending liquid gas steam nature fluid . correction factors allow selection proper size valve accommodate rate flow sys tem must support . correction factor commonly used present measured number u.s. gallons water per minute flow fully open valve pressure differential 1 lb per square inch . correction factor called valve flow coefficient designated . using factor liquid flow rate u.s. gal lons per minute cv q 5.85 cm3s q 2 cm3s251 cm3 cm q qmin rssmax r 50 cm3s2 cm3s 25 r qmax qmin 2 cm3s 50 cm3s q qmin rssmax r qmax qmin qmax qmin example 11 final control 404 17 typical values differentsize valves shown table 1. similar equations used gases vapors determine proper valve size specific applications . find proper valve must allow 150 gal ethyl alcohol per minute specific gravity 0.8 maximum pressure 50 psi b required valve size . solution a. find correct sizing factor b. 1 in.diameter valve 3.8 cm selected table 1. fluidcontrol example chemical processcontrol industry uses fluid control systems extensively . examples applications many varied . consider example control distillation column composition regulation fixedpoint col umn temperature . regulation achieved controlling feed rate shown figure 48. thermocouple measures temperature transmitted controller 1 2 cv 18.97 cv a150 gal min b b 0.8 50 lbin.2 cv qb sg p q cvb p sg cv cv sg specific gravity liquid p pressure across valve psi q cvb p sg table 1 controlvalve flow coefficients valve size inches 0.3 3 1 14 1 35 2 55 3 108 4 174 6 400 8 725 1 2 1 2 1 4 cv example 12 final control 405 figure 48 feed control distillation column based temperature . 4 20ma control signal . controller outputs 4 20ma signal proportional proper controlvalve position . converted 3 15psi 20 100 kpa pneumatic signal ip converter turn operates pneumatic actuator connected con trol valve . valve size determined characteristics gas vapor flowing . size required actuator determined valve size . summary operation final control element three separate functions ultimate goal translate lowlevel control signal largescale process . following specific de tails considered 1. final control function implemented signal conditioning actuator final control element . 2. signal conditioning involves changing control signal form power nec essary energize actuator . simple electronic amplification digitaltoanalog con version electricaltopneumatic conversion pneumatictohydraulic conversion typical signalconditioning operations . 3. currenttopressure converter frequently employed processcontrol systems . device based flappernozzle nozzlebaffle system converts linear dis placement pressure change . 4. special power electronics switches scrs triacs gtos used con trol high power lowenergy control signals . 5. power electronics devices bjts mosfets igbts allow control high power motor speed many control needs . 6. actuators intermediate step converted control signal final control element . common electrical actuators solenoids digital stepping motors ac dc motors . final control 406 7. pneumatic hydraulic actuators often used process control al low large forces produced modest pressure systems . pneumatic ac tuator converts pressure signal shaft extension according 8 force causes extension given 7 8. actual final control elements varied applications process control dustry . examples include motordriven conveyor belts paperthickness roller assem blies heating systems . 9. general type final control element control valve . device de signed use processcontrol applications involving liquid gas vaporflow rate control . three types commonly used quick opening linear equal percentage . problems section 3 1 4 20ma control signal loaded resistor must produce 20 40v motor drive signal . find equation relating input current output voltage . 2 implement equation problem 1 power amplifier available put 0 100 v gain 10 . 3 motor driven digital signal speed variation 200 revmin per volt minimum rpm 5 v maximum 10 v. find minimumspeed word maximumspeed word speed change per lsb change . use 5bit 15v ref erence dac . section 4 4 figure 49 shows scr used circuit provide variable electrical power sistive load highpower squarewave generator . scr trigger voltage 2.5 v. a. range r provide 5 95 time scr ? b. plot voltages across capacitor load scr 50 time . c. average power delivery load 50 ? 100 f ap1 p2 x k p figure 49 figure problem 4. final control 407 5 modify problem 4 using diac breakover voltage place resistor trigger triac . source bipolar square wave period figure 49. a. find range r provide 5 95 time . b. plot voltages across capacitor load triac . c. average power delivered load ? 6 determine plot average power delivered 100 load place light bulb example 3 function resistor r. hint scr write equation instantaneous power across load . average found integrating instantaneous power one period . 7 figure 50 shows system regulate dc motor speed temperature . thermis tor used vary capacitor charging rate thus cycle scr turned . a. determine values resistor capacitor provide 10 time 90 time . b. determine required power ratings zener diode resistor . c. construct plot average motor voltage versus temperature . 8 example 4 actual capacitor voltage clamp given expression course . diac trigger volt age reaches v. following example find exact values r provide 10 90 time . hint necessary find solution using numerical graphical methods andor computer simulations . 9 solenoid plunger 5cm stroke 6n pullin force . devise system us ing pivotlever provide stroke 8 cm . force 8cm stroke ? hint consider torque pivot . 28 f 60 hz 2f vct v0 1 rc2 sin rcetrc rc cos 2.5k 60c 0c 5v 100 2v figure 50 figure problem 7. final control 408 section 5 10 stepping motor 130 steps per revolution . find digital input rate pro duces 10.5 revs . 11 stepping motor per step . find rpm produced pulse rate 2000 pps input . 12 force generated 90 kpa acting area diaphragm ? 13 hydraulic system uses pistons diameter 2 cm 40 cm . force small piston raise 500kg mass ? 14 pneumatic pressure required small piston problem 13 produce necessary force ? 15 scr figure 26 requires 4v trigger . design system gears shifted cds photocell resistance drops . 16 design system control signal 4 20 converted force 200 1000 n. use pneumatic actuator specify required diaphragm area pressure output range 20 100 kpa . ip converter avail able converts 0 5 v 20 100 kpa . 17 feed hopper requires 30 lb force open . find pneumatic actuator area provide force 9psi input signal . section 6 18 find proper valve size inches centimeters pumping liquid flow rate 600 galmin maximum pressure difference 55 psi . liquid specific gravity 1.3 . 19 equal percentage control valve rangeability 32. maximum flow rate find flow 23 45 open settings . 20 level water tank controlled 20 output flow rate nominally control valve shown figure 51. nomi nal conditions determine required valve size inches centimeters . 65 m3h 100 m3h 2.5 k 30 cm2 7.5 figure 51 figure problem 20. final control 409 figure 52 figure problems s2 s3 . 21 valve actuator problem 20 rangeability 30 maximum stem travel 5 cm halfopen nominal conditions find mini mum flow maximum flow stem opening flow . 22 quickopening valve moves closed maximum open five turns shaft . shaft driven 101 reducer stepping motor per step . maximum input pulse rate motor 250 steps per second find fastest time valve move closed open . 23 control valve operates 3 15psi control signal . 40galmin flow rate express signal input psi percent range linear valve 0 90 galmin b equal percentage valve . supplementary problems s1 stepper motor must control conveyor speed range 100 200 rpm . step per control unit accepts ttl square wave frequency f translates ap propriately sequenced stepper pulses . stepper per step . design system accepts 4 20ma input produce 100 200rpm speed . use vf converter . s2 figure 52 shows valve operated worm gear motor . turn worm gear moves stem 0.18 cm total range stem travel 4.0 cm . worm gear motor three states ttl high terminal causes rotation 15 rpm moves valve stem ttl high terminal causes rotation reverse moving valve stem closing valve ttl low terminals motor . valve body equal percentage rangeability 20 maximum flow . a. many rotations worm gear required full stem travel ? b. long take move stem full range travel ? minimum flow rate ? c. stem position flow 90 maximum ? 0.6 m3min 2.5 qmin 15 galmin r 6 3.6 100 m3h final control 410 s3 suppose worm gear figure 52 potentiometer attached shown fig ure 53 stem position converted resistance . controller outputs 4 20masignal 4 mashould correspond minimum flow 20 mashould correspond maximum flow . design system comparators used activate terminals motor drive stem correct position required current . suppose controller outputs current 10 . cause motor move stem 1.5 cm . hint convert current voltage provided two comparators . ref erence terminals comparators voltage divider using poten tiometer connected worm gear . sure include hysteresis comparators . stem 4 cm stem 0 cm figure 53 figure problem s3 . 1 3 93.75 rpmlsb 5 r ranges 19.6 . p 1.25 w. see figure s.52 . 372 k min 010102 max 101012 vout 1250i 15 solutions oddnumbered problems final control 411 figure s.48 figure s.49 figure s.50 final control 412 figure s.51 figure s.52 final control 413 figure s.53 figure s.54 7 . see figure s.53 . 9 distances 8 cm 5 cm . f 3.75 n. 11 2500 rpm 13 12.25 n 15 see figure s.54 . 17 . 19 21 3.13 cm flow 23 . 8.33 psi 44.4 b . 9.57 psi 54.7 supplementary problems s1 use vf converter figure 3.26 . equation 3.27 frequency . see figure s.55 conversion current . varies 1 .0 2.0v varies 4 20 . s3 see figure s.56 . vout vout f 240vout ct 0.1 f rs 10 k rl 10 k rt 19.9 k 100 m3hr qmin 11.9 m3h qmax 356 m3h q23 31.5 m3h q45 50 m3h 3.33 in2 r 875 c 1.275 f final control 414 figure s.55 figure s.56 final control 415 416 discretestate process control instructional objectives objectives chapter provide understanding processcontrol operations process variables take discrete values . read chapter developed solutions problems able define nature discretestate processcontrol systems . give three examples applications discretestate process control industry . explain discretestate process described terms objectives hard ware process . construct table ladder diagram symbols explanation function symbol . develop ladder diagram narrative eventsequence description discrete state control system . describe nature programmable logic controller used discretestate process control . develop programmable logic controller program ladder diagram discrete state processcontrol application . 1 introduction majority industrial processcontrol installations involve simply regulating controlled variable . requirement regulation means variable tends vary continuous fashion external influences . great many processes industry variable controlled sequence events . sequence events typically leads production product set raw materials . example process manufacture toasters inputs various metals chapte5r 55 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 8 process control 417 figure 1 process controller . plastics outputs toasters . term discrete state expresses event se quence described specifying condition operating units process . condition descriptions presented expressions valve open valve b closed conveyor c limit switch closed . particular set condi tions described discrete state whole system . chapter examine nature discretestate process control . addi tion nature control special technique designing describing se quence process events called ladder diagram presented . ladder diagram evolved early use electromechanical relays control sequence events processes . relay control systems mostly given way computerbased methods control common called programmable logic controller plc . characteristics programming plcs studied chapter along nu merous applications . definition discretestate process control 2 better understand material chapter helpful general definition discretestate control system . see detailed considerations characteristics control systems fit within overall scheme . discretestate process control figure 1 symbolic representation manu facturing process controller process . let us suppose measurement put variables control output variables process take assigned two values . example valves openclosed motors onoff temperature highlow limit switches closedopen . define discrete state process moment set input output values . state discrete sense discrete number possible states . three input variables three output variables state con sists specification six values . variable take two values total 64 possible states . event system defined particular state systemthat partic ular assignment output values particular set input variables . event lasts long input variables remain state output variables c1 c2 c3 s1 s2 s3 s1 discretestate process control 418 left assigned state . simple oven temperature low heater . state event last temperature rises . definitions mind discretestate process control particular sequence events process accomplishes objective . simple heater sequence might 1. temperature low heater 2. temperature low heater 3. temperature high heater 4. temperature high heater objective controller figure 1 direct discretestate system specified event sequence . following sections consider event sequence specified described controller developed direct sequence events . 3 characteristics system objective industrial processcontrol system manufacture product input raw materials . process typically involve many operations steps . steps must occur series occur parallel . events may volve discrete setting states plantthat valves open closed motors . events may involve regulation continuous variable time duration event . example may necessary maintain temperature vat setpoint given length time . sense previous statements discrete state processcontrol system master control system entire plant operation . use definitions section construct description frostfree refrigerator freezer shown figure 2 process discretestate control system . define put variables output variables sequence serialparallel events . solution discretestate input variables 1. door openclosed 2. cooler temperature highlow 3. freezer temperature highlow 4. frost eliminator timer timeoutnot timeout 5. power switch onoff 6. frost detector onoff discretestate output variables 1. light onoff 2. compressor onoff 3. frost eliminator timer startednot started 4. frost eliminator heater fan onoff 5. cooler baffle openclosed example 1 discretestate process control 419 figure 2 refrigeratorfreezer system inputs outputs . total 11 twostate variables . principle possible states events . course necessary . event sequences a. door opened light turned . b. cooler temperature high frost eliminator compressor turned baffle opened cooler temperature low . c. freezer temperature high frost eliminator compressor turned temperature low . d. frost detector timer started compressor turned frost eliminator heaterfan turned timer times . events occur parallel others . events b c occur parallel . event serial b c. 3.1 discretestate variables important able distinguish nature variables discretestate system continuous control systems . define difference carefully consider example contrasting continuous variable situation discretestate vari 211 2048 discretestate process control 420 figure 3 continuous control level . able situation application . later shown continuous variable reg ulation part discretestate system . continuous control consider moment problem liquid level tank . figure 3 shows tank valve controls flow liquid tank unspecified flow tank . transducer available measure level liquid tank . also shown block diagram control system whose objective main tain level liquid tank preset setpoint value . controller operate according mode control maintain level variations induced external influences . thus outflow increases control system increase opening input valve compensate increasing input flow rate . level thus regulated . continuous variable control sys tem level valve setting vary range . even con troller operating onoff mode still variable regulation although level oscillate input valve opened closed compensate output flow variation . discretestate control consider revised problem shown figure 4. situation figure 3 objectives different vari ables level valve settings discrete take two values . means valves open closed level either specified value . objective fill tank certain level outflow . specify event sequence 1. close output valve . 2. open input valve let tank fill desired level indicated simple switch . 3. close input valve . discretestate process control 421 figure 4 discrete control level . level certainly going change later time output valve opened let liquid flow . notice variableslevel measurement input valve setting output valve settingare twostate quantities . continuous measurement output range . composite discretecontinuous control possible continuous con trol system part discretestate processcontrol system . example consider problem tank system described figure 3. case specify let valve closed tank filled required level figure 4. specify however periodically bottle comes position outlet valve shown figure 5. level must maintained setpoint outlet valve opened bottle filled . requirement may necessary ensure constant pres sure head bottle filling . process require continuouslevel control system used adjust input flow rate bottlefill output valve . continuous control system turned would valve motor discrete device . see continuous control process part overall discretestate process . 3.2 process specifications specification sequence events discretestate process directly tied process . process specified two parts . first part consists objectives process second nature hardware assembled achieve ob jectives . participate design development control system process essential understand parts . process objectives objectives process simply statements process supposed accomplish . objectives usually associated knowledge discretestate process control 422 figure 5 composite continuous discrete control . industry . often global objective defined end result plant . broken individual mostly independent secondary objectives actual control applied . example food industry plant particular global objective might pro duce crackers . clearly means plant takes raw materials processes specified ways outputs packaged labeled crackers ready sale . overall objective broken many secondary objectives . figure 6 suggests secondary objectives might involved . sub divisions simpler operations . objectives process formed objec tives independent part whole operation . discretestate control system applied independent part . thus figure 6 operations within cracker batter preparation probably viewed standalone process . processcontrol specialist typically responsible development objectives . job industry experts . thus crackers need experts food chemistry petrochemical industries need chemical engineers steel pro duction need metal specialists . nevertheless important control system specialist study industry come understanding products process objectives process . discretestate process control 423 figure 6 objectives subobjectives process . figure 7 discretecontrol process . process hardware determination objectives process comes design hardware implement objectives . hardware closely tied nature industry design must come joint efforts process production control personnel . control system specialist essential thing develop good understanding nature hardware characteristics . figure 7 shows pictorial representation process hardware conveyor sys tem . objective fill boxes moving two conveyors common feed hopper materialconveyor system . processcontrol system specialist may volved development system . develop control system must study hardware carefully understand characteristics element . general specialist analyzes hardware considering part lated control system . really two basic categories . discretestate process control 424 1. input devices provide inputs control system . operation de vices similar measurement function continuous control systems . case discretestate process control inputs twostate specifica tions limit switches open closed comparators high low push buttons depressed depressed 2. output devices accept output commands control system . final control element continuous control systems thing . discrete state process control output devices accept twostate commands light motor rotating rotating solenoid engaged engaged study pictorial process figure 7. identify input output devices char acteristics device . solution study system described figure 7 shows following distribution elements input devices switches right box present left box present feed conveyor right travel limit feed conveyor left travel limit hopper low feed conveyor center output devices hopper valve solenoid feed stock conveyor motor feed stock conveyor motor right feed stock conveyor motor left right box conveyor motor left box conveyor motor enough simply identify input output devices . addition im portant note two states devices relate process . thus levellimit example 2 discretestate process control 425 switch open mean level low required value ? command used turn cooler require high lowoutput command ? finally full study hardware also include nature electrical pneumatic hydraulic signals required element . thus motor may started application 110v ac lowcurrent signal motor start relay may started 5v dc ttltype signal electronic starter . obviously type information essential development control system interface process hardware . 3.3 event sequence description subobjectives process necessary hardware defined job remains describe hardware manipulated accomplish objective . sequence events must described direct system operations provide desired end result . narrative statements specification sequence events starts nar rative descriptions events must occur achieve objective . many cases first attempt specification reveals modifications must made hardware extra limit switches . specification describes narrative form must happen process operation . systems run continuously typically start initialization phase running phase . example consider system described figure 7. startup phase used place feed conveyor known condition . initialization might accom plished following specification i. initialization phase a. motors feed valve solenoid b. test right limit switch 1. engaged go c 2. set feed motor right motion 3. start feedconveyor motor 4. test right limit switch a. engaged go c b. go 4 c. set feed motor left motion start d. test center switch 1. engaged go e 2. go e. open hopperfeed valve f. test left limit switch 1. engaged go g 2. go f g. motors hopperfeed valve closed h. go running phase discretestate process control 426 figure 8 completion initialization phase process shown figure 7. completion phase means feed conveyor positioned left limit position right half conveyor filled feed hopper . sys tem known configuration shown figure 8. running phase described similar set statements sequence events . example figure 7 phase might described follows i. running a. start right box conveyor b. test right box present switch 1. set go c 2. go b c. start feedconveyor motor right motion d. test center switch 1. engaged go e 2. go e. open hopperfeed valve f. test right limit switch 1. engaged go g 2. go f g. close hopperfeed valve stop feed conveyor h. start left box conveyor i. test left box present switch 1. set go j 2. go j. start feed conveyor left motion discretestate process control 427 k. test center switch 1. engaged go l 2. go k l. open hopperfeed valve m. test left limit switch 1. engaged go ii.a 2. go note system cycles step step a. description constructed simple analysis events must occur input outputs must sup port events . construct narrative statement outline event sequence system shown figure 5. objective fill bottles moving conveyor . solution assume command given stop continuous level control system input valve driven closed position . sequence would i. initialization prefill tank a. conveyor stopped output valve closed b. start levelcontrol system 1. operate sufficient time reach setpoint 2. add another sensor system knows setpoint reached c. go running phase ii . running a. start bottle conveyor b. bottle position bp true 1. stop conveyor m1 2. open output valve c. bottle full bf true 1. close output valve d. go step ii.a repeat notice hardware added system event sequence con structed . hardware software often developed conjunction develop ment one demonstrates extra needs . flowcharts event sequence often easier visualize construct sequence events flowchart used pictorially present flow events . al though many sophisticated types flowcharts concept presented eas ily using three symbols shown figure 9. example 3 discretestate process control 428 figure 9 basic flowchart symbols . narrative statements simply reformatted flowchart symbols . often easier express sequence events directly terms flowchart symbols . figure 10 shows part initialization phase conveyor system figure 7 ex pressed flowchart format . binarystate variable descriptions event makes sequence events described narrative scheme corresponds discrete state system . thus also possible describe sequence events terms sequence dis crete states system . simply requires event state including input output variables specified . input variables cause state system change operations within system cause change one state variables example limit switch becomes engaged . output variables contrast changes system state caused control system . control system works like lookup table . input state variables put become like memory address new output state variables contents memory . discretestate process control 429 figure 10 part initialization flowchart figure 7. construct state variable description process shown figure 11. timer put tu initially low input tm low . tm taken high output stays low five minutes goes high . resets low tm taken low . level sensors become true level reached . process sequence 1. fill tank level la valve va 2. fill tank level b lb valve b vb 3. start timer tm stir heater h 4. five minutes take stir heater h example 4 discretestate process control 430 5. open output valve vc tank empty le 6. take timer low tm go step 1. solution provide solution first form state variable representation system signment binary states . four input variables la lb le tu six output variables va vb vc tm h. discrete state system defined specifying variables . variable twostate variable use binary representation . thus input level reached reached . also output valve c closed take commanded open . let us take binary word describing state system defined bits order sequence events translated expression discrete state binary word per state . lalbletuvavbvctmsh vc 1 vc 0 la 1 la 0 false 0 true 1 figure 11 tank process example 4. discretestate process control 431 system processed proper sequence input state uniquely select output state . following table shows states machine along brief descriptions . bit order previously given . input output description 0000 100000 starting state open valve 0010 100000 reaches level le continue fill 1010 010000 reaches level close valve open valve b 1110 000111 reaches level b close valve b start timer heater stir 1111 001100 time stop stir heater open valve c empty 1011 001100 reaches level b continue empty 0011 001100 reaches level continue empty 0001 000000 tank empty turn timer go first state typically approach specification event sequence used com puter used implement control functions . boolean equations discrete state system described vari ables take two values natural think using binary numbers rep resent variables previous example . also natural consider use boolean algebra techniques deduce output states input states . although technique used generally easier ways view solve problems traditional boolean techniques . technique used necessary write boolean equation output variable system . equation determine variable taken true state . equation may depend set input variables output variables . problems type often considered digital electronics coursesfor example common stoplight sequence problem . following simple example applies description technique traditional con trol problem . figure 12 shows pictorial view oven along associated input output signals . inputs outputs twostate variables relation states variables indicated . construct boolean equations implement following events 1. heater powerswitch activated door closed temperature limit . 2. fans turned heater temperature limit door closed . 3. light turned light switch whenever door opened . example 5 discretestate process control 432 figure 12 oven system discrete control . solution solution problems type developed simply translating narrative state ments events boolean equations . case referring variables defined figure 12 see solution 4 relay controllers ladder diagrams previous section showed discretestate control system described terms hardware system sequence events hardware taken . two elements combined show hardware driven proper sequence events accomplished . essence amounts program system written symbols hardware . special schematic representation hardware connection de veloped makes combination hardware event sequence description clear . schematic called ladder diagram . outgrowth early controllers operated ac lines used relays primary switching elements . 4.1 background industrial control system typically involves electric motors solenoids heaters cool ers equipment operated ac power line . thus control light l fans f h dt heater h dtp discretestate process control 433 figure 13 use relay switch start motor . figure 14 use momentary pushbutton switches relay implement latch . system specifies conveyor motor turned may mean starting 50hp motor . done simple toggle switch . instead one would logically assume small switch may used energize relay contact ratings handle heavy load shown figure 13. way relay become primary control el ement discretestate control systems . control relays relays used much energylevel translator . example figure 14 shows relay used latch green light relay latched red light relay latched . case normally open pushbutton switch pb1 depressed control relay rl1 energized . normally open contact closes bypassing pb1 relay stays closed . thus latched . deenergize unlatch relay normally closed nc push button pb2 depressed . pb2 opens circuit relay released . discretestate process control 434 entire control system implemented using relays system called relay sequencer . arelay sequencer consists combination many relays including spe cial timedelay types wired implement specified sequence events . inputs switches push buttons energize relays outputs closed contacts turn lights start motors energize solenoids . schematic diagrams wiring relay control system described traditional schematic diagrams shown figures 13 14. diagrams cumbersome however many relays many contacts used system . simplified diagrams gradually adopted industry years . example simplification relays contacts need placed di rectly coil symbol go anywhere circuit diagram number associate particular coil . simplifications resulted ladder diagram use today . 4.2 ladder diagram elements ladder diagram symbolic schematic way representing system hard ware process controller . called ladder diagram various circuit de vices connected parallel across ac line form something looks like ladder parallel connection rung ladder . construction ladder diagram understood rung ladder composed number conditions input states single command output . nature input states determines whether output energized energized . special symbols used represent various circuit elements ladder dia gram . following sections present symbols . relays relay coil represented circle identified cr control relay associated identifying number . contacts relay either normally open normally closed nc identified number . con tact one open relay coil energized becomes closed relay energized . conversely nc contact closed relay coil energized opens relay energized . symbols coil nc con tacts shown figure 15a . also possible designate timedelay relay one contacts activate specified time delay occurred . coil still indicated circle designation tr indicate timer relay . contacts shown figure 15b arrow indicate notoclose delay nctoopen delay . called ondelay timer relay . coil energized contacts energized time delay lapsed . also offdelay timer relay . case contacts engage coil energized . coil deenergized however time delay con tacts go deenergized state . discretestate process control 435 figure 16 symbols output devices used ladder diagrams . figure 15 symbols input devices used ladder diagrams . motors solenoids symbol motor circle designation followed number shown figure 16a . control system treats circle actual motor although fact may motor start system . control system uses symbol represent fact motor even though operations may neces sary actual hardware start motor . solenoid symbol shown figure 16b . course symbol tells noth ing function solenoid plays process . example may solenoid discretestate process control 436 figure 17 symbols switches used ladder diagrams . open flow valve move material conveyor host possibilities . lenoid designated sol number . lights light symbol shown figure 16c used give oper ators information state system . color light indicated capital letter circle example r stands red g green amber b blue . switches one primary input elements discretestate control system switch . switch may normally open normally closed nc may ac tivated many sources . ladder diagram different symbols used distinguish among different types switches . figure 17a shows symbols pushbutton switches . nc types employed . switches typically used operator input stop andor start system . figure 17b shows symbols nc limit switches . devices used detect physical motion limits within process . figure 17c shows symbol pressure switches nc . thermally activated switches ovens overheating protection motor indicated symbol shown figure 17d . figure 17e shows symbols level switches . switches closed rising pressure temperature level . discretestate process control 437 figure 18 ladder diagram control two lights . 4.3 ladder diagram examples many cases possible prepare ladder diagram directly narrative de scription control event sequence . elementary common example relay latch illustrated electrical schematic figure 14. terms ladder diagram situation described figure 18. diagram three rungs . first latch involving control relay cr1 second rung green light third rung red light . following example illustrates many features ladder diagram construction application control problems . elevator shown figure 19 employs platform move objects . global objective button pushed platform carries something position button pushed platform carries something position . following hardware specifications define equipment used elevator output elements input elements push button command push button command stop push button stop start push button start ls2 nc limit switch indicate position ls1 nc limit switch indicate position m2 motor drive platform m1 motor drive platform example 6 discretestate process control 438 figure 19 elevator system example 6. following narrative description indicates required sequence events elevator system . 1. start button pushed platform driven position . 2. stop button pushed platform halted whatever position occupies time . 3. button pushed platform downward motion driven position . 4. button pushed platform upward motion driven position . prepare ladder diagram implement control function . solution let us prepare solution breaking requirements individual tasks . example first task move platform position start button pushed . task done using start button latch relay whose contacts also energize m2 motor . relay released stopping m2 ls2 limit switch opens . figure 20 shows ladder rungs 1 2 provide functions . push ing start energizes cr1 ls2 open platform . cr1 latched contacts across start button . another set cr1 contacts starts m2 drive plat form . ls2 opens indicating full position reached cr1 released unlatched m2 stops . two rungs operate start button pushed . discretestate process control 439 figure 21 ladder diagram stop sequence example 6. stop sequence let us assume relay cr3 master control rest system . stop switch use release cr3 sense used previous examples . instead use stop energize another relay cr2 use nc contacts relay release cr3 . shown figure 21. see start pushed cr3 rung 4 energized latching cr1 contact nc contact cr2 . stop pushed cr2 rung 3 energized causes nc cr2 contact rung 4 open release cr3 . finally come sequences motion platform . case relay latched energize motor cr3 energized appropriate button pushed limit reached direction energized . entire ladder diagram shown figure 22. nc relay connection used ensure motor turned motor vice versa . also neces sary add contact rung 2 sure m2 could start motion joker pushed start button . solution example 6 simplified considering fact m1 m2 actually relays used turn motors via contacts . assume relays added contacts drive ladder diagram operations control figure 20 initialization move platform start button pushed example 6. discretestate process control 440 411 figure 22 complete ladder diagram example 6. discretestate process control 441 figure 23 simplified ladder diagram example 6. relays eliminated . figure 23 shows simplified solution example 6. use m1 m2 designations contacts parts diagram control relays . work diagram see sequence events satisfied . construct ladder diagram provide solution discretestate control prob lem defined figure 5 example 3. assume levelcontrol system commanded input valve closed 1min prefill required initialization . solution startstop latch provided define initial startup system . ladder di agram shown figure 24. initialization accomplished 60s timer rung 2 turns levelcontrol system 1 min following start button . never energized running . rung 3 drives conveyor motor bottle position indicated bottle position switch opening . rung 4 used detect bottlefull condition ener gizing cr2 . contacts cr2 turn valve solenoid rung 5 level control system rung 6. note timer rung 6 initialization . rung 7 necessary detect bottle full restart conveyor bottle moved po sition bottlepresent switch opened . continuous running occurs rung 3 rung 7. example 7 discretestate process control 442 lc cr1 cr1 cr 3 cr1 cr 3 cr1 rung 1 rung 2 rung 3 rung 4 rung 5 rung 6 rung 7 m1 tr1 cr 3 valve stop start cr 2 bf bp tr1 bp tr1 60 ondelay cr 2 bf bp figure 24 solution example 7 . 5 programmable logic controllers plcs previous sections chapter explained discretestate control system system needed industrial processes . last section shows lad der diagrams used describe event sequence makes control system . finally section learn actually provide control systemfor ex ample using controller shown figure 1 inputs state system gen erates required output states make process follow proper event sequence . discretestate process control 443 5.1 relay sequencers one way provide discretestate controller use physical relays put together circuit satisfies requirements ladder diagram . control system called relay sequencer relay logic panel . early days industrial control processes way provide control . still used many applications today although modern computerbased controllers replaced many relaybased systems . ladder diagram technique describing discretestate control systems originated relay logic systems diagram contains many relayrelated terms symbols . ladder diagram continues used today evolved efficient method defining event sequence required discretestate control system . important realize relay control rung ladder evaluated simultaneously continuously switches relays hardwired ac power . switch anywhere ladder diagram changes state consequences immediate . true computerbased programmable controllers discussed next section . special functions build relaybased control system necessary pro vide certain kinds special functions normally associated relays . functions often provided using analog digital electronic techniques . included special functions features timedelay relays updown counters realtime clocks . hardwired programming relay panel wired implement ladder diagram say programmed satisfy ladder diagram event sequence required described ladder diagram provided relay system power applied . thus program wired relays make relay logic panel . event sequence changed necessary rewire part panel . may even necessary add relays system use relays previous program . obviously task quite troublesome time consuming . number genious methods used ease problems changing relay program . one use patch panels programming . systems relay contacts coils brought array sockets . cords plugs end used patch required coils contacts inputs outputs together manner required ladder diagram . patch panel acts like memory program placed . devel opment reliable computers easy decision replace relay logicbased systems computercontrolled systems . 5.2 programmable logic controller design modern solution problem provide discretestate control use computerbased device called programmable controller pc programmable logic con troller plc . discretestate process control 444 figure 25 basic structure programmable logic controller plc . move relay logic controllers computerbased controllers obvious one 1. input output variables discretestate control systems binary na ture computer . 2. many control relays ladder diagram replaced software means less hardware failure . 3. easy make changes programmed sequence events change software . 4. special functions timedelay actions counters easy produce software . 5. semiconductor industry developed solidstate devices control high power acdc response lowlevel commands computer including scrs triacs . programmable controller studied considering basic elements shown figure 25 processor inputoutput modules software . processor processor computer executes program perform op erations specified ladder diagram set boolean equations . processor performs arithmetic logic operations input variable data determines proper state output variables . processor functions permanent supervisory operating system directs overall operations data input output execution user programs . course processor computer perform one operation time . like computers serial machine . thus must sequentially sample inputs evaluate ladder diagram program provide output repeat whole process . speed processor important . discussed scan execution modes . heart plc microprocessor much like ones used modern personal computers . much data plc operation processed bit bit special microprocessors optimized operation amd 2901 2903 often discretestate process control 445 hot ac power n ls1 pb1 ls2 ch3 ch2 ch1 ac neutral processor input module figure 26 typical wiring plc input module . employed . great increases processor speed possible employ desktop personal computer data io boards running plc software emulate plc operation . input modules input modules examine state physical switches input devices put state form suitable processor . plc able accommodate number inputs called channels . noted beginning section origin plc relay logic systems operated directly common 120 vac line . switch would deliver 120 vac relay logic panel closed open circuit closed . early versions solidstate plcs continued familiar association input module connected input devices ac line shown figure 26. switch pb1 closed ac voltage impressed input module would internally provide conversion digital signal 1 0 required computerbased plc processing unit . modern plcs input sensors connected much versa tile . input module usually configured input device simply connected reference power . therefore limit switch ls1 figure 26 would simply con nected ch1 common connection bottom would labeled common example . process would apply pb1 ls2 . also great advantage respect electrical safety since ac power connected switches . many input modules also used networked environment wherein input signal arrives serial digital data encoded input device address state . regardless process input devices connected input module result state device presented plc processor evaluation ladder program . output modules objective output module ultimately supply power external device motor light solenoid required ladder diagram . early relaylogic sequencers able provide 120 vac directly de vices long power requirement great . solidstate plcs troduced longer possible . output plc high 1 low 0 signal low power dc . thus modern output module designed input processor discretestate process control 446 hot ac power n motor r l ch1 ch2 ch3 output module ac neutral processor rl1 figure 27 typical wiring plc output module . digital output use activate relays scrs triacs bjts solidstate switches handle highpower ac requirements . case plc output mod ule wired directly output device ac power source shown figure 27. shows channels output module connected ac power common . device motor figure 27 requires current exceeds module output capability external relays solidstate switches used . modern output modules provide many kinds outputs dc volt ages pulse outputs even serial digital outputs transmitted output de vice network . 5.3 plc operation let us consider typical operation plc . first operation simultane ous entire ladder diagram continuous relay sequencers . important significant impact taken consideration design . operation programmable controller considered two modes io scan mode execution mode . io scan mode io scan mode processor updates outputs inputs state inputs one channel time . time required depends speed processor . execution mode mode processor evaluates rung lad der diagram program executed sequentially starting first rung proceeding last rung . rung evaluated last known state switch discretestate process control 447 relay contact rung considered true path output device de tected output indicated energizedthat set . end ladder diagram io mode entered output de vices provided state determined execution ladder dia gram program . inputs sampled execution mode starts . scan time important characteristic programmable controller much time required one complete cycle io scan execution . course depends many input output channels involved length lad der diagram program . typical maximum scanexecution time 5 20 ms. speed controller depends clock frequency processor . higher clock frequency greater speed faster scanexecution time . length time one scan consists three parts 1 input time 2 execution time 3 output time . scan time comes execution phase . scan time may impact ability plc detect events oc cur inputs . example limit switch goes state less scan time may missed plc . high speed modern plcs makes less problem old days following example illustrates become issue . complex manufacturing operation results 30ms plc scan time . plc must de tect individual 2cm objects moving highspeed conveyor . figure 28a shows object breaks light beam provides high input plc . highest speed conveyor sure object detected ? solution photodetector output high pulse last time determined conveyor speed conveyor speed . figure 28b shows relationship plc scan time object pulse . suppose object breaks beam put phase scan . assure detection must sure signal lasts least end next scan input phase . thus pulse time must thus maximum conveyor speed determined programming unit programming unit external electronic package connected programmable controller programming occurs . unit usually allows input program ladder diagram symbols . unit transmits program memory programmable controller . 2s 0.03 66.7 cms tpulse 1 scan time 30 ms tpulse 2 cms cms 2s example 8 discretestate process control 448 plc photoswitch object light source conveyor figure 28 plc scan time puts restrictions speed events . b one scan plc object pulse execute execute execute programming units may small selfcontained units shown figure 29. unit ladder diagram displayed one rung time special liquid crystal display lcd . user enter program perform diagnostic tests run program programmable controller perform editing installed program . installed program stored temporary memory lost ac power battery backup . program permanently burned rom final installation . figure 29 handheld plc programming unit . discretestate process control 449 figure 30 desktop terminal plc programming unit . another type programming unit able display many rungs ladder dia gram . unit shown figure 30. capabilities available entering testing changing program . program still temporary memory . program debugged programming unit disconnected programmable controller operate process according ladder diagram program . danger loss program power failure prevented placing program permanent memory . dedicated plc programming unit replaced software io boards common desktop laptop personal computers . special software allows pc program plc download program plc unit . plc networks modern plants employ computer network technology link plcs control hardware via network communication systems . systems may use custom installations ethernettype local area networks lans dedicated control networks foundation fieldbus profibus . case often possible download plc programming development computer plc used . network also used edit existing plc program transfer process data network computer analyze plant operation . ramrom temporary memory used ladder diagram program testing evaluation called ram read write memory . program stored ram easily modified . computer program necessary perform testing evaluation programmable controller programs corrections usually necessary . program debugged considered finished may burned rom . readonly memory changed affected power failure . rom often programmed directly controller programming unit . rom plugged programmable controller device ready placed service industrial setting . case network programmable plcs final plc program downloaded special reprogrammable rom plc erased rewritten still retains contents powerdown . discretestate process control 450 5.4 programming although programmable controller programmed directly ladder diagram sym bols programming unit special considerations . consider ations include availability special functions relation external io devices programmed representations . programmable controller real relays relay contacts . real de vices actually part process controlledthat limit switches motors solenoids . continue use symbols relays relay contacts even though software symbols . addressing ladder diagram event sequence developed previous section switch device output device relay referred label . ex ample cr1 referred control relay 1 contacts relay referred label . designations included ls1 limit switch m1 motor relay . programmable controller uses similar method identifying devices referred device address channel . addresses used identify physical software devices according following categories 1. physical input deviceson 2. physical output devicesenergized deenergized 3. programmed control relay coils contacts 4. programmed timedelay relay coils contacts 5. programmed counters contacts 6. special functions address designation depends type programmable controller . con trollers may reserve certain addresses physical io devices addresses software control relays yet others special functions . examples problems considered chapter use def initions addresses shown table 1. programmed diagram interpretation important difference interpretation physical ladder diagram programmed ladder diagram . difference arises fact programmed diagram bases state rung logical interpretation symbol rather physical state . programmed diagram rung state output rung determined testing elements rung true false condition . table 1 plc addressing function address input channels 00 07 output channels 08 15 internal relays 16 31 timers counters 32 39 discretestate process control 451 figure 31 using nc switch turn light relay logic plc programming wrong button turns light b relay logic button turns light c plc program button turns light . complete true element path output exists rung output made true . physical diagram symbol contact indicates normally open con tact current flow unless contact closed . push button switch someone must close contacts pushing . contact relay relay coil must energized . nc contact idea current flow contact opened . pushbutton switch someone must open contact stop cur rent flow pushing . contact relay relay must energized open contact stop current flow contacts . programmed diagram symbol contact indicates device interpreted false contact tested found open true found closed . often say examined true . consider programmed nc symbol . means tested found closed false tested found open . like physi cal . often say examine true . diagrams figure 31 illustrate concept . suppose physical nc push button switch want turn red light switch pushed . first let us look physical interpretation . figure 31a shows simply wire light switch . case light normally go switch pushed . figure 31b shows provide answer physical system control lay cr1 . cr1 normally energized nc contacts open light discretestate process control 452 . button pushed cr1 deenergized nc contact open cr1 energized closes red light comes . works . programmed system need either physical programmed con trol relay . figure 31c shows simply refer push button ex amine symbol connected directly light . switch pushed test symbol shows closed therefore interprets logically false light energized program . pushed tested open fore logic true light energized . suppose want implement latch turn motor using two push button switches . figure 32a shows switches motor physically connected input output channels plc . motor hot ac power n hot ac power n input module output module ac neutral ac neutral ch 3 ch 2 ch 1 ch 10 ch 09 ch 08 figure 32 physical connections plc programmed ladder diagram b motor startstop system . b 01 03 08 08 discretestate process control 453 red green pb1 pb2 plc ac 01 02 ac 08 09 hot neutral 110 vac source figure 33 physical elements example 9. programmed ladder diagram want motor latched pb1 depressed . would make input channel 1 high . thus want examine con dition element rung . want motor turned rung latched even though power applied input channel 3 pb2 depressed . thus channel want examine . ? yes channel true . ladder diagram figure 32b provide required solution . following example illustrates concepts programmed interpretation switch states . objective system shown figure 33 follows 1. pb1 alone pushed red light turns . 2. pb2 alone pushed green light turns . 3. buttons pushed neither light turns . show wiring connection pc ladder program accomplish task . channels 01 02 inputs 08 09 outputs . solution following example figures 27 28 lights switches wired shown figure 34. ac hot lead connected objects connected plc . accomplish first objective need red light pb1 pushed pb2 . since pb1 true pb1 pushed need examine . since pb2 pushed need examine i.e . must pushed . example 9 discretestate process control 454 red green pb1 pb 2 nc plc ac 01 02 ac 08 09 hot neutral 110 vac source 01 02 08 01 02 09 figure 34 wiring program solution example 9. accomplish second objective need green light pb1 pushed pb2 pushed . accomplished using examine pb1 pb1 pushed examine pb2 also pb2 pushed open . figure 34 shows ladder diagram program . 5.5 plc software functions amodern plc many functions implemented software associated proces sor . section common functions plcs presented ex amples application . rather generic descriptions given understand discretestate process control 455 count reset ctr address number figure 35 basic plc counter . basic concept functions . individual plc manufacturers de tails actual implementation . addressing scheme shown table 1 used following descriptions . control relay software control relay denoted circle identifi cation number . number nc contacts identified number relay . previous examples show software control relays use . counter counter programmed function counts increments every time input changes false true . means one scan input false next scan input true counter increments . counts occur un til input goes false true . counters often drawn rectangle programmed ladder diagrams like shown figure 35. see two input lines one count input another reset counter . counter address preset number counts . preset number counts accumulated counter becomes true activate part ladder diagram . also counters start preset value count zero time counter becomes true . different plc manufacturers individual ways ad dressing describing counter function . treat counter device logic output case counter output true false fed output device . following example illustrates counter application . suppose counter used count objects conveyor delivery system fig ure 28. show counter set count 200 objects turn con veyor motor . maximum conveyor speed assure objects missed count objects least 1 cm apart ? scan time 30 ms. solution figure 36 shows conveyor multiple objects counter connected object detector conveyor turned counting 200 objects . object de tector connected input channel 01 conveyor motor output channel 08. counter assigned address 32 count preset 200. means count 200 occurs counter become true . becomes true examine con tact 32 third rung become false conveyor motor turn . input chan nel 02 unspecified would used reset counter start another count 200. example 10 discretestate process control 456 427 plc objects conveyor conveyor motor plc execute execute execute execute 01 object switch 02 reset 08 conveyor motor 01 02 32 08 ctr 32 200 high high high low count count count object gap gap figure 36 program timing solution example 10. discretestate process control 457 enable tim address number enable reset atim address number b figure 37 plc timer functions simple timer b accumulating timer . figure 36 also shows timing diagram plc scan cycles pulses com ing detected objects . remember must return zero false next object detected . means even shortest time 1 cm objects must last one full scan assure return zero . plcs also provide counter count either depending upon state input . timers programmed timer function plays important role plc applica tions provide needed delays manufacturing sequence specify pe riod time operation last . activated true path timer begins accumulate time form ticks . tick worth certain amount time . timer preloaded specified number ticks . accumulated time ticks equal preload value timer becomes true . figure 37a shows common representation simplest timer function ladder diagram rectangular box . timer address preset number ticks count . amount time per tick function type plc ing used . typical values 10 ms 100 ms. timer counts true input . input becomes false true timer reset zero start count . 33.3 cms tcount 1 cms cms 30 ms discretestate process control 458 01 start 02 stop nc 08 red light 16 16 16 08 33 16 02 01 tim 33 250 figure 38 solution example 11. show timer used turn red light 2500 ms start push ton pushed . plc timer tick 10 ms. nc stop button resets system . solution need preset tick count . lets use address 33 timer 01 push button 08 red light . need latch effect push ton since likely held full 2500 ms. figure 38 shows programmed ladder diagram . stop button used reset process . without latch timer would count push button held . figure 37b shows accumulating timer retain tick count put goes false . input goes true tick count pick previous one left . necessary reset input timer desired timer reset back zero . 2500 ms10 ms 250 figure 39 shows pid chemical vat mixture must cooked tem perature greater 10 minutes . due external influences temperature might fall periodically counted cooking time . vat filled start push button nc starts cooking . terminated nc stop push button . thermal switch goes high temperature . mixture cooked 10 minutes heater turned drain valve opened . plc tick time 10 ms. solution since tick marks 10 ms required count counts . startstop latch used programmed control relay start process 60 smin10 min10 ms 6000 100c 100c 100c 100c example 11 example 12 discretestate process control 459 yc 09 ysh 03 yc 08 ys 02 ys 01 heater temperature 100 c nc start stop figure 39 chemical system example 12. nc switches addressed 01 02. accumulating timer address 32 count long start latched temperature indicated thermal switch address 03. long timer timed heater valve closed . timer times heater turned valve opened . timer reset pressing stop button . figure 40 shows programmed ladder diagram thissystem . scantimetimer relationship depending upon size program type plc scan time range 5 20 ms . care must taken design timer functions reactions less scan time . suppose plc 1 ms tick time want light triggered 15 ms limit switch goes true . prin ciple could use timer preset count 15 since would make 15 ms. plc scan time 20 ms would inconsistency . hardware timer used instances . special functions following paragraphs describe briefly func tions available plcs . oneshot output go true one scan input path true . device used initialization instances event occur even though conditions make true may occur . shiftregister used remember certain number previous states rung . fourevent shift register could used remember state rung latest four scans . 100c discretestate process control 460 01 nc start 02 nc stop 03 closes rising temperature 08 valve 09 heater 16 16 16 08 32 16 16 02 01 atim 32 6000 03 09 32 03 16 figure 40 plc program solution example 12. modern plcs able handle multidigit numbers well singlebit binary numbers . thus possible plc accept input 8bit adc store sult known memory location register . plcs ability perform va riety math operations data simple addition subtraction multiplication division exponential trigonometric operations . way plc made process continuous plant data pid control . prepare physical programmed ladder diagram control problem shown figure 41. global objective heat liquid specified temperature keep stirring 30 min . hardware following characteristics 1. start push button stop nc . 2. nc available limit switches . event sequence 1. fill tank . 2. heat stir liquid 30 min . 3. empty tank . 4. repeat step 1. example 13 discretestate process control 461 figure 41 tank system example 13. solution solution provided first constructing physical ladder diagram . done addresses assigned elements ladder diagram program prepared . figure 42 shows sixrung physical ladder diagram . rung 2 opens input valve provided output valve open full level reached . full level reached rung 3 turns stir provided output valve open . rung 4 starts 30min timer . heater controlled rung 5. rung energized deenergized temperature goes limit . timer times rung deenergized rung 6 energized open output valve . output valve remains open empty limit switch opens . output valve opened long input valve open . programmed ladder diagram shown figure 43. addresses input output internal devices assigned . notes indicate physical contacts change response control variable . timer becomes true 1800 ticks 30 minutes use examine timer rung 5 assure heater 30 minutes timer true . since empty valve closes rising level closed tank empties . therefore use examine assure output valve stays open tank empty . discretestate process control 462 433 cr1 cr1 cr1 cr1 cr1 h cr1 tr1 tr1 tr1 vout vout vout lup stop start vin vin vin vin vin temp le delay 30 min figure 42 physical ladder diagram example 13. inputs 01 start switch 02 nc stop switch 03 full level switch opens rising level 04 temperature switch opens rising temperature 05 empty switch closes rising level outputs 08 input valve 09 stir motor 10 heater 11 output valve timer tick 1 second 16 16 16 08 11 09 16 02 01 tim 32 1800 08 16 08 32 10 04 16 08 05 11 32 08 03 11 16 figure 43 programmed ladder diagram example 13. discretestate process control 463 summary chapter presented concepts discretestate control systems . topics cov ered include following 1. discretestate process one process variables take two states . 2. discretestate processcontrol system one causes process pass se quence events . event described unique specification process variables . 3. hardware process must carefully defined terms nature two states relation process . 4. sequence events described narrative fashion flowchart terms boolean equations . 5. aladder diagram schematic way describing sequence events discrete state control system . 6. programmable controller computerbased device implements required sequence events discretestate process . problems section 3 1 describe typical microwave oven framework discretestate process . de fine input variables output variables sequence serialparallel events . 2 develop control system automatic coffeevending machine . insertion coin pushing buttons provides paper cup coffee black sugar cream . describe features machine discrete state system . 3 develop flowchart describe event sequence running phase bottlefilling system example 3 figure 5 . 4 prepare flowchart operations required support coffeevending chine problem 2 . 5 design state variable solution system figure 5 example 4. assume another binary input r 1 system running . 6 develop boolean equations satisfy requirement process example 4 figure 11. note may need specify additional hardware . section 4 7 develop physical ladder diagram motor following start ton nc stop button thermal overload limit switch opens high temperature green light running red light thermal overload . 8 turned tank system figure 44 alternately fills level l empties level e. level switches activated rising level . nc connections available level switches onoff push buttons . prepare physical ladder diagram system . 9 develop ladder diagram provides running phase process de scribed example 3 figure 5. assume switches nc contacts . discretestate process control 464 10 prepare ladder diagram process described example 4 figure 11. assume logic offdelay 5minute timer i.e . goes true enabled stays true 5 min . assume start push button nc stop push button . 11 system figure 45 following functions move work piece posi tion clamp start drill move drill hole work piece long thermal overload occur back drill turn drill repeat new work piece . assume master start nc stop buttons limit switches nc contacts . system stops thermal overload occurs turns red light shown . develop physical ladder diagram . figure 44 system use problems 8 14. figure 45 process problems 11 16. discretestate process control 465 figure 46 motor switches problem 15. section 5 note following problems use programmable controller addresses given section 5.4 . 12 design programmable controller program solve control problem process described example 4 figure 11 . 13 prepare programmable controller ladder diagram problem 7 . 14 prepare plc ladder program system problem 8 figure 44 following added requirements 1 system cycle 100 times quit 2 cycle 1.5minute delay filling fore empty phase starts . plc tick time 10 ms. 15 system figure 46 turned motor alternate rotation cw ccw cycling shaft extension contacts two limit switches rls lls . four switches normally closed positions . prepare plc lad der program following requirements 1. button pushed system motor moves arm right limit switch position waits 30 seconds . 2. system cycles 75 times right leftlimit switches stops . 3. button stops system time 75 cycles made resets system . 16 prepare programmed ladder diagram problem 11. supplementary problems s1 figure 47 shows system batch processing . system operations de scribed follows 1 weighed quantity dry material added liquid discretestate process control 466 filled tank level l1 . 2 mixture stirred heat applied maintain temperature tl th period 10 minutes . 3 stir heater batch emptied level l2 . whole process starts . prepare flowchart describes sequence events . sure consider events could occur parallel . s2 sensors figure 47 switches close variable reaches trip value . thus th represents connection closes tempera ture exceeds th l1 closes level exceeds l1 forth . conveyor stir motors valves heater solenoids . prepare physical lad der diagram system figure 47 described problem s1 . sure consider operations executed simultaneously . s3 plc used channels assigned given section 5.4. prepare pro grammed ladder diagram system figure 47 described problem s1 . switches . thus th closes temperature reaches th l1 closes level exceeds l1 forth . s4 figure 48 shows automated hydroponics system . aplc used provide following sequence light nutrient . plc 10ms timer tick time maximum count timer counters 9999 . 1. growing vat must light minimum intensity least 8 hours . photoswitch closes rising light level monitors natural light figure 47 system problems s1 s2 s3 . discretestate process control 467 natural light photoswitch artificial light valve pump l1 l2 figure 48 hydroponic system problem s4 . period . light intensity falls switch level 10 minutes artificial light turned natural light brightens . 2. 8hour light period nutrient must cycled vat every 2 hours left 2 hours . nutrient filled l1 closes rising level emptied l2 opens dropping level . 3. remaining 16 hours nutrient pumped left 3 hours pumped left 1 hour cycling 16 hours . discretestate process control 468 solutions oddnumbered problems 1 one possible solution follows condition generator fan light door sw pwr sw timer 1. open door 2. place food 3. close door 4. set timer 5. power 6. open door 7. close door 8. time 3 see figure s.57 . start level control conveyor conveyor valve open valve closed bp ? full ? figure s.57 discretestate process control 469 5 assume state given state solution state output 1. xx0000 000 idle 2. xx1000 001 conveyor 3 . 0x1000 001 conveyor 4 . 0x1001 001 waiting bp 5 . 1x1001 110 conveyor start level fill 6 . 101110 110 waiting bf 7 . 111110 000 8. xxx000 go 1 7 see figure s.58 . 9 see figure s.59 . 11 see figure s.60 . 13 see figure s.61 . 15 see figure s.62 . supplementary problems s1 see figure s.63 . s3 see figure s.64 . bpbfrlcvm figure s.58 discretestate process control 470 cr 2 bpls cr1 valve cr1 cr 2 bfls bfls bpls figure s.59 figure s.60 discretestate process control 471 figure s.61 inputs 01 switch nc 02 switch nc 03 right limit switch nc 04 left limit switch nc outputs 08 cw motor 09 ccw motor timer tick 0.1 second 16 16 17 04 32 17 16 02 01 tim 32 300 03 17 16 08 33 17 ctr 33 75 09 17 33 16 16 32 03 reset figure s.62 discretestate process control 472 start cm start stir heat start timer heat cm cm v1 close v1 open w ? tth ? time ? l1 ? vh open l1 ? v1 close ttl ? l2 ? heat heat stir vout open vout close w ? yes figure s.63 discretestate process control 473 figure s.64 discretestate process control 474 controller principles instructional objectives chapter presents operational modes processcontrol loop . mode deter mined nature controller responses controlled variable measurement set point comparison . read chapter able define process load process lag selfregulation . describe twoposition floatingcontrol mode . define proportional controller mode . give example description integralcontrol mode . describe derivativecontrol mode . contrast proportionalintegral proportionalderivative control modes . describe threemode controllers . provide description controller output fixed error input con troller modes . 1 introduction previously studied nature implementation controllers discretestate control processes . processes operations variables one two states . present chapter consider nature controller ac tion systems operations variables range continuous values . controller inputs result measurement controlled variable determines appropriate output final control element . essentially controller form computereither analog digital pneumatic electronicthat using input measurements solves certain equations calculate proper output . equations nec essary obtain control exist forms independent process chapte5r instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 959 process control 475 whether controller function provided analog digital computer . equa tions describe modes action controller operation . nature process particular variable controlled determine mode modes control used value certain constants mode equations . chapter study various modes controller operation . 2 process characteristics selection controller modes use process function characteris tics process . intention discuss modes selected de fine meaning mode . time helpful understanding modes certain pertinent characteristics process considered . section de fine properties processes important selecting proper modes . 2.1 process equation processcontrol loop regulates dynamic variable process . controlled vari able process parameter may depend many parameters process thus suffer changes many different sources . selected one parame ters controlling parameter . measurement controlled variable shows deviation setpoint controlling parameter changed turn changes controlled variable . example consider control liquid temperature tank shown figure 1. controlled variable liquid temperature . temperature depends many parameters processfor example input flow rate via pipe put flow rate via pipe b ambient temperature steam temperature inlet tem perature steam flow rate . case steam flow rate controlling parameter chosen provide control variable liquid temperature . one parameters changes change temperature results . bring temperature back setpoint value change steam flow ratethat heat input process . process could described process equation liquid temperature function 1 provide control via need know functional relationship exactly require linearity function . control loop adjusts thereby regulates regardless parameters equation 1 vary . many cases relationship equation 1 even analytically known . tl qs qs ts steam temperature t0 inlet fluid temperature ta ambient temperature qs steam flow rate qa qb flow rates pipes b tl fqa qb qs ta ts t0 tl qs t0 ts ta tl controller principles 476 figure 1 control temperature process control . 2.2 process load process equation knowledge experience process possible identify set values process parameters results controlled variable setpoint value . set parameters called nominal set . term process load refers set parameters excluding controlled variable . pa rameters nominal values speak nominal load system . quired controlling variable value conditions nominal value parameter . setpoint changed control parameter altered cause variable adopt new operating point . load still nominal however pa rameters assumed unchanged . suppose one parameters changes nom inal causing corresponding shift controlled variable . say process load change occurred . controlling variable adjusted compensate load change effect dynamic variable bring back setpoint . exam ple figure 1 process load change caused change five parame ters affecting liquid temperature . extent load change controlled variable formally determined process equations equation 1. practice con cerned variation controlling parameter brings controlled variable back setpoint . necessarily concerned cause nature extent load change . controller principles 477 transient another type change involves temporary variation one load parameters . excursion parameter returns nominal value . vari ation called transient . transient causes variations controlled variable control system must make equally transient changes controlling variable keep er ror minimum . transient load change permanent . 2.3 process lag previously noted processcontrol operations essentially timevariation problem . point time processload change transient causes change controlled variable . processcontrol loop responds ensure finite time later vari able returns setpoint value . part time consumed process called process lag . thus referring figure 1 assume inlet flow suddenly dou bled . large processload change radically changes reduces liquid temperature . control loop responds opening steam inlet valve allow steam heat input bring liquid temperature back setpoint . loop reacts faster process . fact physical opening control valve slowest part loop . steam flowing new rate however body liquid must heated steam setpoint value reached . time delay process lag heating function process control system . clearly advantage de signing control systems many times faster process lag . 2.4 selfregulation significant characteristic processes tendency adopt specific value controlled variable nominal load control operations . control operations may significantly affected selfregulation . process figure 1 self regulation shown following argument . 1 suppose fix steam valve 50 open control loop changes valve position possible . 2 liquid heats energy carried away liquid equals input energy steam flow . 3 load changes new temperature adopted system temperature controlled . 4 process selfregulating however temperature run away stabilizes value given conditions . example process without selfregulation tank liquid pumped fixed rate . assume influx matches outlet rate . liquid tank fixed nominal level . influx increases slightly however level rises tank overflows . selfregulation level provided . 3 control system parameters described basic characteristics process related control . let us examine general properties controller shown figure 2. review 1 inputs controller measured indication controlled variable setpoint representing desired value variable expressed controller principles 478 figure 2 error detector controller . fashion measurement 2 controller output signal representing action taken measured value controlled variable deviates setpoint . measured indication variable denoted b actual variable de noted c. thus sensor measures temperature conversion resistance actual variable temperature degrees celsius measured indication resistance ohms . conversion may performed transducers transmitters provide cur rent example . case current becomes measured indication variable . 3.1 error deviation error controlled variable setpoint given 2 equation 2 expresses error absolute sense units measured ana log control signal . thus setpoint 4 20ma range corresponds 9.9 measured value 10.7 error . obviously current error little direct meaning unless related controlled variable . could work back loop prove corresponds flow rate example . would show significance error relative actual processcontrol loop . describe controller operation general way better express error percent measured variable range i.e . span . measured value variable expressed percent span range measurement equation cmin minimum measured value cmax maximum measured value c actual measured value cp measured value percent measurement range cp c cmin cmax cmin 100 1.1 m3h 0.8 r setpoint variable reference b measured indication variable e error e r b controller principles 479 previous equation terms actual measured variable c equation expressed terms measured indication b. necessary translate measured minimum maximum . express error percent span necessary write setpoint measurement terms percent span take difference according equation 2. result 3 see convenience using standard measured indication range like 4 20 span always 16 . suppose setpoint 10.5 mea surement 13.7 . without even knowing measured know error positive error indicates measurement setpoint negative error indicates measurement setpoint . temperature figure 1 range 300 440 k setpoint 384 k. find percent span error temperature 379 k. solution percent error 3.2 variable range generally variable control range values within control maintained . range expressed minimum maximum value vari able nominal value plus minus spread nominal value . standard 4 20ma signal transmission employed 4 represents minimum value variable 20 maximum . computerbased control system used dynamic variable converted nbit digital signal . often transformation made 0s minimum value variable 1s maximum value . ep 3.6 ep 384 379 440 300 100 ep r b bmax bmin 100 ep 20 ep 10.5 13.7 20 4 100 ep error expressed percent span ep r b bmax bmin 100 bmax bmin example 1 controller principles 480 3.3 control parameter range another range associated controller output . assume final control el ement minimum maximum effect process . controller output range translation output range possible values final control element . range also expressed 4 20ma standard signal minimum maximum effects terms minimum maximum current . similarly computerbased control output range states nbit output . generally 0s minimum output 1s maximum . numbers necessarily represent minimum maximum final control element ever . may wish valve never fully closed example therefore 0s might represent percentage full open . often output expressed percentage 0 minimum controller output 100 maximum obviously . thus example figure 1 valve fully open position corresponds 100 controller signal output . often however minimum correspond zero effect . example may steam flow never less flow results valve half open . case 0 minimum controller corresponds flow rate halfopen valve . controller output percent full scale output varies spec ified limits given 4 controller outputs 4 20ma signal control motor speed 140 600 rpm linear dependence . calculate current corresponding 310 rpm b value expressed percent control output . solution a. find slope intersect linear relation current speed knowing two given positions write two equations solving simultaneous equations get . thus 310 rpm gives . 9.91 310 28.75i 25 s0 25 rpm 28.75 rpmma 600 20m s0 140 4m s0 sp sp mi s0 s0 umin minimum value controlling parameter umax maximum value controlling parameter u value output p controller output percent full scale p u umin umax umin 100 example 2 controller principles 481 b. expressed percentage 4 20ma range controller output 3.4 control lag control system also lag associated operation must compared process lag see section 2.3. controlled variable experiences sudden change processcontrol loop reacts outputting command final control element adopt new value compensate detected change . control lag refers time processcontrol loop make necessary adjustments final control element . thus figure 1 sudden change liquid temperature occurs requires finite time control system physically actuate steam control valve . 3.5 dead time another time variable associated process control function process control system process . elapsed time instant deviation error occurs corrective action first occurs . example dead time occurs con trol chemical reaction varying reactant flow rate long pipe . deviation detected control system quickly changes valve setting adjust flow rate . pipe particularly long period time effect felt reaction ves sel . time required new flow rate move length pipe . dead times profound effect performance control operations process . 3.6 cycling frequently refer behavior dynamic variable error various modes control . one important modes oscillation error zero . means variable cycling setpoint value . cycling may con tinue indefinitely case steadystate cycling . interested peak amplitude error period oscillation . cycling amplitude decays zero however cyclic transient error . interested initial error period cyclic oscillation decay time error reach zero . 3.7 controller modes controller defined section 3 statement controller generates con trol signal final element based measured deviation controlled variable setpoint . natural ask controller responds deviation . thermo statically controlled temperature system used home controller response simple . temperature drops thermostat setpoint bimetallic relay turns heater . p 36.9 p c 9.91 4 20 4 100 p u umin umax umin 100 controller principles 482 consider case system shown figure 1. simple onoff decision made setting steam valve smoothly varied one extreme another . thus deviation liquid temperature setpoint occurs con troller ? open valve little lot ? open valve fast slowly ? questions answered specifying mode controller operation . one distinction clear earlier examples . domestic thermostat involves mode discontinuous controller command initiates discontinuous change con trol parameter . process figure 1 continuous smooth variation con trol parameter possible . section 4 covers various controller modes detail . choice operating mode given processcontrol system complicated de cision . involves process characteristics cost analysis product rate dustrial factors . outset processcontrol technologist good understanding operational mechanism mode advantages disadvantages . opera tion mode defined later examples given general statements ap plication details . case output controller described factor p. percent controller output relative total range defined equation 4. example controller outputs 4 20ma current signal final control element corresponding current current used drive value actuator 4 closed 20 full open valve 25 open . valve equalpercentage type range ability 30 flow rate 7.16 example shows percentage output controller known actual value controlled variable determined . input controller described error defined equation 3 percentage error measured variable setpoint relative range . general controller operation expressed relation 5 represents relation appropriate controller output determined . cases graph p versus also employed aid definition control mode . reverse direct action error results measurement con trolled variable may positive negative value may greater less setpoint . polarity error changes controller output selected ac cording nature process . acontroller operates direct action increasing value controlled vari able causes increasing value controller output . example would levelcontrol ep fep p fep ep q 2.34 qmin q qmin300.25 q qminrssmax 8 4 0.2520 4ma imin pimax imin p 25 controller principles 483 figure 3 twoposition controller action neutral zone . system outputs signal output valve . clearly level rises increases valve opened i.e . drive signal increased . reverse action opposite case increase controlled variable causes decrease controller output . example would simple temperature control heater . temperature increases drive heater decreased . 4 discontinuous controller modes section discusses various controller modes show discontinuous changes controller output controlled variable error occurs . important understand modes frequent use process control form basis continuous modes discussed section 5 . 4.1 twoposition mode elementary controller mode onoff twoposition mode . ex ample discontinuous mode . simplest cheapest often suffices disadvantages tolerable . although analytic equation written general write 6 relation shows measured value less setpoint full controller output results . setpoint controller output zero . aspace heater common example . temperature drops setpoint heater turned . temperature rises setpoint turns . neutral zone virtually practical implementation twoposition con troller overlap increases zero decreases zero . span change controller output occurs . best shown figure 3 plots p versus twoposition controller . see increasing error changes zero controller output change state . decreasing must fall zero controller changes 0 rating . range ferred neutral zone differential gap often purposely designed certain minimum quantity prevent excessive cycling . existence neutral zone example desirable hysteresis system . 2 ep ep ep ep ep p b 0 ep 6 0 100 ep 7 0 controller principles 484 liquidlevel control system linearly converts displacement 2 3 4 20ma control signal . relay serves twoposition controller open close inlet valve . relay closes 12 opens 10 . find relation displacement level current b neutral zone displacement gap meters . solution a. relation level current linear equation find k writing two equations solving simultaneous equations yields intersection linear relations . b. relay closes 12 high level low level occurs 10 thus neutral zone 0.125 m. applications generally twoposition control mode best adapted largescale systems relatively slow process rates . thus example either room heating airconditioning system capacity system large terms air volume overall effect heater cooler relatively slow . sudden largescale changes common systems . examples two position control applications liquid bathtemperature control level control largevolume tanks . process twoposition control must allow continued os cillation controlled variable nature mode control al ways produces oscillation . large systems oscillations long duration partly function neutralzone size . illustrate consider following example . temperature water tank controlled twoposition controller . heater temperature drops 2 k per minute . heater temperature rises 4 k per minute . setpoint 323 k neutral zone 4 setpoint . 0.5min lag switch points . find period oscillation plot water temperature versus time . hh hl 2.5 2.375 hl 2.375 hl 0.0625 mma10 1.75 hl hh 2.5 hh 0.0625 mma12 1.75 hh h0 1.75 k 0.0625 mma 3 k20 h0 2 k4 h0 h0 h ki h0 example 3 example 4 controller principles 485 solution neutral zone temperature 4 323 k 12.92 k. therefore switch ing temperatures 336 k 310 k. system cooling temperature written tct tt0 2t t0 7 t0 starting time tt0 temperature time . similarly heat ing temperature rises according relation tht tt1 4t t1 8 effect overshoot found follows . suppose heater upper trip point 336 k reached time t. system continue heat another 0.5 min 4 kmin i.e . another 2 k. therefore system really starts cooling tem perature 338 k. sense cooling 310 k system continue cool another 0.5 min 2 kmin 1 k actual heating starts 309 k. suppose 0 temperature reached real upper trip point 338 k cooling . drop according equation 7 ct 338 2t . find time reaches 309 k solving 309 338 2t1 t1 14.5 min . therefore 14.5 minutes starts heating . find time reaches 338 k equa tion 8 heating 338 309 4t 2 14.5 2 21.75 min . thus total time one cycle period 21.75 minutes . figure 4 shows plot tempera ture variation . plot constructed starting point setpoint 323 k cooling instead upper trip point used previous calculations . figure 4 figure example 4. controller principles 486 general overshoot undershoot controlled variable occur example 4. due finite time required control element impress full effect process . thus finite warmup time cooloff time heater included example 4 caused overshoot undershoot temperature . cases final control element lag large substantial errors result neutral zone must reduced lower errors . general cycling noted previous example function neutral zone . neutral zone example reduced reader verify although tighter control maintained cycling period reduced 11.91 min . solution values left reader calculate . 4.2 multiposition mode logical extension previous twoposition control mode provide several inter mediate rather two settings controller output . discontinuous control mode used attempt reduce cycling behavior overshoot undershoot herent twoposition mode . fact however usually expedient use mode twoposition satisfactory . mode represented 9 error exceeds certain set limits controller output adjusted preset values . common example threeposition controller 10 long error setpoint controller stays nomi nal setting indicated controller output 50. error exceeds setpoint output increased 100. less setpoint controller output reduced zero . figure 5 illustrates mode graphically . small neutral zone usually exists change points design thus shown . type control mode e1 e1 e1 e2 p c 100 ep 7 e2 50 e1 6 ep 6 e2 0 ep 6 e1 pi ei p pi ep 7 ei 1 2 p n 2 figure 5 threeposition controller action . controller principles 487 figure 6 relationship error threeposition controller action including effects lag . usually requires complicated final control element must two settings . figure 6 shows graph dynamic variable final control element set ting versus time hypothetical case threeposition control . note change con trol element setting variable changes two trip points . graph finite time required final control element change one position another also shown . notice overshoot undershoot error around upper lower set points . due process lag time controller lag time indicated finite time required control element reach new setting . 4.3 floatingcontrol mode two previous modes controller action output uniquely determined magnitude error input . error exceeded preset limit output changed new setting quickly possible . floating control specific output controller uniquely determined error . error zero output change remains floats whatever setting error went zero . error moves zero controller output begins change . actually controller principles 488 twoposition mode typically neutral zone around zero error change controller position occurs . single speed singlespeed floatingcontrol mode output con trol element changes fixed rate error exceeds neutral zone . equation action 11 equation 11 integrated actual controller output get 12 shows present output depends time history errors pre viously occurred . history usually known actual value p floats undetermined value . deviation persists equation 12 shows controller saturates either 100 0 remains error drives toward opposite extreme . graph singlespeed floating control shown figure 7a . suppose process error lies within neutral zone . error falls neutral zone . per second find time output saturates . solution relation controller output time solved yields figure 7b graph shows controller output versus time error versus time hy pothetical case illustrating typical operation . example assume controller verse acting means controller output decreases error exceeds neutral 37.5 100 2st 25 p 100 p kft p0 k 2 0 p 25 p0 controller output 0 p kft p0 ep 7 ep ep half neutral zone kf rate constant dp dt rate change controller output time dp dt kf ep 7 ep example 5 controller principles 489 454 figure 7 singlespeed floating controller shown singlespeed controller action put rate change input error b example error controller response . controller principles 490 zone . corresponds negative equation 11. controllers ad justed act either reverse direct mode . controller starts output p0 . time error exceeds neutral zone . controller output decreases con stant rate error falls neutral zone limit . error falls lower limit neutral zone causing controller output change error moves within allowable band . multiple speed floating multiplespeed control mode one sev eral possible speeds rates changed controller output . usually rate increases deviation exceeds certain limits . thus certain speed change points depending error corresponding output rate change . say 13 error exceeds speed . error rises exceed speed increased . actually mode discontinuous attempt realize tegral mode see section 5.4. graph mode shown figure 8. applications primary applications floatingcontrol mode singlespeed controllers neutral zone . mode inherent cycle nature much like twoposition although cycling minimized depending applica tion . generally method well suited selfregulation processes small lag kf2 ep2 kfi epi dp dt kfi ep 7 epi ki epi t3 t2 t1 kf figure 8 multiplespeed floating mode control action . controller principles 491 figure 9 singlespeed floatingcontrol action applied flowcontrol system . figure 10 rate controller output change strong effect error recovery floating controller . dead time implies smallcapacity processes . used largecapacity sys tems inevitable cycling must considered . example singlespeed floating control liquid flow rate control valve . system shown figure 9. load determined inlet outlet pressures flow determined part pressure p within dp cell control valve . example system selfregulation . assume valve opening found commensurate desired flow rate . load changes either error occurs . larger neutral zone valve begins open close constant rate opening found supports proper flow rate new load conditions . clearly rate important especially fast process lags cause valve continue opening closing beyond optimum selfregulated position . shown figure 10 response sudden deviation shown various float ing rates . pout pin pout pin controller principles 492 5 continuous controller modes common controller action used process control one combination con tinuous controller modes . modes output controller changes smoothly response error rate change error . modes extension dis continuous types discussed previous section . 5.1 proportional control mode twoposition mode controller output either 100 0 depending error greater less neutral zone . multiplestep modes divisions controller outputs versus error developed . natural extension concept proportional mode smooth linear relationship exists controller output error . thus range errors setpoint value er ror unique value controller output onetoone correspondence . range error cover 0 100 controller output called proportional band onetoone correspondence exists errors range . mode ex pressed 14 direct reverse action recall error equation 14 expressed using difference setpoint measurement . means measured value increases setpoint error negative output decrease . term subtract . thus equation 14 represents verse action . direct action would provided putting negative sign front cor rection term . plot proportional mode output versus error equation 14 shown figure 11. case set 50 two different gains used . note proportional band dependent gain . high gain means large response error also narrow error band within output saturated . general proportional band defined equation 15 let us summarize characteristics proportional mode equation 14 . 1. error zero output constant equal . 2. error every 1 error correction percent added subtracted depending sign error . 3. band error zero magnitude pb within output saturated 0 100. p0 kp p0 pb 100 kp p0 p0 kp ep r b p0 controller output error kp proportional gain error controller output per p kpep p0 controller principles 493 saturation gain g1 gain g2 g1 100 50 0 error wide band band narrow saturation controller output figure 11 proportional band proportional controller depends inverse gain . offset error 100 0 controller output error 50 p old p new figure 12 offset error must occur proportional controller requires new zeroerror output fol lowing load change . offset important characteristic proportional control mode pro duces permanent residual error operating point controlled variable change load occurs . error referred offset . minimized larger con stant also reduces proportional band . see offset occurs consider sys tem nominal load controller 50 error zero shown figure 12. kp controller principles 494 figure 13 levelcontrol system example 6. transient error occurs system responds changing controller output correspon dence transient effect returntozero error . suppose however load change oc curs requires permanent change controller output produce zeroerror state . onetoone correspondence exists controller output error clear new zeroerror controller output never achieved . instead system produces small permanent offset reaching compromise position controller output new loads . consider proportionalmode levelcontrol system figure 13. value linear flow scale factor per percent controller output . controller output nom inally 50 constant per . load change occurs flow valve b changes . calculate new controller output set error . solution certainly valve must move new position flow tank empty . accomplished 60 new controller output required . proportional controller nominal condition . thus 1 offset error occurred load change . ep 1 ep p p0 kp 60 50 10 p0 50 p kpep p0 qa 10 m3h b 60 600 m3h 600 m3h 600 m3h 500 m3h kp 10 10 m3h example 6 controller principles 495 application offset error limits use proportional mode cases particularly manual reset operating point possible eliminate offset . proportional control generally used processes large load changes un likely moderate small process lag times . thus process lag time small proportional band made small large reduces offset error . figure 11 shows made large pb becomes small pro portional mode acts like onoff mode . remember onoff mode exhib ited oscillations setpoint . statements clear high gain proportional mode causes oscillations error . 5.2 integralcontrol mode offset error proportional mode occurs controller adapt changing external conditionsthat changing loads . words zeroerror put fixed value . integral mode eliminates problem allowing controller adapt changing external conditions changing zeroerror output . need integral action shows noted even proportional ac tion correction error go zero time . suppose system error proportional mode provides change controller output . watch error time note error may reduce go zero fact may become constant . integral action needed . integral action provided summing error time multiplying sum gain adding result present controller output . see error makes random excursions zero net sum zero integral action contribute . error becomes positive negative extended period time integral action begin accumulate make changes controller output . mathematics continuous functions error summation represented integration . therefore mode represented integral equation 16 p0 controller output integral action starts . gain expresses much controller output percent needed every percenttime accumulation error . another way thinking integral action found taking derivative equa tion 16. case find relation rate controller output changes 17 equation shows error occurs controller begins increase de crease output rate depends upon size error gain . error zero controller output changed . positive error controller output begins ramp rate determined equation 17. figure 14 illustrates two different values gain . dp dt kiep ki pt ki3 0 ep dt p0 kpep ep kp kp controller principles 496 figure 14 integral mode controller action rate output change depends error b illustration integral mode output error . figure 14a shows rate change controller output depends upon value error size gain . figure 14b shows actual controller output would look constant error occurred.you see controller output begins ramp rate determined gain . case gain output finally saturates 100 action occur perhaps control valve fully open example . let us summarize characteristics integral mode equation 16 . 1. error zero output stays fixed value equal error went zero . 2. error zero output begin increase decrease rate percentsecond every 1 error . ki k1 controller principles 497 area accumulation calculus learn integral determines area function integrated . thus equation 16 interpreted providing controller output equal net area errortime curve multiplied . ten say integral term accumulates error function time . thus every accumulated errortime area output percent . integral controller used speed control setpoint 12 rpm within range 10 15 rpm . controller output 22 initially . constant controller output per second per percentage error . speed jumps 13.5 rpm calculate con troller output 2 constant . solution find equation 3 rate controller output change given equation 17 controller output constant error found equation 16 constant 2 integral gain often represented inverse called integral time reset action . often expressed minutes instead seconds cause unit typical many industrial process speeds . integral controller constant may expressed percentage change per minute per percentage error whenever typical processcontrol loop characteristic ki ti 1ki ki p 31 p 0.15302 22 p kiept p0 ep p ki3 0 ep dt p0 dp dt 4.5s dp dt kiep 0.15 s130 ep 30 ep 12 13.5 15 10 100 ep r b bmax bmin 100 ep ep ki 0.15 ki 1 ki example 7 controller principles 498 sponse time minutes rather seconds . thus integral mode controller reset ac tion 5.7 minutes means equations would applications use integral mode shown flow control system figure 9 except assume reverseacting integral controller mode . opera tion understood using figure 15. load changeinduced error occurs . 0 ki 2.92 103 s1 ki 1 5.7 min60 smin ki figure 15 illustration integral mode output error showing effect process control lag . controller principles 499 figure 16 error zero rate change large . proper valve position new load maintain constant flow rate shown dashed line controller output graph figure 15. integral mode value initially begins change rapidly predicted equation 17. valve opens error decreases slows valve opening rate shown . ultimate effect system drives error zero slowing controller rate . effect process con trol system lag shown simple delays controller output change error reduction controller action occurs . process lags large error oscillate zero even cyclic . typically integral mode used alone used systems small process lags correspondingly small capacities . 5.3 derivativecontrol mode suppose charge controlling variable time helper yelled error zero . action want take ? well would seem per fectly rational answer none error zero . suppose screen shows variation error time looks like figure 16. clearly see even though error zero changing time certainly zero following time . therefore action taken even though error zero ! scenario describes nature need derivative action . derivation controller action responds rate error changing derivative error . appropriately equation mode given expression 18 gain tells us much percent change controller output every percentpersecond rate change error . derivative action used alone provides output error constant . derivative controller action also called rate action anticipatory control . kd pt kd dep dt t0 t0 controller principles 500 figure 17 derivative mode controller action changes depending rate error . figure 17 illustrates derivative action changes controller output vari ous rates change error . example assumed controller output error rate change error 50. error changes rapidly pos itive slope output jumps large value error changing put returns 50. finally error decreasingthat negative slopethe output discontinuously changes lower value . derivative mode must used great care usually small gain cause rapid rate change error cause large sudden changes controller put . event lead instability . let us summarize characteristics derivative mode equation 18 . 1. error zero mode provides output . 2. error constant time mode provides output . 3. error changing time mode contributes output percent every 1persecond rate change error . 4. direct action positive rate change error produces positive derivative mode output . kd controller principles 501 6 composite control modes common complex industrial processes find control requirements fit application norms previously considered controller modes . possible expedient combine several basic modes thereby gaining advantages mode . cases added advantage modes tend eliminate lim itations individually possess . consider combinations com monly used discuss merits mode . 6.1 proportionalintegral control pi control mode results combination proportional mode tegral mode . analytic expression control process found series combi nation equations 14 16 19 main advantage composite control mode onetoone corre spondence proportional mode available integral mode eliminates inherent offset . notice proportional gain design also changes net inte gration mode gain integration gain independently ad justed . recall proportional mode offset occurred load change required new nominal controller output could provided except fixed error setpoint . present mode integral function provides required new con troller output thereby allowing error zero load change . integral fea ture effectively provides reset zero error output load change occurs . seen graphs figure 18. time load change occurs produces error shown . accommodation new load condition requires new controller output . see controller output provided sum proportional plus integral action finally leaves error zero . proportional part obviously image error . let us summarize characteristics pi mode equation 19 . 1. error zero controller output fixed value integral term error went zero . output given equa tion 19 simply chose define time observation starts . 2. error zero proportional term contributes correction integral term begins increase decrease accumulated value initially depending sign error direct reverse action . integral term become negative . thus saturate zero error action try drive area net negative value . pi0 0 pi0 1 ki pi0 integral term value 0 initial value p kpep kpki3 0 ep dt pi0 controller principles 502 figure 18 proportionalintegral pi action showing reset action integral contribution . example reverse action . application noted composite proportionalintegral mode eliminates offset problem proportional controllers . follows mode used sys tems frequent large load changes . integration time however process must relatively slow changes load prevent oscillations induced integral overshoot . another disadvantage system startup batch process integral action causes considerable overshoot error output fore settling operation point . shown figure 19 see pro portional band dashed band . effect integral action viewed shifting whole proportional band . proportional band defined positive negative error output driven 0 100. therefore presence integral accumulation changes amount error bring saturation proportional term . figure 19 output saturates whenever error exceeds pb limits . pb constant location shifted inte gral term changes . given error figure 20 top plot graph proportionalintegral controller put function time . kp 5 ki 1.0 s1 pi0 20 example 8 controller principles 503 figure 19 overshoot cycling often result pi mode control used startup batch processes . dashed lines show proportional band . solution find solution application find controller output solve equation 19 time . error expressed three time regions . 0 1 0 1 p kp ep kpki3 0 ep dt pi0 controller principles 504 figure 20 solution example 8. error rises 0 1 1 s. thus given . time span error constant equal 1 therefore given . time error zero . write solve equation 19 time spans . p1 5t 2.5t2 20 p1 5t 5 c t2 2 3 0 20 p1 5t 5 3 0 dt 20 0 1 ep ep 0 3 ep 1 1 3 ep controller principles 505 plotted figure 20 bottom 0 1 s. notice curvature squared term . remember integral term accumulates values finding output 1 contribution proportional term 5t included . therefore starting value next time span given . integral term accumulation 0 1 forms initial condition new equation . function plotted figure 20 1 3 s. end period integral term accumulated value . figure 20 bottom shows output stay constant 32.5 3 s. sud den drop 5 due sudden change error 1 0 s. 6.2 proportionalderivative control mode pd second combination control modes many industrial applications . involves serial cascaded use proportional derivative modes . analytic expression mode found combination equations 14 18 20 terms defined terms given previous equations . clear system eliminate offset proportional controllers . however handle fast process load changes long load change offset error ac ceptable . example operation mode hypothetical load change shown figure 21. note effect derivative action moving controller output rela tion error rate change . suppose error figure 22a applied proportionalderivative controller . draw graph resulting controller output . p0 20 kp 5 kd 0.5 p kp ep kpkd dep dt p0 3 p3 32.5 p3 50 5 3 3 0 dt 32.5 3 ep 0 p 2 3 32.5 p2 5 5t 1 22.5 p2 5 5t1 22.5 p2 5 5 3 1 1 dt 22.5 1 3 ep 1 p11 2.5t2 20 22.5 example 9 controller principles 506 figure 21 proportionalderivative pd action showing offset error proportional mode . example reverse action . solution case evaluate two spans error . time 0 1 note instantaneous change 2.5 produced error . span 1 3 p2 5 20 25 p1 5t 2.5 20 1s p1 kpat kdkpa p0 ep p kp ep kdkp dep dt p0 controller principles 507 figure 22 solution example 9. span 3 5 error get 3 5 controlled output plotted figure 22b . 6.3 threemode controller pid one powerful complex controller mode operations combines propor tional integral derivative modes . system used virtually process condition . analytic expression 21 p kp ep kpki3 0 ep dt kpkd dep dt pi0 p3 2.5t 31.25 p3 2.5t 12.5 12.5 20 ep 0.5t 2.5 controller principles 508 figure 23 threemode controller action exhibits proportional integral derivative action . terms defined earlier . mode eliminates offset proportional mode still provides fast sponse . figure 23 response threemode system error shown . let us combine everything see error figure 22a produces output threemode controller . draw plot controller output . solution figure 22a error expressed follows 35 ep 1 2 2.5 13 ep 1 01 ep pi0 20 kp 5 ki 0.7 s1 kd 0.5 example 10 controller principles 509 figure 24 solution example 10. must apply spans threemode equation controller output 0 1 plotted figure 24 span 0 1 s. end 1 integral term accumulated . 1 3 p2 3.5t 1 26.75 p2 5 3.5 3 1 1 dt 21.75 pi1 21.75 p1 5t 1.75t2 22.5 p1 5t 3.5 3 0 dt 2.5 20 p 5ep 3.5 3 0 ep dt 2.5 dep dt 20 p kp ep kpki3 0 ep dt kpkd dep dt pi0 controller principles 510 controller variation shown figure 24 1 3 s. end 3 inte gral term accumulated value . finally 3 5 plotted figure 24 3 5 s. 5 error zero . therefore put simply accumulated integral response providing constant output . examples used chapter idealized terms sudden way er rors change . real world changes instantaneous therefore sharp breaks output shown figure 24 occur . 6.4 special terminology number special terms used process control discussing controller modes . following summary defines terms shows relate equa tions presented chapter . 1. proportional band pb although term defined earlier let us note percentage error results 100 change controller output . 2. repeats per minute term another expression integral gain pi pid controller modes . term derives observation inte gral gain effect causing controller output change every unit time proportional mode amount . also see taking de rivative integral term controller equation . gives change controller output proportional contribution unit time interval repeats proportional term . example . every minute output would increase 5 times 10min 50 10 repeats per minute . repeats proportional amount 10 times per minute . 3. rate gain another way saying derivative gain . units min one often expresses gain time directly . thus rate gain 0.05 min derivative time 0.05 min mean . 4. directreverse action specifies whether controller output crease direct decrease reverse increasing controlled variable . ac tion specified sign proportional gain direct reverse . kp 7 0 kp 6 0 kd 0.05min kd kd ki 10min kpep 5 kp 10 ep 0.5 1 ki kp ep p kikp ep p ki pi 32.25 p3 0.875t2 6.25t 21.625 p3 5 1 2 2.5 b 3.5 3 3 1 2 2.5 b dt 2.5 2 28.75 pi3 28.75 controller principles 511 summary chapter covers general characteristics controller operating modes without con sidering implementation functions . numerous terms important un derstanding controller operations defined . highlighted items follows 1. considering controller operating modes important know process load nominal value process parameters process lag rep resents delay reaction controller variable change load variable . 2. processes exhibit selfregulationthat characteristic dynamic vari able adopts nominal value commensurate load control action . 3. controller operation defined relationship percentage error deviation relative full scale 3 controller output percentage controlling parameter 4 4. control lag dead time respectively refer delay controller response deviation occurs period response process change control ling variable . 5. discontinuous controller modes refer instances controller output change smoothly input error . examples twoposition multiposition floating . 6. continuous controller modes modes controller output smooth func tion error input rate change . examples proportional integral de rivative modes . 7. composite controller modes combine continuous modes . examples proportionalintegral pi proportionalderivative pd proportional integralderivative pid threemode . problems section 2 1 define variables system figure 1 constitute process load . 2 analyze following control systems determine whether selfregulation process load would would constitute transient whether process lag would expected a. home airconditioning system b. crackerbaking system c. levelcontrol system p u umin umax umin 100 ep r b bmax bmin 100 controller principles 512 section 3 3 velocity control system range 220 460 mms . setpoint 327 mms measured value 294 mms calculate error percentage span . 4 acontrolling variable motor speed varies 800 1750 rpm . speed controlled 25 50v dc signal calculate speed produced put 38 v b speed calculated percent span . section 4 5 5mdiameter cylindrical tank emptied constant outflow . twoposition controller used open close fill valve open flow . level control neutral zone 1 setpoint 12 m. a. calculate cycling period . b. plot level versus time . 6 example 4 verify neutral zone produces results limits os cillation period given text . 7 afloating controller rate gain 6min deadband . plot controller output input given figure 25. setpoint 60 galmin . 5galmin p0 50 2 2.0 m3min 1.0 m3min figure 25 figure problems 7 18. controller principles 513 figure 26 figure problems 12 15. section 5 8 proportional controller controlled variable process temperature range 50 setpoint . nominal conditions set point maintained output 50. find proportional offset resulting load change requires 55 output proportional gain 0.1 b 0.7 c 2.0 5.0 . 9 applications problem 8 find percentage controller output setpoint proportional gain 2.0 temperature b c ramping temperature . 10 integral controller reset action 2.2 minutes . express integral con troller constant . find output controller constant error 2.2 . 11 would derivative controller respond error varies ? 12 proportional controller gain . plot controller output error given figure 26 . section 6 13 pi controller . plot output error given figure 26 . 14 pd controller . plot controller output error input figure 26 . 15 pid controller . plot controller output error figure 26 . 16 pi controller reverse acting 12 repeats per minute . find pro portional gain b integral gain c time controller output pb 20 pi0 40 kp 2.0 ki 2.2 s1 kd 2 p0 40 kp 2.0 kd 2 pi0 40 kp 2.0 ki 2.2 s1 p0 50 kp 2.0 ep 2.2 sin0.04t kd 4 s1 82 5tc 122c 61c 73.5c 73.5c 130c controller principles 514 reach 0 constant error starts . controller output er ror occurred 72 . 17 suppose rate action added controller problem 16 rate gain 0.2 min . specify derivative gain determine time controller output reaches 0 added mode input error . 18 pi controller used control flow within range 20 100 galmin . set point 60 galmin controller output drives valve 3 15psi sig nal . controller settings direct action . plot pneumatic pressure flow figure 25. assume initial pressure output 10.8 psi . 19 pi controller . find controller output error given . phase shift error controller output ? supplementary problems response controller affected greatly nonlinear measurement data . consider pid controller gains used control temperature range 20 . signal conditioning provided current varies 4 20 temperature range varies nonlinearly relation controller reacts current actual temperature . next two problems study reaction controller uniform temperature increase 10 two different setpoints 1 setpoint 2 setpoint . s1 first let us study error . a. plot current versus temperature note nonlinearity . cases temperature changes 6.25 range . cases error expressed temperature percent range described equation . b. much current change two cases ? percent current range ? c. two cases express error current percent range using equations form assume current changes linearly 10 s. s2 set pid controller equations two cases problem s1 solve obtain equation controller output function time . use 2 error time equations found problem s1 . assume initial controller output 30 first case 50 second case . plot functions compare sponse . change controller output 10 two cases ? ept kt ept 0.625t 5c 80c 30c 5c 1.91 a1 44.72 b 2 100c kd 5s kp 2 ki 0.5s ep 3 sint ki 7 s1 kp 4.5 kp 0.9 ki 0.4 min1 ep 0.9t2 1.5 controller principles 515 s3 suppose pid controller . set equation con troller output error . assume . assume error form f frequency . find equation con troller output pt case . using identity express pt phase shift form right . plot amplitude phase shift ver sus frequency semilog plot range 0.001 100 hz . happens amplitude phase low high frequencies ? shows special care must taken high low frequencies occur integral deriva tive modes . k 2a2 b2 tan1 ab b sin b cos k sin ept sin2ft p0 0 ept kp ki kd 1 solutions oddnumbered problems 1 3 5 see figure s.65 . 7 see figure s.66 . 9 . 83.75 b . 0 c. 28.75 12.5 period 39.3 min ep 13.75 qa t0 ta qb figure s.65 controller principles 516 figure s.66 11 13 see figure s.67 . 15 see figure s.68 . 17 0.72 min 19 lag pt 13.5 sint 30cost 1 phase shift 65.8 pd 0.352 cos0.04t figure s.67 controller principles 517 figure s.68 figure s.69 supplementary problems s1 a. see figure s.69 . b . 0.738 1.215 5.27 7.59. c. . s3 see figure s.70 dc amplitude included . amplitude increases without limit low high frequency . phase shift changes . 90 90 ept 7.59t ept 5.27t controller principles 518 analog controllers instructional objectives objectives chapter provide understanding controller modes implemented using electronic circuits . comprehensive study chapter able diagram physical appearance analog controller . diagram describe twoposition control implemented using op amps . draw schematics describe op amps used implement proportional integral derivative modes analog control . describe op amp circuit implement proportionalintegral proportional derivative proportionalintegralderivative control modes . describe nozzleflapper system used implement proportional control using pneumatics . 1 introduction must perform variety math operations multiplication integration differentiation measurement data . chapter ethods actually implementing controller action presented . modern implementation controller ac tion provided computers using software perform required math operations . prior widespread use computers analog electronic circuits pneumatic systems provided controller action . control system implementations still use analog electronics special purposes remains vast array equipment continued use process industry . recall controller principles processcontrol system . saw controller chapte5r 55 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 10 process control 519 chapter presents basic principles controller action provided analog electronics pneumatics . useful indepth understanding controller action also value understanding working continued use technologies . operational amplifier op amp used basic functional unit describing controller action analog electronics . pneumatics nozzleflapper system forms basis controller mode implementation . existing standards signals process control allow controllers interfaced variety sensors final control units . thus electronic controllers designed input output standard 4 20ma signal . pneumatic controllers signal standard 3 15 psi u.s. installations 20 100 kpa many locations throughout world . 2 general features analog controller device implements controller modes described previously using analog signals represent loop parameters . analog signal may form electric current pneumatic air pressure . controller accepts measurement ex pressed terms one signals calculates output mode used outputs analog signal type . controller solve equations think analog computer . controller must able add subtract multiply tegrate find derivatives . working analog voltages pressures . section examine general physical layout typical analog controllers . 2.1 typical physical layout analog controllers usually designed fit panel assembly slide inout mod ule shown figure 1. front displays necessary information provides ad justment capability operator . unit pulled partway still connected less frequently required adjustments available . controller pulled still extension cable disconnected entire unit removed panel replacement necessary . 2.2 front panel front panel analog controller displays information operators allows ad justment setpoint . figure 1 shows typical front panel . setpoint knob moves sliding scale fixed setpoint indicator . thus fixed span measurement setpoint visible indicated measurementvalue indicator . er ror difference setpoint indicator measurement meter . dis play typically expressed percentage span 4 20 3 15 psi . lower meter shows controller output expressed percentage span . course output actually 4 20 3 15 psi 0 would mean 4 example . often switch front panel controller placed man ual control means output adjusted independently input using analog controllers 520 figure 1 typical physical appearance controller . outputadjust knob . automatic mode knob effect output . con nections controller made electrical pneumatic cables connected rear unit . 2.3 side panel side controller partially pulled knobs available adjust oper ation controller modes . panel shown figure 1 proportional tegral reset derivative rate gains adjusted . addition filtering action reversedirect operation often selected . 3 electronic controllers following treatment electronic methods realizing controller modes emphasis use op amps primary circuit element . discrete electronic components also used implement function basic principles best illustrated using op amp circuits . op amp circuits ones described also developed . 3.1 error detector detection error signal accomplished electronic controllers taking dif ference voltages . one voltage generated process signal current passed resistor . second voltage represents setpoint . usually generated analog controllers 521 figure 2 error detection systems using floating power supply . figure 3 error detector using groundbased current differential amplifier . voltage divider using constant voltage source . example shown figure 2. assume twowire system use current drawn floating power supply 4 20ma signal current . signal current used produce voltage ir across resistor r. placed series opposition voltage tapped variable resistor connected constant positive source . result error voltage . used process controller calculate controller output . error detector also made differential amplifier . system used current transducer referenced ground . figure 3 shows one typical configuration . sensor signal current passes ground provid ing signal voltage . differential amplifier subtracts set point voltage . vm irl rl vsp ir v0 rsp vsp analog controllers 522 3.2 single mode following systems op amp circuits illustrate methods implementing pure modes controller action . twoposition twoposition controller implemented great variety electronic electromechanical designs . past many household airconditioning heating systems employed twoposition controller constructed bimetal strip mercury switch shown figure 4. see bimetal strip bends temperature decrease reaches point mercury slides close elec trical contact . inertia mercury tends keep system position temperature increases value setpoint temperature . provides required neutral zone prevent excessive cycling system . method using op amp implementation onoff control adjustable neutral zone given figure 5. circuit assume controller input voltage reaches value comparator output go state de fined voltage . input voltage falls value comparator output switch state defined 0 v. comparator output switches states voltage input equal setpoint value . analy sis circuit shows high switch voltage 1 low switching voltage 2 vl vsp r1 r2 v0 vh vsp vsp v1 vl v0 vh v figure 4 mercury switch bimetal strip often used twoposition temperature controller . analog controllers 523 figure 5 twoposition controller neutral zone made op amps comparator . figure 6 circuit figure 5 shows characteristic twoposition response terms voltage . figure 6 shows typical twoposition relationship input output voltage circuit . width neutral zone adjusted varia tion . relative location neutral zone calculated difference tween equations 1 2. inverter resistance figure 5 chosen convenient value . typi cally 1 100 range . level measurement sump tank provided transducer scaled 0.2 vm . pump turned application sump level exceeds 2.0 m. pump turned back sump level drops 1.5 m. develop twoposition controller . solution let us use circuit figure 5. high low trip voltages determined conditions problem . values resistances determined . vh 0.2 vm2.0 0.4 v 5 v k r2 vh vl example 1 analog controllers 524 gives following relations resistances therefore v second equation since two unknowns one condition one unknown selected . pick ing example means . proportional mode implementation mode requires circuit sponse given 14 consider controller output error expressed terms voltage see equation 9.14 simply summing amplifier . op amp circuit figure 7 shows electronic proportional controller . case analog electronic equa tion output voltage 3 design proportional controller calls specification proportional gain de scribed kp equation 9.14 expresses percent output error 1 measurement range . alternatively could described proportional band pb 100kp . must expressed terms voltage gain g p equation 3. relation ship gp kis given 4 gp kp v vm v0 output zero error error voltage gp r2r1 gain vout output voltage vout gpve v0 p0 controller output error ep error percent variable range kp proportional gain p controller output 0100 p kpep p0 r2 250 k r1 5 k r1r2 0.02 0.3 0.4 r1r25 vsp 0.4 0.3 v vsp r1 r2 v0 0.4 v vsp vsp vl 0.2 vm1.5 0.3 v analog controllers 525 vout range output voltage vm range measurement voltage following example illustrates equation 4 used find proportional gain terms voltsvolts instead . temperature controller controls temperature 100 200c . sensor provides output 2 8 v temperature range . controller output drives heater output 0 5 volts . circuit gain needed controller figure 7 used proportional gain 4 ? solution range measurement voltage vm 8 v 2 v 6 v. output range 5 volts . thus circuit gain notice input output ranges gp kp . another way looking using concept proportional band . pb percent error cause 100 change output . example last paragraph . therefore 25 change error must produce 100 change output . twentyfive percent error simply v 100 output 5 v. thus . controller shown figure 7 scaling 010 v corresponds 0100 output . fullscale error range 10 v find values support 20 proportional band 50 zeroerror controller output . r1 v0 r2 10 k gp 5 v1.5 v 3.33 0.256 v 1.5 pb 1004 25 pb 100kp gp 45 v 6 v 3.33 vv example 2 example 3 figure 7 op amp proportionalmode controller . analog controllers 526 solution value simply 50 10 v 5 v provide zeroerror controller output . design 20 proportional band means change error 20 must cause controller output vary 100. thus note error changed 20 10 v 2 v must full controller output change . thus load previous example changes new controller output 40 quired find corresponding offset error . solution case need negative error output 40 . fullscale error signal 10 v error often voltagetocurrent converter used output convert output voltages 4 20ma range current signals drive final control element . integral mode equation form 16 p0 controller output 0 ep deviations percent fullscale variable value ki integration gain s1 pt controller output percent full scale pt ki3 0 ep dt p0 0.2 10 100 2 15 v 4 5ve 5 vout gpve v0 10 v 4 v r1 r2gp 2 k r2 10 k gp 5 gp vout 10 2 vout gpve v0 v0 example 4 previously saw integral mode characterized analog controllers 527 function easy implement op amps used building blocks . dia gram integral controller shown figure 8. corresponding equation relating input output 5 values r c adjusted obtain desired integration time . initial con troller output integrator output . noted earlier integration time con stant determines rate controller output increases error constant . made large output rises fast overshoots optimum setting occur cycling produced . actual value therefore r c determined input output voltage ranges . one way recognize integral gain says input error 1 must produce output changes percent per second.another way know error 1 lasts 1 output must change percent . suppose input range 6 v output range 5 v min . integral gain often given minutes industrial processes slow compared time seconds . gain often expressed integration time inverse gain . must first convert time units seconds . therefore error 1 1 found 0.016 v1 0.06 v 3min1 min60 0.05s ti 3.33 min ti ki 3.0 ki ki ki gi ki 0 vout0 initial output voltage error voltage gi 1rc integration gain vout output voltage vout gi3 0 dt vout0 figure 8 op amp integralmode controller . analog controllers 528 furthermore percent output using seconds expression gain therefore integral gain terms voltage must values r c selected . integral control system measurement range 0.4 2.0 v output range 0 6.8 v. design op amp integral controller implement gain min . specify values r c. solution input range output range 6.8 v. must convert units seconds thus gain pick . derivative mode derivative mode never used alone pro vide controller output error zero . nevertheless show imple mented op amps combined modes next section . con trol mode equation given earlier 18 principle mode could implemented op amp circuit presented looks like equation 9.18 appropriate identifications terms circuit elements 6 vout rc dve dt ep error percent fullscale range kd derivative time constant p controller output percent full output pt kd dep dt r 35.3 k c 100 f rc 3.53 gi 1rc gi 0.00454 v0.016 v 0.283 s1 0.0667 output 0.0006676.8 v 0.00454 v 1 input 1 0.011.6 v1 0.016 vs 4min1 min 60 0.0667s ki 2.0 0.4 1.6 v gi ki 4 gi 0.0025 v0.06 vs 0.0417 s1 0.00055 v 0.0025 v ki example 5 earlier . indeed theoretical transfer function circuit given equation 6 analog controllers 529 input voltage set equal controller error voltage . practical perspective circuit used tends un stable may begin exhibit spontaneous oscillations output voltage . reason instability large gain high frequencies derivative large . study effect let us assume input voltage given sinusoidal volt age oscillating frequency f . equation 6 write amplitude output 7 equation shows magnitude output voltage increases linearly fre quency . principle frequency goes infinity output ! clearly unacceptable control system . little highfrequency noise cause large excur sions output voltage . order make practical circuit modification provided essentially clamps gain frequency constant value . make sure clamped frequencies well anything could occur actual control system . way circuit provides derivative output frequencies practical interest simply acts like fixedgain amplifier higher frequencies . figure 9 shows simple modification place resistor series capacitor . actual transfer function circuit shown given 8 see output depends upon derivative input voltage extra term involving derivative output voltage . essentially firstorder differential equation relating input output voltage . high frequencies impedance capacitor becomes small neglected . circuit becomes inverting amplifier gain r2r1 . vout r1c dvout dt r2c dve dt vout 2frc v0 sin2ft figure 9 practical derivativemode op amp controller . analog controllers 530 low frequency impedance capacitor large r1 neglected . response equation 6 prevails . circuit exhibits derivative response provided following inequality satisfied 2fr1c 1 9 therefore using derivative action circuit must estimate maximum physical frequency system respond pick frequen cies much higher inequality equation 9 satisfied . following derivative mode design guidelines followed 1. estimate maximum frequency physical system respond . 2. set solve . c found mode derivative gain requirement . assuming criterion met ignore controller design define circuit derivative gain derivative time seconds . de termined design controller derivative gain . derivative control action gain min needed control flow pipe . flow surges minimum period 2.2 s. input signal range 0.4 2.0 v output varies 0.0 5.0 v. develop op amp deriva tive action circuit . solution first find appropriate circuit gain . derivative gain first converted units seconds result says every 1s rate change input output change 2.4. 1s input . 2.4 put simply result allows us pick c figure 6 pick . find need maximum frequency . minimum period 2.2 maximum frequency hz . design guidelines set solve . r1 l 1800 2fmax r1c 20.45r120 f 0.1 fmax 12.2 0.45 r1 r2 375 k c 20 f r2c 7.5 r2 gd 0.12 v0.016 vs 7.5 0.0245 0.12 v 0.012.0 0.4 vs 0.016 vs 0.04min 60 smin 2.4s gd kd 0.04 kd gd gd r2c r1 r1 2fmax r1c 0.1 fmax r1 fmax example 6 analog controllers 531 value determined knowledge measurement output voltage ranges . mode interpretation error change 1 1 output change percent . thus found quotient percent output voltage 1 input voltage . course must expressed seconds . circuits section show pure modes controller operation eas ily constructed op amps . control advantages composite modes providing good control . next section implementation composite modes using op amps considered . 3.3 composite controller modes vantages mode cases eliminate disadvantages . composite modes implemented easily using op amp techniques . basically consists simply combining mode circuits introduced previous section . proportionalintegral simple combination proportional integral circuits provides proportionalintegral mode controller action . resulting circuit shown figure 10. case relation input output eas ily found applying op amp circuit analysis . get including inverter definition proportionalintegral controller mode includes proportional gain integral term write 10 vout r2 r1 b r2 r1 b 1 r2c 3 0 dt vout0 vout r2 r1 b 1 r1c 3 0 dt kd kd gd kd kd kd gd r2c figure 10 op amp proportionalintegral pi mode controller . pure mode seldom used process combination several controller modes found combine ad analog controllers 532 equation 10 form equation 19 mode . adjustments controller proportional band integration gain . design proportionalintegral controller proportional band 30 integra tion gain 0.1s . 4 20ma input converts 0.4 2v signal output 010 v. calculate values c respectively . solution proportional band 30 means input changes 30 range 0.48 v output must change 100 10 v. gives gain 0.1 says 1 error 1 produce output change 0.1. one percent 1.6 v 0.016 v 0.1 10 v 0.01 v example values could pick get proportional gain use proportionalderivative powerful combination controller modes proportional derivative modes . combination implemented using circuit similar shown figure 11. analysis shows circuit sponds according equation quantities defined figure output inverter included . vout r1 r1 r3 b r3c dvout dt r2 r1 r3 b r2 r1 r3 b r3c dve dt v0 r1 160 k 20.83 7.68 k r2 1.6 105 f 160 k c 10 f requires r2c 1.6 gi 1 r2c 0.01 0.016 0.625 s1 ki gp r2 r1 10 v 0.48 20.83 gp gi r2 r1 gi 1r2c gp r2r1 example 7 analog controllers 533 circuit includes clamp protect high gain high frequency derivative term . case condition represented equation 9 modified slightly use effective resistance given condition becomes usual . assuming criterion met equation proportionalderivative response becomes 11 proportional gain derivative gain . equation corresponds form given equation 9.20 proportional derivative controller . course mode still offset error proportional con troller derivative term provide reset action . proportionalderivative controller 0.4 2.0v input measurement range 0 5v output per min . period fastest ex pected signal change 1.5 s. implement controller op amp circuit . solution use circuit figure 11 first find appropriate circuit gains . means 20 pb . write gp 1005 v 201.6 v 5 v 0.32 v 15.625 kp 5 gp gd kd 0.08 kp 5 gd r3c gp r2r1 r3 vout r2 r1 r3 b r2 r1 r3 b r3c dve dt v0 2fmax rc 0.1 r r1r3 r1 r3 figure 11 op amp proportionalderivative pd mode controller . example 8 analog controllers 534 find must first change seconds write period limitation allows us write three relations last relation comes combining limitation equation . three relations four unknowns . one selected . let us try . equations give pid threemode ultimate process controller one exhibits pro portional integral derivative response processerror input . mode chracterized 21 zeroerror term proportional mode necessary integral automati cally accommodates offset nominal setting . mode provided straight application op amp circuits resulting circuit figure 12. must noted ever possible reduce complexity circuitry figure 12 still real ize threemode action cases interaction results derivative integral gains . use circuit figure 12 easy follow illustrat ing principles implementing mode . analysis circuit shows output 12 vout r2 r1 b r2 r1 b 1 rici 3 dt r2 r1 b rdcd dve dt v 0 pi0 initial controller integral output kd derivative gain ki integral gain kp proportional gain ep process error percent maximum p controller output percent full scale p kpep kpki3 0 ep dt kpkd dep dt pi0 r1 240 r2 2.35 r3 150 k c 100 f r3c 15 r2 r1 r3 15.625 r3c 15 r1 r1 r3 0.0016 r1 r1 r3 r3c 0.1 2 1.5 0.024 gd 4.85 v 11.6 v 15 kd 0.08min 60 smin 4.8s kd gd equation analog controllers 535 chosen stability . comparison equation 9.21 shows implements threemode controller temperaturecontrol system inputs controlled variable range 0 4 v. output heater requiring 0 8 v. pid used . period fastest expected change estimated 8 s. develop pid circuit . solution input range 4 v output range 8 v. let us figure circuit gains . proportional mode 1 error means voltage change . cause output change 2.4 . thus gp 0.192 v0.04 v 4.8 0.0248 v 0.192 v 0.04 v 0.014 v ki 9min kd 0.7min kp 2.4 gp r2 r1 gd rdcd gi 1 rici 2fmax r3cd 0.1 r3 example 9 figure 12 direct implementation threemode pid controller op amps . circuits fewer op amps often used . analog controllers 536 integral term error 1 cause output change 9min . thus derivative term error change 1 per min cause output change 0.7 . thus results provide following relations fastest period specification form relationship gives seven unknowns four equations . pick three quantities . let us try . gives seem large practical consideration . let us change . get seems reasonable . circuits shown direct implementation controller modes provided standard op amp circuits . necessary course scale measurement voltage within range operation selected circuit . furthermore outputs circuits shown voltages may converted currents use ac tual processcontrol loop . circuits examples basic circuits implement controller modes . many modifications employed provide controller action different sets components . r3 1270 rd 840 k 100 f cd 8.4 r3 0.82cd 12.7 k rd 84cd 8.4 ri 10.3 ci 333 k r2 4.8r1 48 k r1 10 k ci cd 10 f 2r3cd 0.1 8 0.8 rdcd 84 1rici 0.3 s1 r2r1 4.8 gd 84 gd 0.056 v6.67 104 vs 0.0078 v 0.056 v 104 vs 0.04 v60 6.67 gi 0.3 s1 gi 0.0015 s18 v0.04 v 960 0.15s analog controllers 537 4 pneumatic controllers historically reason using pneumatics process control probably electronic methods yet competitive cost reliability . safety still factor danger explosion electrical malfunctions exists . also true final control el ement often pneumatically hydraulically operated suggests allpneumatic processcontrol loop might advantageous . appears analog digital electronic meth ods eventually replace pneumatic installations . still pneumatic equipment many years depreciated industry . good understanding processcontrol principles applied either electronic pneumatic techniques necessary consider special features pneumatic technology . section provides brief description operations controller modes pneumatically implemented . 4.1 general features outward appearance pneumatic controller typically elec tronic controller shown figure 1. readout setpoint error controller output appears adjustments gain rate reset available . working signal typically 3 15psi standard pneumatic processcontrol signal usually derived regulated air supply 20 30 psi . usual use english system unit pres sure use widespread processcontrol industry . eventual conversion si unit pa require alteration scale measurement range 20 100 kpa . pneumatic controller based nozzleflapper described previously basic mechanism operation much op amp used electronics . schematic drawings controller mode implementation intended convey operating princi ples . specific designs may vary considerably systems shown however . 4.2 mode implementation following discussions present essential features controllermode implementation using pneumatic techniques . equations stated general form units si reader prepared work english units necessary . proportional proportional mode operation achieved system shown figure 13. operation understood noting input pressure creases input bellows forces flapper rotate close nozzle . happens output pressure increases feedback bellows exerts force bal ance input bellows . balance condition occurs torques exerted pivot equal equation solved find output pressure 13 pout x1 x2 a1 a2 pin psp p0 pout p0a2x2 pin pspa1x1 nm2 analog controllers 538 relation based notion torque equaling force times lever arm fact pressure bellows produces force effectively pressure times bellows area much like diaphragm . equation 13 displays standard response pro portional mode output directly proportional input . gain case given 14 bellows usually fixed geometry gain varied changing lever arm length . simple representation gain established distance bellows . separation changed forces longer balanced pressure new controller output formed corresponding new gain . suppose proportional pneumatic controller . input output pressure ranges 3 15 psi . find input pressures drive output 3 15 psi . setpoint pressure 8 psi . find proportional band . p0 10 psi x2 5 cm a1 a2 5 cm2 x1 8 cm kp x1 x2 b a1 a2 b psp setpoint pressure x2 feedback lever arm a2 feedback bellows effective area m2 pout output pressure pa x1 level arm input a1 input setpoint bellows effective area m2 pin input pressure pa p0 pressure error figure 13 pneumatic proportionalmode controller . example 10 analog controllers 539 solution first find gain low input occurs psi gives high found gives proportional band pb note checks could used input output ranges . proportionalintegral control mode also implemented using pneumatics system shown figure 14. case extra bellows variable restric tion added proportional system . suppose input pressure shows sudden crease . drives flapper toward nozzle increasing output pressure proportional bellows balances input previous case . integral bellows still original output pressure restriction prevents pressure changes ing transmitted immediately . increased pressure output bleeds striction integral bellows slowly moves flapper closer nozzle thereby causing steady increase output pressure dictated integral mode . variable striction allows variation leakage rate hence integration time . pb 100 kp 100 1.6 62.5 pb 62.5 pb 11.125 3.625 15 3 b100 ph 11.125 psi 15 1.6ph 8 10 pl 3.625 psi 3 1.6pl 8 10 pout 3 pout 1.6pin 8 10 pout kppin psp p0 kp 1.6 kp x1 x2 b a1 a2 b 8 cm 5 cm b 5 cm2 5 cm2 b analog controllers 540 proportionalderivative controller action accomplished pneumati cally method shown figure 15. variable restriction placed line lead ing balance bellows . thus input pressure increases flapper moved toward nozzle impedance restrictions prevent immediate sponse balance bellows . thus output pressure rises fast creased pressure leaks balance bellows decreases balance bellows moves flapper back away nozzle . adjustment variable restriction allows chang ing derivative time constraint . figure 15 pneumatic proportionalderivative controller . figure 14 pneumatic proportional integral controller . analog controllers 541 threemode threemode controller actually common type pro duced used accomplish previous modes setting strictions . device shown figure 16 seen simply combination three systems presented . opening closing restrictions threemode controller used imple ment composite modes . proportional gain reset time rate set adjust ment bellows separation restriction size . 5 design considerations illustrate facets involved setting processcontrol loop would valuable follow hypothetical examples . following examples assume processcontrol loop required controller operation must provided electronic analog circuits . design processcontrol system regulates light level outputting 010v signal lighting system provides 30180 lux . sensor transfer function 10 resistance 100 lux . setpoint 75 lux propor tional control 75 proportional band selected . solution solve problems first establishing characteristics part system . 1. illumination varies 30 180 lux . find resistance changes ac cording illumination lux . r 10 k 0.12 ki 100 k 120 lux figure 16 pneumatic threemode pid controller . example 11 analog controllers 542 2. allows us find resistance 30 lux 180 lux get . setpoint 75 lux resistance . 3. convert resistance variation voltage using photocell op amp circuit . figure 17 use inverting amplifier gain 1 setpoint constant v input . resistance voltage conver sion gives using equation find output voltage get input voltage range . 4. use summing amplifier find error figure 17. 75 proportional band controller 75lux setpoint requires zeroerror output v0 75 30 180 30 10 v 3 v r 13 k 1 1.42 0.031 1.389 v v 0.4 k 13 k 1 v 0.031 v 0.4 k v 18.4 k 13 k 1 v 1.42 v 18.4 k v r 13 k 1 v r 13 k 1 13 k 0.4 k r 18.4 k r 10 k 0.12 k30 100 figure 17 circuit example 11. analog controllers 543 5. 75 band means illumination changes 75 output swing 10 v. thus terms sistance corresponds terms error voltage 1.038 v. 6. finally gain must overall response rest circuit figure 17 accomplishes function . 90.83 lux 203.33 lux output swings 100 input swings required . proportional band could used find gain directly example 11 input output expressed scalethat 0100 010 v . typej thermocouple tc reference used control temperature . design proportionalintegral controller 40 band 0.08 min reset integral time . final control element requires 010v range . solution a. problem must perform following steps 1. amplify low tc voltage convenient value tc mv output . 2. use amplifier output input proportionalintegral controller pick proportional gain swings output 010 v input swings 40 full scale . 3. select values provide 0.08min 4.8s integral time . b. solution shown figure 18 . 1. note typej tc produces voltage 5.27 mv 10.78 mv . amplifier gain 100 convert 0.527 1.078 v respectively . 200c 100c 200c 100c 0c 203.33 90.83 180 30 0.75 75 vout 10 v r 22.4 k vout 0 r 8.9 k vout 9.63 r 13 k 1 b 3 vout 9.63ve 3 gp 10 v 1.038 9.63 13.5 k13 k 13.5 k 180 30 112.5 lux example 12 analog controllers 544 2. sum output properly scaled setpoint voltage get error sig nal . setpoint value obtained voltage divider . get proper con troller values note 40 input swing thus proportional gain values chosen provide gain . 3. integral term 0.08min reset means min s. thus error 1 1 must produce change output 0.21. let us try . r2 262 k r1 5.77 k c 1 f r2 r1 45.37 r2c 0.262 gi 0.002110 v 0.010.551 v 3.81 s1 12.560 0.21 ki 12.5 gp 10 v 0.2204 v 45.37 0.41.078 0.527 0.2204 v figure 18 circuit example 12. analog controllers 545 overall transfer function final circuit shown figure 18 found output diode zener limit swing 0 10 v. differential pressure gauge used measure flow varies square root pressure difference . pressure signal 02v range inim um maximum flow . square root extractor circuit available accepts 0 10 v outputs square root input . design proportional controller 15 propor tional band 010v output nominal zeroerror output 5 v. solution circuit figure 19 implements function . controller input 03.162v signal . 15 proportional band means input changes output must change 10 v. thus gain provided 1 21.1 resistors . k k gp 10 0.474 21.1 0.474 v 0.15 3.162 v 100vtc vsp vout 45.37ve 173.2 3 dt example 13 figure 19 circuit example 13. analog controllers 546 summary chapter presented numerous methods implementing controller function processcontrol loop . shows typical methods obtaining controller modes analog electronic pneumatic approaches . reader understands typical methods specific methods implementation analyzed understood analogy . topics covered summarized following 1. realization controller modes op amps obtained straight application amplifier integrator differentiator circuits using standard op amp techniques . gains found external resistors capacitors used op amps . 2. pneumatic controller mode implementation made possible combination flappernozzle system appropriate bellows variableflow restrictions . general given threemode controller composite modes obtained open ing restrictions . problems section 3 1 sensor converts position 0 2.0 4 20m current . error de tector shown figure 2 used pot . a. setpoint 0.85 ? b. range error voltage position varies 0 2.0 ? 2 show circuit figure 3 applied find error voltage prob lem 1 . 3 using system figure 5 design twoposition controller 0 10v input 0 10v output . setpoint 4.3 v neutral zone setpoint . 4 design twoposition controller turns 5v light relay silicon pho tocell output drops 0.22 v cell voltage reaches 0.78 v. 5 design twoposition controller provides output 5 v typej tc junction reaches drops low 0 v temperature fallen . assume reference . 6 figure 20 shows drying oven oven either 0 v input 8 volts input . thermistor properties resistance 4.7 k 35c 1.4 k 60c . 5mwcdissipation constant . design twoposition con troller trip points 35c 60c . keep selfheating 0.5c . 7 a. design 45 pb controller motorspeed control . motor speed varies 100 150 rpm input control voltage 0 5 v. speed sensor lin early changes 2.0 5.0 speed range . setpoint 125 rpm desired motor control circuit input 2.5 v. b. suppose setpoint changed 120 rpm adjustments . offset error occur ? k 0c 240c 250c 1.1 v vsp 1.5 v vsp rsp 1 k r 100 v0 5.0 v analog controllers 547 8 control system setpoint range . zeroerror output 45 . output 010 v full scale input range 0 1 v. design controller according circuit figure 7 . 9 integral controller input range 1 8 v output range 0 12 v. min find r c. 10 min . error voltage range put signal varies 0 2.5 v. fastest physical turning period 0.4 min . find component values derivativemode op amp circuit figure 9 . 11 time . use 05v input 012v output . see figure 10 circuit . 12 fastest signal speed 1 min . measurement range 0.4 2 v output 0 10 v. 13 threemode controller outputs 05 v 50 pb 0.03min reset time 0.05min derivative time . fastest expected change time 0.8 min . section 4 14 used input output find ratio pivot distances provides 23 pb . 15 inputs yielding outputs 3 psi 15 psi . 4.0 v 4.0 kd 0.02 gi ki 12 pb 35 100180c 140c 0c figure 20 system problem 6. typej tc reference used proportionalmode temperature rate derivative action needed steering boat . rate gain design proportionalintegral controller 80 pb 0.03min reset design pd controller 140 pb 0.2min derivative time . liquidlevel system converts 410m level 4 20ma current . design proportional pneumatic controller equal area bellows . 3 15psi signals setpoint problem 14 7 psi zeroerror output 9.2 psi find analog controllers 548 section 5 16 change provide setpoint 90 lux . show new component values pro portional band 48 . 17 times 0.02 0.04 0.06 0.08 min . 18 output zeroerror output adjustable 0 100 adjustable 1 10. design setpoint selected range 4 20 . 19 psi . develop signal conditioning error de tection pi controller following specifications 0300psi measurement range setpoint adjustable 100 200 psi adjustable 1.5 5.0 switchable 0.8 1.6 2.4 output range 0 10 v. supplementary problems s1 . nominal setpoint . figure 21 shows config uration system . cds photocells resistance versus intensity given figure 6.9 light source requires 010v input . input error detec tor average light intensity two sensors . design signal condi tioning error detector op amp pi controller s. ti 1.67 kp 1.06 58 mwcm2 80 mwcm2 3.2 min 1 ki kp kp figure 21 system problem s1 . explain setpoint example 11 changed . implement show circuit problem 11 modified provide switched reset design proportional controller 4 20ma groundbased input 0 9v sensor measures pressure 22 mv intensity light surface must controlled within range 20 analog controllers 549 s2 5 cm 2.5 cm . setpoint 50 kpa effective areas bellows . nozzleflapper system pressuredisplacement characteristic shown figure 22. error output pressure 60 kpa . a. nozzleflapper gap required support output 50 kpa ? b. error much force newtons pounds input bellows exert flapper ? c. suppose input increases 60 kpa . force required feedback bellows ? output pressure ? d. new gap required ? much flapper move ? s3 setpoint 30 60 cmmin . sensor provides boring rate linear voltage 0.07 v per cmmin . drive motor requires 0.0 8.0 v. minimum period change 0.01 min . system needs proportional gain 3.5 derivative gain 0.006 min . design op amp circuit provide error detection controller action . 7.0 cm2 x2 x1 figure 22 nozzleflapper characteristic problem s12 . pneumatic proportional controller designed shown figure 13 pd controller used regulate drive rate boring machine analog controllers 550 solutions oddnumbered problems 1 . 1.08 v b. 0.5 v 3 use figure 10.5 set divider supply 5.4 v. 5 use figure 10.5 selected divider 15v supply 1.356 v . 7 see figure s.71 . offset error 4.5 . 9 11 figure 10.10 . 13 use figure 10.9 . 15 8.33 psi 5.57 psi 17 replace single capacitor fourposition switch capacitor required reset time . 19 see figure s.72 . cl 1 f rl 576 k r3 v 75 k r1 10 k r2 62.5 k cd 10 f rd 937.5 k c 2.5 f r1 100 k r2 300 k gl 0.343 s1 r 292 k c 10 f r1 1.1 k r2 100 k vsp 15 v vsp r1 2.2 k r2 10 k 1.1 v figure s.70 analog controllers 551 figure s.71 supplementary problems s1 see figure s.73 . s3 error detector shown figure s.74 . controller figure 11 . r3 137 k r1 962 r2 1.89 c 10 f 10 k 10 k 10 k vp vsp vout 10 k 100 200 k 87.5 649.5 k 481.8 100 15 v sensor 22 mvpsi 19.1 f 57.1 f 19.1 f 6.3 f figure s.72 analog controllers 552 computerbased control instructional objectives chapter modern implementation control systems using computers stud ied . reading chapter working examples completing problems end chapter able explain basic digital systems implement alarms twoposition controllers . define hardware characteristics computerbased controllers . describe computer implement pid mode controller action . explain concept behind fieldbuses control systems . describe basic characteristics foundation profibus fieldbuses . 1 introduction measurement error detection final control operations controller action . learned analog electronics pneum atic technology used implement modes controller action . need know simple truth nearly modern control system implementations car ried using computers . mean ? well measurement final control operations already learned . strategy control modes controller action still . learn functions controller taken computer . computer puts measurement data determines error solves controller mode equations de termine feedback transmits feedback final control element . second major revolution control system technology comes technology networks network communication . one great powers modern computing already learned every aspect control system sensors chapte5r 551 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 1 process control 553 example 1 ability exchange information computers networks localarea networks lan widearea networks wan worldwide network www . concept carried control systems definition industrial bus standards bus simply another form computer network . chapter learn mod ern methods computer networking led development distributed control wherein sensors computers final control operation signals exchanged com mon network called fieldbus . start however noting carryover basic digital electronics im plementation control operations . 2 digital applications still situations control systems wherein basic digital electronics provide needed action . cases use computer programmablelogiccontroller plc overkill simple need . thus example basic twoposition control needed simple runoff temperature control may easier implement basic dig ital logic lieu computer plc . 2.1 alarms one area simple digital logic practical fiscal value implementa tion alarms . alarm defined onoff condition wherein warning issued process variable passes critical value . example may need alarm pressure exceeds limit temperature falls limit . alarm may something simple turning warning light something sophisticated suing signal computer corrective action . single variable simplest alarms involving single variable . type alarm simple implementation convert measurement signal voltage use digital comparator . general want use comparator hystere sis avoid staccato type response wherein comparator output switches 1 0 repeatedly transition . may recall hysteresis provides small range trigger within output transition occurs . protects noise signals nonlinear effects comparator . following example illustrates imple mentation single variable alarm . design alarm provides logic high 5 v liquid level exceeds 4.2 meters . level linearly converted 010 volt signal 05 meter level . hystere sis 0.1 volts . solution information given shows level l voltage output v related relation v 2l . thus l 4.2 output v4.2m 8.4 v. see hysteresis 0.1 v means resistors rrf vv 0.15 0.02. make r 10 k rf 500 k. figure 1 shows circuit . computerbased control 554 500 k 1 k 8.4 v 190 10 v 10 k vout vin c figure 1 circuit example 1. example 2 multivariable alarms many cases alarm dependent upon value single variable rather combined values one variables . thus example tank high pressure high level may represent unpleasant condi tion alarm issued . cases use comparators com bined appropriate logic circuits produce alarm . general hysteresis used protect noise nonlinear effects . following example shows alarm constructed . hysteresis shown comparators . figure 2 holding tank shown liquid level inflow inflow b monitored . measurements converted voltages comparators digital signals high limit exceeded . flow variables fa fb 0 low flow 1 high flow . level variables 1 level exceeds lower limit 1 level exceeds upper limit . alarm triggered either following conditions occurs 1. low neither fa fb high 2. high fa fb high implement problem digital logic circuits . solution variables fa fb already boolean values logic 0 1. first write boolean equations giving alarm output given two con ditions . done directly 1 . 2. either conditions provided operation logic gates used directly implement equation shown figure 3. l2fa fb l1fa fb l1fa fb l2fa fb 1 l2 l1 l1 l2 l1 l2 computerbased control 555 516 figure 3 logic gate solution example 2. figure 2 holding tank levelcontrol system example 2. computerbased control 556 vin vl r4 r3 vh r2 r1 c b c 5 v 5 v clk clr q ff figure 4 comparators flipflop used make digital twoposition controller . 2.2 twoposition control possible develop twoposition controller using digital electronics methods . controller differs simple alarm comparator presented deadband ex ists state transitions . hysteresis comparator used twoposition control . problem equations given high low trip points good deadband small requires . otherwise although hysteresis effect still present trip points deadband depend resistances com plicated manner . type circuit twoposition control used deadband small compared trip voltages . really intended noise suppression . general way possible develop twoposition control using combi nation comparators digital logic circuits . figure 4 shows one circuit . two comparators flipflop ff used . one comparator determines upper trip voltage lower . operation circuit described noting output changes ranges low high value . 1. b low thus output q low ff clear state . low effect . 2. b go high ff output remains low although clear state ff clocked pass input q output . still low . 3. comparator goes high . clocks ff passing high input q output . thus output goes high . 4. return go low effect ff output stays high output state . 5. b goes low places ff clear state output q goes low . vin 6 vl 7 vl vin 6 vh vin 7 vh 6 vh vin 7 vl vin 6 vl vin rf w r computerbased control 557 steps 1 5 describe typical twostate controller . deadband deter mined 1 high low trip voltages obtained dividers shown . 2 3 temperature measured response . devise twoposition con troller turns 115vac fan temperature reaches falls . solution let us use twoposition controller figure 4. trip voltages combination divider resistors . practically desirable keep currents range let us make . assuming sistors easily found . simple 5v relay used switch fan . circuit shown figure 5 using standard ttl 7474 ff type lm 319 dual comparator . resistors comparator puts necessary lm 319 opencollector outputs . 1 k r3 7.33 k r1 3.76 k v0 5 v r2 r4 1 k vl 0.015 vc40c 0.6 v vh 0.015 vc70c 1.05 v 40c 70c 15 mvc vl r4v0r3 r4 vh r2v0r1 r2 v vh vl example 3 figure 5 solution example 3. computerbased control 558 microprocessor network interface card data address control rom io ram analog data digital data network figure 6 basic structure microprocessorbased computer . 3 computerbased controller heart nearly modern control systems computerbased controller . dedicated computer inputs measurement data plant performs calculations controller modes supplies necessary output . application historically referred direct digital control ddc . many hardware configurations system . controlling computer could similar microprocessorbased personal computer pc mounted rack even desktop . could microprocessorbased computer small printedcircuit board mounted inside measurement equipment even large computer . section explore hardware software configurations typical processcontrol computers . 3.1 hardware configurations microprocessorbased computer standard array devices shown figure 6. devices shown available small integrated circuits mounted relatively small printedcircuit board . rom stands readonlymemory non volatile memory holds programs processor executes . typically rom consists part electrically erasable memory programming updates loaded communication network . ram stands readwrite memory used hold transient results calculations results data processing . data io typically consists adcs dacs well digital io channels . final el ement network interface communication system . provides serial communi cation computer serial fieldbus lan . smart sensors one exciting developments modern process con trol embed controller computer directly sensor . figure 7 shows one pos sible implementation system . see sensor computer housed directly site measurement . case see feedback signal delivered valve via standard 420 current transmission . operation flow control loop monitored via serial interface also used update set point controller mode gains operating parameters . computerbased control 559 refinement smart sensor concepts 420 connection elim inated . signalconditioning system valve contains network interface circuit connected serial bus . case smart sensor sends feedback formation valve via serial bus . discussed later chapter fieldbuses presented . multipleloop controllers cases may advantage single computer operate controller one processcontrol dac computer adc sc dp control valve orifice plate smart sensor 420 serial interface sc figure 7 smart sensors encase computerbased controller sensor . computerbased control 560 loop . may account interactions loops example economy . historically done computers relatively large ex pensive investments economics showed multipleloop control called . furthermore computers fast enough multipleloop control feasible . figure 8 shows process could placed control single com puter . notice use multiplexers demultiplexers allow computer read various sensors direct outputs correct control elements . case network interface allows computer communicate computers operating figure 8 one computer control several loops . computerbased control 561 parameters plant updated . however even modern fast computers control multiple loops stretches ability computer . consider example computer control four loops figure 8. lets see kind constraint may place allowable variations controlled vari ables . suppose processor requires modestly 50000 machine language instructions process data single channel words input data linearize deter mine error solve control mode equations i.e . like pid output feedback appropriate final control element . suppose microprocessor instruction execution time averages 50 ns . case instructions would take 2.5 ms. adc would take 20 dac 5 multiplexer 2 s. therefore negligible compared computation time . total time channel would 2.5 ms. four channels would mean minimum time processed samples one channel 10 ms sampling frequency 100 hz . recall sampling time maximum signal frequency related practical limit fs 10fmax . thus maximum signal frequency case would 10 hz . many process loops would much low . lowered price microprocessorbased computers fiscally maybe technically better let control loop controlled single computer . introduction fieldbuses serially carry information computers sensors feedback elements picture figure 8 changed described next section . 3.2 software requirements use computer controller means computer must solve control equa tions . computer control implemented general purpose computer software available control package installed com puter . case smart sensors dedicated control computers control equa tions built embedded computer . external commands used select desired mode pi pid etc . gains mode . understand limitations computer solutions control equations helpful know equations typically implemented . following sections describe algorithms commonly employed implement control equations . error computer accepts input value controlled variable adc bus network sensor . value encoded binary number . describing algorithms assume measurement range con trolled variable known ymin ymax . earlier wrote error percent range 4 purposes algorithm description assume variable converted binary encoding actual value floatingpoint variable pressure tempera ture etc . control program . may entail linearization well scaling . pro gram error used fractional quantity rather percent . thus error e ysp ymax ymin 100 computerbased control 562 equation 4 without 100. furthermore note variable value hence error available samples taken every seconds . thus error expressed 5 assume binary number brought computer passed floatingpoint processor i.e . yi base 10 floatingpoint number . typical modern computers . pressure psi measured converted voltage sensor according rela tionship v 3.1p 1012 9.8 pressure range 0 30 psi setpoint 15 psi . voltage provided put 8bit unipolar adc 10.00volt reference resulting binary pro vided input control computer . develop equations used find pressure binary input error . b contrast actual error computed sample error pressure 17.3 psi . solution lets call sample adc ni base 10 equivalent binary put adc . find voltage corresponding sample within v adc pressure sample determined using given equation relating pressure voltage error fraction range found equation 5 b find actual error 17.3 psi use previous equation p 17.3 psi e 17.3 1530 0.077. find sample error must take account loss information due adc . thus calculate computer . voltage sensor v17.3 3.117.3 1012 9.8 6.397 v. output adc ni intc 6.397 10.00256d 163 ei pi 15 30 pi vi 9.8 3.1 b 2 10 vi 10 256ni ei yi ysp ymax ymin example 4 computerbased control 563 adc truncated fractional part . thus computer voltage computed vi 10256163 6.367 pressure calculated therefore sample error ei 17.198 1530 0.073. thus trun cation adc difference error representation 0.004 5. assumptions input value expressing error sample fraction range let us consider three modes control proportional integral de rivative . equations developed provide fractional number 0 1 representing fraction controlling variable range sent final control element . proportional mode defined term directly proportional error . equation 14 gain expressed percent controller output per percent error . concept pro portional band pb defined represents percentage error cause 100 change controller output . mode easily implemented computer form algorithm simply calculates equation 9.14 directly . proportional mode provided software equation en tirely like analog equation . expressing error fraction range calculated fraction maximum output . 6 7 proportional mode input range 255 setpoint 130. output maximum 180 output fraction error 0.45. a. develop control equations . output error ? b. find output input 124. kp 2.4 de error equation 5 pout output rout maximum output p fraction output error kp proportional gain p0 fraction output error pout p rout p p0 kp de 1kp p0 controller output error ep error kp proportional gain p kpep p0 pi 6.367 9.8 3.1 b 2 10 17.198 example 5 seen proportionalmode controller action computerbased control 564 figure 9 flowchart proportional mode . solution a. equations found simply equations 5 6 7. error . b. input 124 get error fraction figure 9 shows general flowchart proportional mode software developed . course may added complications need lineariza tion specification input output software . 91.4 pout 0.5076 180 0.5076 p 0.45 2.4 0.024 0.45 0.0576 de 130 124255 0.024 de 0 pout 0.45 180 81 pout p 180 p 0.45 2.4 de de 130 dv255 computerbased control 565 figure 10 finding integral rectangular integration algorithm . integral mode integral reset mode calculates controller output de pends history controlled variable error . mathematical sense history measured integral error 9.17 integral gain percent controller output per error commonly per minute use mode computer control need way evaluating integral error . many algorithms developed approximate samples error time available . simplest called rectangular often accurate enough use process control . see works note integral equation 9.17 merely net area curve 0 t. shown figure 10. ep ki p ki3 0 ep dt p0 computerbased control 566 rectangular integration simply use periodic samples construct se ries rectangles height equal sample error width equal time tween samples . integral area approximately equal sum rectangle areas . shown figure 10b . equation rectangular integration specifies . . . sum errors calculated previous variable samples clear smaller time samples closely approxi mate answer approach actual integral . issue sampling time becomes important integral mode . time tween samples large area serious error control compro mised . criterion developed earlier satisfied integral term also sufficient accuracy using rectangular algorithm . following example illustrates effect sampling time variation . find approximate integral figure 10a 0 14 min . sample time shown figure 2 min sample time 1 min . percentage change value integral results difference sample time ? solution sample time 2 min find integral rectangular integral procedure sample time 1 min find integral gives percentage change integral value two approaches change 7.6 7.4 7.6 100 2.6 integral1min 7.6 min 0.6 0.4 0.4 1.1 1.6 1.7 integral1min 10.4 0.6 1.1 1.1 1 0.4 0.2 0.6 integral2min 7.4 min integral2min 20.4 1.1 1 0.2 0.6 0.4 1.6 ep fs 10fmax epi last sample taken time specified integral ep1 ep2 time samples 3 0 ep dt l epit ep 3 0 ep dt net area area ep 7 0 area ep 6 0 example 6 computerbased control 567 figure 11 flowchart integral mode using rectangular integration . implementation mode software involves following basic equations 8 9 flowchart figure 11 illustrates mode programmed . time delay routine must built provide required time samples time appears part mode equation equation 9 must therefore known . important point units ki dt must . po fraction maximum output dt time samples ki integral gain sum running sum errors pout pi rout pi ki dt sum sum sum de computerbased control 568 alternate way writing integral mode equations use present error sample modify previous output . see let us substitute equation 8 equation 9. first term equation simply pi previous sample . therefore write 10 previous sample . term dt set control equations given equations 9 10 important link software hardware systems . factor represents actual time samples hardware dataacquisition system . calculated gains programmed gains correctly related dt must actual time tween samples . means dt arbitrarily changed without also changing gains used software . furthermore dataacquisition control software must always provide time samples errors equation results occur . limitation true following mode implementations using integral differential modes . derivative mode derivative controller mode also called rate derives con troller output depends instantaneous rate change error 18 gain expresses percent controller output percentsecond change error . mode implemented computer control calculating approximate derivative error data samples . derivative defined rate quantity changing instant time . calculate rate changing sample period therefore approximation . terms equation time samples epi1 previous error sample epi present error sample depi dt l epi epi1 dep dt rate error change percent per second minute kd derivative gain per error p kd dep dt pi0 pi pi0 pi pout pi rout pi pi0 ki dt de pi ki dt sum ki dt de pi ki dt sum de computerbased control 569 figure 12 shows process results derivative actual de rivative . notice time samples made smaller error become less . determine approximate value derivative time 12 min fig ure 10a using samples every 2 min every 1 min . compare results . solution 2min samples get derivative using sample 10 min 12 min . samples every minute use sample 11 min 12 min . means difference 17. set equations derivative output developed directly def initions . find 11 12 13 flowchart mode presented figure 13. case integral mode important units kd dt agree . following example pid control mode section illustrates point . pid control mode optimum control mode composite three previ ous modes proportional integral derivative . computerbased control compos ite mode developed simply combining three mode equations computation pd kd ddedt deo de dde de deo derivative1 min 1.6 1.1 1 0.5min dervative2 min 1.6 0.4 2 0.6min ep figure 12 approximate calculation derivative sampled data . example 7 computerbased control 570 figure 13 flowchart derivative mode . fractional output . according principles pid control proportional gain multiply three forms . control equations written 14 15 16 pout p rout p kp de pi pd pd kp kd ddedt pi kp ki dt sum sum sum de deo de dde de deo computerbased control 571 example 8 terms previously defined . equations programmed control software determination required output . alternative expression pid output constructed using errors provide corrections current output . develop let us adopt convention subscript denote particular sample . thus ith sample frac tional output sample . output sample according equation 16 written form result let us take difference two expressions . give correction previous output present sample error . result equation simplified give 17 result equation 17 used determine output 18 following example illustrates controller equations developed typical problem . digital controller developed following specifications time input range 0 255 . output range 0 255. set control equations pid control using approaches given text . solution first approach merely necessary express equations given mode de scription . first set equations given easily sum sum de deo de dde de deo de 130 dv255 0 setpoint 130 samples 5 ki 0.5min kd 0.08min kp 50 pout pi rout c kp kddt b kp 2 kp kddt kp kp ki dt kp kddt pi pi1 dei b dei1 c dei2 kp kd dei 2dei1 dei2dt pi pi1 kpdei dei1 kp ki dt dei kp kd dei dei1dt pi kp dei kp ki dt sum dei1 dei pi kp kd dei1 dei1 2dt pi1 kp dei1 kp ki dtsum dei1 pi1 pi dei computerbased control 572 compute gains need get units . thus remaining equations become second approach need evaluate three constants equation 17. equation 17 written last two equations necessary next sample de1 de2 contains previous two samples . previous output must updated . 4 computer applications computers used many purposes processcontrol facility beyond acting controller loops . also serve engineering design functions financial analysis functions plant operations management functions . following two applications support engineering analysis plant operations . 4.1 data logging efficient operation manufacturing process may involve interplay many fac tors production rates materials costs efficiencies control . process requires implementation many processcontrol loops interaction one stage system another often analyzed terms controlled variables loops . example rate production one loop expressed flow rate serves determining factor production rate following control system . historically understanding type interaction required analysis fact stripchart recordings taken process parameters production run . analy sis carried trained personnel may dictate settings operational limits fu ture production runs . de1 de de2 de1 p p1 10.008 de 14.6 de1 4.8 de2 c 4.8 b 5 2 4.8 14.6 5 0.208 4.8 10.008 pout p 255 p 5 de pi pd pd 4.8 dde pi 0.208 sum 4.8 kp kddt 50.08 min 5 s1 min 60 0.208 kp ki dt 50.5 min15 s1 min60 computerbased control 573 figure 14 general features datalogging system using computer . development highspeed digital computers mass digital storage became possible record data continuously automatically display data command perform calculations data reduce form suitable evalu ation appropriate technical individuals . fixed loggers general features computer datalogging system shown figure 14. let us assume process control many analog processcon trol loops provision analog process variable measurements available commonly scaled voltage . thus signal conditioning converts measurements given range often specified voltage range required dataacquisition sys tem . brief accounting elements system given later . dataacquisition system dasthe dataacquisition system switchyard computer inputs samples processvariable values . concept samples values important topic discussed detail later chapter . reason concern point situations sample rate computerbased control 574 example 9 erroneous information variable time dependence results . rate samples process variable taken depends long takes das acquire value long takes computer process value many variables sampled . illustrated example 9. alarms important part datalogging circuit alarm system mon itors inputs excursions beyond specific limits . scan rates data high 5000 per second possible computer maintain tight vigilance variable values . every time computer inputs particular variable value compared preset limits exceeded trigger alarm . computer computer course central element system . programming computer accepts inputs performs prescribed reductions data mathematical operations . results evaluated programmed tests oversee operation entire process inputs taken . projections future yields evaluations efficiency deviation trends many operations performed made available process personnel . peripheral units peripheral units support equipment communicate computer operations outside world . units include operator console programs entered commands given initiate specific ac tions calculations data outputs computer . console usually crtkeyboard typewriter unit input outputs . massstorage system magnetic tape used store data periodically sampled inputs process used later detailed analysis process performance . datalogging system shown figure 14 must monitor 12 analog loops . small computer requires per instruction 100 instructions address multi plexer line read process data line . adc performs conver sion . multiplexer requires select capture value input line . calculate maximum sampling rate particular line . solution 100 instructions require time must done 12 loops . thus total instruction time . adc converts 12 conversions total time spent multiplexer switching . adding minimum time particular line readdressed . maximum sampling rate reciprocal 185 samples per second . portable data loggers many cases data need logged period time loop fixed logger provided . portable data logger temporarily connected measurement output loop purpose . 4800 360 240 5400 240 1230 360 30 12400 4800 4 s100 400 20 30 4 computerbased control 575 portable data logger many features fixed installation das computer operators console . course portable data loggers use computer merely stripchart recorders magnetic tape recorders . general computerbased portable data loggers mechanism sav ing logged data later analysis . possible recording media 1. printed output 2. digitized stripchart recording 3. magnetic tape 4. magnetic floppy disks 5. networked data communication network data communications data logger may connected local area network lan . data transmitted network another fixed computer stallation . data stored massstorage facilities part network . 4.2 supervisory control natural extension computer datalogging system involves computer feedback process automatic adjustment loop setpoints . various loads process change often advantageous alter setpoints certain loops increase efficiency maintain operation within certain precalculated limits . general choice set point function many parameters process . fact decision alter one setpoint may necessitate alteration many loop setpoints interactive effects taken account . given number loops interactions calculations required decisions natural expedient let computer perform opera tions program control . system represented figure 15 effect shown addi tion dataoutput system dos . system assumes controllers analog loops designed accept setpoint values properly scaled voltage . proper switch addressing computer outputs signal multiplexer dacs representing new setpoint controller connected output line . might helpful understanding use type control hypothetical ex ample given . study moment reaction process shown figure 16. process specifications 1. reactants b combine one part two parts b produces one part c. 2. volume production c varies square root b flow rate product . 3. operating temperature must linearly decreased c volume production rate . 4. stability reaction must occur pressure maintained crit ical value . adecision made increase production operation . first step accomplish increase flow rate change setpoint . let us see consequences rest process . computerbased control 576 1. setpoint b flow must set twice setpoint keeping pressure low . 2. setpoint c flow must increased square root new b flow rates . 3. temperature setpoint must decreased proportion new c setpoint . accomplish change purely analog system requires monitoring pressure con stantly operations three steps gradually performed new pro duction rate finally established . new setting setpoint must wait parameters adopted new setpoints wait safe pressure . perform manually requires constant human monitoring adjustments made . supervi sory control system computer performs operations automatically still per forming activities production . pmax figure 15 computer supervisory control computer monitors measurements outputs loop setpoints . computerbased control 577 figure 16 computer supervisory control ideally suited strongly interacting control problems . flowchart describe steps computer must go operate specified manner use event flowchart . flow diagram used computer programmers fact required programs often written coded directly processoperation diagram . purposes illustration use three types symbols prepare flowchart . symbols presented figure 17. using diagram get lost details input output operations decisions made thus better design solution . next step would consider details . event flowchart computer might accomplish monitoring shown figure 17. remember analog control loops driving control variables set point values . boxes labeled input refer computer commands address input multiplexer obtain current values parameters . output boxes serve similar function output multiplexer . notes flow diagram indicate func tion section . important feature computer supervisorycontrol system produces desired change operation rate minimum possible time . com pletion one run instructions figure 17 might typically require less average computer . adjustment time spent waiting loops stabilize . instant stabilization occurs next increment setpoints made computer via controller . 100 computerbased control 578 figure 17 flowchart symbols example setpoint changes supervisory control system . example 10 develop supervisory control flowchart system increase temperature setpoint pressure reaction vessel new value tspnu . temperature setpoint tsp increased steps 0.2 5s delay increases . pressure p rises critical value pcr tsp decreased 0.1 p falls pcr . setpoint increases begin . solution basically build flowchart satisfies specification description . setpoint increases done operation decreases 1.002 tsp tsp computerbased control 579 figure 18 flowchart solution example 5. . assumed either hardware software timer available status available software . result shown figure 18 . 5 control system networks two major revolutions process control control systems last 20 years . first replacement analog controllers digital controllers us ing embedded computers perform control function . first part chapter studied technology showed controller action accomplished software computer . second revolution happening even speak 0.99 tsp tsp computerbased control 580 plant sensors control elements control room figure 19 myriad wires pipes connect control room plant . placement standard 4 20ma analog signals communication throughout process plant serial digital communication via network . control system data communication call serial communication system fieldbus kind network employs . section basic features fieldbus serial commu nication systems presented . 5.1 development recent past plant would typically house nearly controllers building room control room centrally located plant facility . measurement data taken plant referred field communicated control room pairs wires carrying 4 20ma signals one pair sensor . connected controllers . feedback control signals final control element sent back field pairs wires carrying 4 20ma signals . 4 20ma range open standard manufacturers controllers sensors final control elements agreed upon . open patents anyone could develop equip ment use 4 20ma communication . equipment different manufacturers said interoperable communication standard . bundle wire pairs called parallel bus carrying data field . course led extensive expensive deployment wires plant control room suggested figure 19. petrochemical plant might extend several acres wire runs could long . early deployment computers controllers data still carried back forth control room field bus 4 20ma wire pairs . computerbased control 581 meanwhile computer industry systems developed allow computers communicate serially pair wires . case data expressed binary sent serially stream 1s 0s one computer another . could done fast wires idle time . technology serial communication matured methods developed allow several computers use single pair wires sharing time slots wires one pair computers communicated pair fast seemed computers communicating single pair wires . kind multipleuser communication required devel opment protocols computer could gain access time line com munication computers could identified communication could specific computers . eventually gave rise myriad open standard technologies cluding ethernet localarea networks lans tcpip addressing transmission protocols widearea networks wans course world wide web www su per network . use open standards protocols communication allows many manufacturers design market equipment software develop net working technology . process control networks first computers began play larger role control systems controllers plant operation management computer net works established connecting computers digital serial technology . however process signals still predominantly carried analog 4 20macurrent . sys tems operations controller computers managed serial network including changing setpoints modes controller action gains . often called supervisory control . eventually move eliminate 4 20ma data communication standard let actual process data carried sensors controllers controllers final control elements via digital serial networks . figure 20 shows several ways networks wired stars rings another uses straight runs example parallel wires devices simply connected parallel across wires . type network called bus . traditionally manufacturing facility plant outside operations control room referred field fieldbus . since existed standard process data represented many types fieldbuses put forward process equipment manufacturers many patented thus open . finally several open systems developed present time competition standards adoption process industries . advantage open standard process plant manufacturing fa cility buy equipment sensors actuators controllers etc . variety manufac turers connect together seamlessly network . modern installation process plant control room takes much lesser role control distributed throughout plant . controller computers ten located field communicate back control room processmanagement computers network . often controller computer even sensors smart sensor introduced earlier . final control elements internal processors pick data bus sent controller . figure 21 shows se rial fieldbus connects field hardware computers . computerbased control 582 device 1 device 1 device 4 device 2 device 3 device 3 device 4 device 2 hub star bus device 1 device 3 device 4 device 2 ring figure 20 networks wired various configurations stars rings bus . fieldbus operations figure 22 demonstrates generically control process operates new technology . suppose computer charge level must put level data process feed back corrections valve . technology every de vice including sensor valves computer unique network address . device also basic intelligence communicate serial bus . control process might go follows communications serial bus digital bit streams 1. computer 02 sends request level sensor 12 asking reading . computer forms packet address 02 sensors address 12 code request reading . 2. level sensor takes reading sends level data back computer 02. level sensor must intelligence form packet computer ad dress address digitally encoded level . 3. solving control equations computer 02 sends valvesetting signal valve 24. computer forms packet address valve ad dress 24 digitally encoded valve setting . 4. valve 24 drives valve new setting cases may send ac knowledgement back computer 02. computerbased control 583 course computer 05 temperature sensor 75 heater 33 ignore traffic unique addresses involved communication . however similar mea surement evaluation feedback process may going virtually time temperature control system . sharing time serial line high speeds two loops seem use bus time . meanwhile operations center computer also requesting readings sensors plant operations monitored . operations center computer also request reports control computers . course one big advantages system large number wire pairs necessary current communication eliminated . terms retrofit ex isting plants one pair wires used old 4 20ma current signals ten used serial digital communication . 5.2 general characteristics many types fieldbuses used process industries fea tures . certain common characteristics identified used compare buses . general set characteristics called protocol bus network . overall commonality buses carry serial digital data . looked signal bus wire would see time series pulses representing ones ze ros propagated across network . plant sensors control elements computer computer computer computer computer operations center bus bus bus figure 21 using bus eliminates multitude wires pipes . computerbased control 584 addresses stands reason many computers employ bus communication must addressing protocol device connected net work uniquely identified . number bits allocated address determines maximum number devices connected bus . data packets computer using bus send updated signal final control element device must package new data along address device . final control element recognizes address therefore accept data perform update . data packet consists device address often address sender data auxiliary bits error correction functions . figure 22 illustrates control computer launches data packet final control element valve onto bus valve addressed accept packet . devices bus ignore information . physical media actual nature medium carries data varies greatly buses . typical media include twisted pair copper wire coaxial cable fiberoptic cable radio frequency rf propagation wireless . 24 75 33 12 heater computer 02 12 24 bus computer 05 75 33 level bus figure 22 unique addresses allow computers devices share bus . computerbased control 585 speed important characteristic bus speed data propagated across network . speed typically given maximum number bits per second bps bus carry without serious degradation data . speed function physical medium bus also number devices con nected bus complexity data sent . cycle time important aspect bus time required data update propagate system . example control computer figure 22 needs update valve setting much time lapses update launched computer control valve receives data ? determined speed bus also many devices bus competing send data . interoperability important feature bus ease computers devices added bus configured operate part plant . tradi tional computers referred plugandplay feature . manufacturer processcontrol computer provide software makes compatible variety bus protocols . however manufacturers control valves sensors control system devices generally build protocol device . thus interoperable particular bus another . 5.3 fieldbus types past 20 years many types fieldbuses developed use manufacturing process industries throughout world . many suitable stricted applications proprietary patented used ap proval owner . section common fieldbuses presented characteristics protocols presented . time writing two open standards seem greatest support foundation fieldbus profibus . although custom protocols often allied ethernet since technology well established . movement dustry simply use improved ethernet throughout plant skip field buses . osi 7layer protocol protocol fieldbus refers bus system packages data transmitted . kind universal standard se rial communication protocols measured . called 7layer osi model . first layer called physical layer associated actual physical equipment pro vides communication two points space . could twisted pair wires coaxial cables fiberoptic cable . layers refer actual data called application layer number 7 packaged control information address sender address receiver size data error correction etc .. figure 23 shows definitions 7layer osi model pictorial representation com munication packet assembled . see layer adds information packet . resulting packet quite large 1000 bytes . however nec computerbased control 586 essary communication system employ seven layers fact employ actually needed . many fieldbus systems employ three . fieldbus category possible approximately distinguish control system manufacturing communication buses one three categories depending upon much data system must carry . sensor bit level type bus intended applications single bits primary information carrier . would principally include inputs onoff conditions switches alarms . outputs would also onoff lights solenoid actuators quickacting valves forth . often basic plc stallations use type bus . device byte level intermediate application one several bytes 8bits also called octet primary information carrier . type bus used state device requires one bit . example control computer wants input output entire state machine many bits may required specify solenoids motors valves open closed forth . system also used send receive ana log data digitally encoded . fieldbus message level finally come actual fieldbus information may hundreds bits combined encapsulation may thousand bits . system includes error checking correcting complex addresses well . type bus used level suited operating control loops bus passing large amounts data . data rates often slower sensor device buses large packet size . often happens considerable overlap previous definitions . generally highercomplexity buses used three applications price generally slower data overhead . layer 7 application layer 6 presentation layer 5 session layer 4 transport layer 3 network layer 2 data link layer 1 physical osi model packet sent data figure 23 osi 7layer communication protocol showing packet encapsulation layer . computerbased control 587 important features fieldbus used communicate control signals process plant among sensors controllers final control elements . certain characteristics important . important characteristics 1. physical media transmission refers layer 1 osi model de fines actual communication carrier twisted wire pairs coaxial cable fiberoptic cable . 2. number devices refers fact device addresses carried information packet . therefore limit number devices addressed . 3. distance bus extend longer bus weaker distorted signals become . cases special repeater circuits extend basic bus distance . 4. speed transmission serial data like square wave communi cation media state changes square wave represent bits . bus speed refers frequency possible bit changes better described number bits per second bps serial system handle . 5. bus powered feature carried 4 20maanalog systems . systems current conveyed value input output also provided power device . served dual purpose thus saved wiring . fieldbuses capability data measurement computer power supply filter twisted pair sensor valve terminator terminator dc level l l digital signal figure 24 fieldbus use digitally modulated current transmission power . computerbased control 588 serial bit stream rides top dc current providing power devices bus . figure 24 shows twisted pair provides power sensor time sensor impresses measurement current drawn digital modulation . table 1 shows fieldbuses use process industry gives approximate properties previously defined . buses use ethernet layer 1 possible simply use ethernet directly without proto col. advantage ethernet old established system wide spread use lans office automation general makes familiar technology . fact existing information technology personnel often pro vide support fieldbus . table 1 comparison control system bus types asi seriplex devicenet lonworks profibus dppa foundation h1 foundation hse industrial ethernet sensor sensor sensor device fieldbus fieldbus fieldbus fieldbus twisted pair 4wire shielded twisted pair twisted pair twisted pair fiber power line twisted pair fiber twisted pair fiber twisted pair fiber twisted pair fiber coax 31 500 127 nodes 64 32000 per domain 127 nodes 240segment 65k segments unlimited unlimited routers 100 150 25 1 km speed de pendent 500 6 km repeater 2 km 78 kbps 100 twisted pair 24 km fiber 1900 100 twisted pair 2 km fiber 100 twisted pair 2.5 km fiber 167 kbps 200 mbps 10 kbps 1 mbps 125 kbps 500 kbps 1.25 mbps dp 500 kbps pa 31.25 kbps 31.25 kbps 100 mbps 10 mbps 100 mbps yes yes pa yes yes physical number power bus category media devices distance speed bus computerbased control 589 6 computer controller examples following examples illustrate difficulties arise seemingly simple control problems implemented digitally . purpose chapter book give expertise fully design ddc system merely give understand ing steps design features design actually built system . proportional control system 50 pb controls conveyor speed using weight measurement . specifications follows 1. weight range 40 90 lb . 2. weight setpoint 65 lb . 3. signal conditioning already available converts 0 100 lb voltage scaled 0.05 vlbthat 0 5 v. 4. 8bit adc converts input 0 5 v 00h ffh 5v input produces ffh . 5. conveyor speed regulated motorcontrol circuit operates directly output 8bit dac . 256 speeds selected according following 00h ffh full speed 80h speed corresponding setpoint 75 lbthat zero error . find digital controller equations . express numbers hex form . solution proportionalmode equations given equations 6 7. must define constants appear equations . error equation becomes zeroerror output given 80h . 50 pb means . error output given fractions range value used directly . thus fraction fullscale output . final output would pout p ffh p 80h 2 de kp kp 2 p0 80h de dw a6h80h de dw a6he6h 66h dsp 65100256 166.4 a6h wsp 65 lb dmax 90100256 230.4 e6h wmax 90 lb dmin 40100256 102.4 66h wmin 40 lb example 11 computerbased control 590 actually multiplying 8bit number ffh effectively equivalent shift 8 bits terms numbers see example development actual coding origi nal specification involves consideration many factors including encoding numeri cal data . complicated operations finding averages linearization integration finding derivatives math operations binary become even com plicated . general routines written topdown fashion starting general state ment problems working details shown example . following example illustrates complicated problem . problem takes control al gorithm stage general flow diagram detailed flow diagram would developed . ddc system shown figure 25 use pi control 40 pb 0.5min integration time 0.75min sample time . input average five pout p example 12 figure 25 process system example 12. computerbased control 591 temperatures output control signal valve . specifications sys tem follows 1. temperature measurement system available provides voltage temperature transducer following relationship 19 2. temperature range setpoint . 3. initial startup output signal valve 5 v. valve driven directly dac adjusted 0h 0 v ffh 10 v. 4. dataacquisition system available five channels adc con verts 0 v 0h 10 v ffh . 5. computer floatingpoint hardware inputs converted automat ically floatingpoint numbers use programs . thus 0h input produces 0.0 ffh produces . construct general flow diagram control algorithm using rectangular integration . solution find solution working system input output steps . con venience express temperature error terms percent . 1. find temperature input section provide value 0 255 voltage representing temperature . find voltage dividing 25.5. knowing voltage find temperature inversion rela tionship voltage temperature equation 10.9. first write quadratic form quadratic root equation find relation reduces 20 used positive sign know must 0 voltage 0 . 2. find average temperature find average simply inputting five temperatures addressing proper input channels summing dividing 5 . 3. find error error found percent usual using equation 9.3 21 average . temperature ep 57 90 0 b 100 93.75 28789 2500 v 0.07520.0752 4v0.0004 20.0004 0.0004t2 0.075t v 0 225.010 57c 90c 0c v 0.075t 0.0004t2 computerbased control 592 4. proportional gain 40 pb means error changes 40 output changes 100. expressed percent . 5. integral term integral gain 0.5min given specification problem . 1 error term contributes 0.5 change proportional mode controller output every minute . samples inte gral constructed taken every 0.75 min contribution actually 0.5min0.75 minsample 0.375sample . 6. output output signal constructed equation 9.19 along equations 18 19 adjusted 100 corresponds 255 output ffh sent dac . final flow diagram controller given figure 26. assumed input channels identified single integer 1 5. summary important features digital computer applications process control follows 1. application digital methods started simple application digital logic meth ods simple control problems use computer installations provide data logging services process control . 2. data logging computer proved value process control ability see operation process highspeed sampling loop data . adc mul tiplexer systems allow rates 5000 samples per second taken . 3. supervisory control lets computer adjust processloop setpoints optimum process performance even though standard analog control loops still used control . 4. computerbased control eliminates analog controller replaces mode im plementation programs within computer . 5. computer control implement proportional integral derivative modes us ing approximation algorithms . sampling time effects must considered . 6. distributed control smart sensors control computer builtin connected operations management computers networks . 7. much process control implemented using network called fieldbus con nect controllers sensors final control elements . problems section 2 1 force transducer transfer function 2.2 mvn . design alarm using comparator triggers 1050 n. 2 typej tc reference monitors process temperature . design two alarm system turning one led another . 150c 100c 0c p 100 kp 10040 2.5 ep computerbased control 593 computerbased control figure 26 flowchart solution example 12 . 594 3 design twoposition digital controller using force transducer problem 1. output go high 500 n deadband 75 n. 4 assume conveyor system speed load l loading rate r con verted binary signals comparators . boolean equation provides alarm either load loading rate high speed low speed high load low ? 5 show digital circuit elements implement alarm problem 4 . 6 multiplevariable digital control uses reaction vessel binary inputs level temperature pressure drive binary outputs input valve put valve.adigital high opens valve . following conditions must satisfied input output pressure temperature level valve valve h h h l h l h h l h l h l l l l l l h l h l l h h h l h l l devise boolean equation controller digital logic circuit . sections 3 4 7 datalogging system must take samples 40 variables 100 samples per second . maximum signalacquisition processing time microseconds ? 8 computer must sequentially sample 100 process parameters . requires 14 structions instruction computer address process one line data . multiplexer switching time adc conversion time . find maximum sampling rate line . 9 develop block diagram similar figure 15 supervisory computer con trol system process illustrated figure 27. firing operation ceramic articles . conveyor motor speed setpoint determined feed rate articles . 10 conveyor speed 5 requires preheat setpoint increased 3.9 oven setpoint 7.2 cooler 4.4. speed increase must per formed 1 steps reacquisition setpoint continuing . prepare flowchart showing computer control provide increase . 11 100f . temperature information input computer 6bit adc value nt 00h 010 60f 3fh 6310 100f . setpoint 75f zeroerror output 50 proportional gain 8. output goes 6bit dac 00h ac 63h ac maximum cooling . specify control equations must used . resolution tem perature control ? 34 2.3 5.3 process figure 27 supervisory control obtain increase airconditioner ac provide control temperature range 60 computerbased control 595 12 tegral term response 0.8 assuming 0.05s sample time integral gain . control range 25 100 psi . 13 pb 1.2min integration time 0.05min derivative time . error available percent span develop con trol equations show flowchart computer controller action constants evaluated . sample time 0.8 mins . 14 a. temperature controlled setpoint . b. sensor provides temperaturedependent voltage c. 8bit adc used 00h 0 v feh ffh occurs 10.0 v. d. pb 70 integral gain . e. sample time 0.5 min . f. output 8bit dac 10.0v reference . develop flowchart control process control equations program language choice . 15 measurement position l mm provided terms voltage relation fed directly 8bit adc 5.00v reference . develop control equa tions following controller specifications 2s sample time setpoint 50 mm 8bit output . 16 add derivative action problem 15 . kd 0.1 kp 3.7 ki 0.9 min 1 v e0.02l 12 1.5 min 1 v 10010 5 100c 150c 50 2.45 min 1 figure 27 process used problems . setpoint measurement figure 75 psi . find approximate process operate pid 60 pi controller required following control problem computerbased control 596 supplementary problems s1 shower faucet using system shown figure 28. user sets desired tem perature sliding knob attached variable resis tor . user sets water volume manually adjusting coldwater valve . hotwater valve controlled computer provide selected temperature . particulars twochannel multiplexer attached 8bit adc 5.0v reference . temperature sensor thermistor characteristic given figure 29 dissipation constant . control valve op erates 0.05.0v signal 8bit dac . adc input via port 301 5 mwc 1k 50c 30c figure 28 temperaturecontrol system problem s1 . microcomputer used provide automatic temperature regulation computerbased control 597 figure 29 thermistor characteristic problem s1 . dac output via port 302 control signals exchanged via bidirectional port 300 shown figure 28. portselect lines go low port addressed . determined pi control needed gains . a. design appropriate analog hardware getting thermistor temperature measurement user temperature setting computer via adc . b. complete appropriate digital connections figure 28 control interface adc dac multiplexer . c. prepare flowchart software required take samples every second . d. develop control equations implementation error detector specified pi control mode . remember thermistor resistance change nonlinear temperature . e. optional write program assembly language c appropriate language implement design . ki 0.08min kp 2.5 computerbased control 598 solutions oddnumbered problems 1 use comparator trigger level 2.31 v. 3 use circuit figure 1 dividers produce 1.1 v 0.935 v. 5 see figure s.75 . 7 9 see figure s.76 . 11 error controller output . resolution 0.625f . p 8 e 32 e 24 nt63 250 figure s.73 computerbased control 599 figure s.74 figure s.75 figure s.76 computerbased control 600 13 see figure s.77 . 15 appropriate equations program format follows p 255 p 3.7 e 0.111 sum sum sum e e 100 50 l119.7 error l 50 log 2 v 1 v n 5256 assuming n input adc input v output dp calculate ep sum sum ep dep 1.67ep dci 1.11sum dcd 0.100ep ep0 epo ep dp dep dc dcd figure s.77 alternatively p 25 e0 e p0 p p p0 3.811 e 3.7 e0 computerbased control supplementary problems s1 a. see figure s.78 . b. see figure s.78 . c. see figure s.79 . d. 1. set temperature input vtsp . use equation tsp 30 20 vtsp255 0 255 601 computerbased control figure s.78 602 computerbased control figure s.79 603 computerbased control s2 . input temperature input vt . use tablelookup linear interpolation . try 8point table . vt 0 32 64 96 128 160 192 224 255 30 31 32 33.5 35.2 37.2 40 43.8 50 interpolation error fraction range s3 . control equations use equation 11.17 e1 e valve0 valve valve valve0 8.9 e 6.7 e1 kd 0 e tsp t20 tl th tl vt vl32 0 255 604 controlloop characteristics instructional objectives chapter provides processcontrol technologists general background prac tical considerations processcontrol loop implementations . reading chapter able explain characteristics singlevariable compound cascade multivariable control . define three standard measures quality control system . describe controlloop stability criteria respect bode plot . describe openloop transient disturbance method loop tuning . describe zieglernichols method processcontrol loop tuning . define phase gain margin . explain frequency response method used tune processcontrol loop . 1 introduction instrumentation used perform processcontrol function presented detail . point reader similar individual acquired detailed knowledge elements airplane . person however knowledgeable airplane parts certainly competent pilot aircraft ! process control also remarkable difference knowing elements processcontrol loop able tune operate processcontrol loop installation . chapter consideration given various ways setting process control loop system tuning system optimum performance . word caution previously detailed elements process control described . chapte5r 5 instrumentation technology eighth edition . curtis d. johnson . copyright 2006 pearson prentice hall . rights reserved . pearson education inc. published 2 1 process control 605 complete understanding optimization requires detailed mathematical study stability theory substantial depth knowledge process many years expe rience . general intent chapter merely make reader familiar general concepts . objectives chapter carefully selected provide reader much background expected without extensive mathematical back ground . emphasis theoretical development processcontrol loop char acteristics interpretation employment results theory . many volumes devoted studies loop stability optimization techniques multiloop ddc operations theory host topics could never included brief chap ter . short chapter provides processcontrol technologist general back ground practical considerations processcontrol loop implementations . 2 control system configurations consider first types controlloop configurations encountered typical industrial applications . controlloop concept correct one necessarily oversimplifies many actual configurations used industry . decision arrangement select made process designers based goal process relative production requirements physical characteristics operations control . 2.1 single variable elementary processcontrol loop singlevariable loop . loop designed maintain con trol given process variable manipulation controlling variable regardless process parameters . independent single variable many processcontrol applications certain regulations required regardless parameters process . cases setpoint established controller action started system left alone . thus figure 1 flowcontrol system used regulate flow tank fixed rate deter mined setpoint . system makes adjustments valve positions necessary following load change maintain flow rate setpoint value . interactive single variable second singlevariable control loop also shown figure 1 regulates temperature liquid tank adjustment heat input . also singlevariable loop maintains liquid temperature setpoint value . nominal conditions flow tank held constant tempera ture also held constant respective setpoint values . note however change setpoint flowcontrol system appears load change temperature controlloop characteristics 606 figure 1 two variable processcontrol loops interact . control system fluid level tank rate passage tank must change . temperature system responds resetting heat flux accommodate new load bring temperature back setpoint . say two loops interact . almost process several vari ables control shows interactive behavior . cycling instability flowcontrol loop causes cycling temperature system interaction . compound variable cases single processcontrol loop used pro vide control relationship two variables . accomplished using measurements say two sensors input process controller . signal conditioning system must scale two measurements add prior input controller evaluation action . analysis systems become quite com plicated . common example ratio two reactants must controlled . case one flow rates measured allowed float regulated measured adjusted provide specified constant ratio . ex ample system shown figure 2. flow rate reactant measured added appropriate scaling measurement flow rate b. controller reacts resulting input signal adjustment control valve reactant b input line . controlloop characteristics 607 figure 2 compound system ratio two flow rates controlled . compound control system ratio two variables maintained 3.5 1. converted 05v range signal devise signalconditioning system output zero signal controller ratio correct . solution case use summing amplifier . output related input make voltage ratio one input voltage must negative use negative resistance ratio resistance 3.5 1. gain unspecified use example . circuit figure 3 accomplishes desired function vout 3.5 k 3.5 k b v1 3.5 k 1 k bv2 rf r1 r1 3.5r2 v1 v2 r1 r2 vout 0 vout rf r1 v1 rf r2 v2 example 1 controlloop characteristics 608 figure 3 circuit example 1. thus whenever output zero . cases compound control system known cascade although differs true cascade systems described next . 2.2 cascade control inherent interaction occurs two control systems many applications sometimes used provide better overall control . one method accomplishing setpoint one control loop determined measurement differ ent variable interaction exists . block diagram system shown figure 4. two measurements taken system used control loop . outer loop however controller output setpoint ner loop . thus outer loop controlled variable changes error signal put controller effects change setpoint inner loop . even though measured value inner loop changed inner loop experiences error signal thus new output virtue setpoint change . cascade control generally provides better control outer loop variable accomplished single variable system . example cascade control system shows works suggests control improved . consider problem controlling level liquid tank regulation input flow rate . singlevariable system accomplish v1 3.5v2 vout v1 3.5v2 . controlloop characteristics 609 figure 4 general features cascade processcontrol system . shown figure 5a . level measurement used adjust flowcontrol valve final control element . setpoint controller establishes desired level . sys tem upstream load changes cause changes flow rate result level changes . level change however secondstage effect . consequently system spond level actually changed flow rate change . figure 5b shows control problem solved cascade system . flow loop singlevariable system described earlier setpoint determined measurement level . upstream load changes never seen level liquid tank flowcontrol system regulates changes appear sub stantial changes level . 3 multivariable control systems one could correctly say reasonably complex industrial process multivariable cause many variables exist process must regulated . general however many either noninteracting interaction serious problem maintaining desired control functions . cases either singlevariable controls cascade loops suffice effect satisfactory control overall process . use word multivariable section refers processes wherein many strongly interacting variables involved . multivariable system complex interaction controlloop characteristics 610 figure 5 cascade control often provides better control direct methods . pattern adjustment single setpoint causes profound influence many control loops process . cases instabilities cycling even runaway result indiscriminate adjustment setpoints . 3.1 analog control analog control loops used multivariable systems carefully prepared structional set must provided process personnel regarding procedure ad justment setpoints . generally adjustments carried small increments avoid instabilities may result large changes . let us try give idea kind situation consideration . suppose reaction vessel two reactants mixed react product drawn bottom . con cerned controlling reaction rate . also important however keep reaction controlloop characteristics 611 temperature vessel pressure certain limits finally level con trolled nominal value . reactions exothermicthat selfsustaining heatproducingthen relation among parameters critical . temperature low indiscriminate increase steamflow setpoint could cause unstable runaway reaction . perhaps case level reaction flow rates must altered steamflow rate increased maintain control . necessary steps often empirically determined numerical solutions compli cated control equations . 3.2 supervisory direct digital control computer ideally suited type control problem presented multivari able control system . computer make necessary adjustments system operat ing points incremental fashion according predetermined sequence monitoring process parameters interactive effects . problem system de termining algorithm computer must follow provide control function setpointchange sequence . cases control equations used . usually com plex interactions relations analytically known . cases selfadapting algorithms used causing computer sequence set operations let ting result one operation determine next operation . example tem perature slightly raised pressure rises drop temperature . computer sequence myriad microadjustments setpoints looking optimum adjustment path . aprocess requires adjustment setpoints increase production.aparticular sequence must followed provide increase . sp1 sp2 sp3 setpoints p pcr pressure critical pressure respectively tcr temperature critical temperature respectively . develop flowchart increases setpoints follows 1. increase sp1 1 . 2. wait 10 test pressure compared critical . 3. pressure less critical a. decrease sp2 b. increase sp3 c. wait d. increase sp2 1 e. go step 1 4. pressure critical a. decrease sp1 b. decrease sp2 c. go step 2 solution implement either ddc supervisory systems requires flowchart program instructions developed . flowchart shown figure 6 . 1 4 1 2 6 tcr 3 4 1 2 example 2 controlloop characteristics 612 figure 6 flowchart interactive control problem . controlloop characteristics 613 computer sequences steps optimum fashion according stip ulations problem . sequence performed manually several operators would required monitor equipment make necessary adjustments . 4 control system quality manufacturing concept implemented ultimate goal develop prod uct satisfies present design criteria . product crackers cer tain color flavor salinity size forth . gasoline possess certain octane antioxidants viscosity forth . manufacturing process depends op eration set processcontrol loops impart desired characteristics product . ultimate gauge control system quality therefore whether control provides product within specifications . operation even get started unless level quality provided . assume practical situation satisfied . however levels quality represent deeper study processcontrol system subject present discussion . brief given control system provide product meets specifications ask well perform job variation parameters exists percentage rejected product occurs . answer questions must first describe measures quality control system analyze loop characteristics affect measures . important note absolute answers exist . considered good control one manufacturing process may unsatisfactory another . general criteria applied discussed later . 4.1 definition quality let us consider moment one control loop manufacturing process . need control loop variable control dynamic changing many influ ences therefore needs regulatory operations . impossible control loop regulate variable exactly setpoint . lets face variable must change fore loop generate corrective action oppose change . considering quality must accept outset perfect control impossible inevitable deviations variables optimum values occur . fact def inition quality concerned deviations interpretation terms ultimate product . processcontrol technologist necessarily position evaluate deviations loop variable setpoint actually 1 affect spe cific properties final product 2 cause rejected 3 may affect cost efficiency manufacturing process . provide communication link process experts product experts set measures criteria devised . criteria provide common language product evaluated terms dynamic characteristics specific loop serve therefore measure quality . understand measure must first define quality terms process control loop . controlloop characteristics 614 figure 7 loop disturbances occur intentional setpoint changes changes process load . loop disturbance processcontrol system supposed provide regulation disturbances system cause minimum deviation controlled variable setpoint value . quality control system defined degree deviations result disturbances minimized . three basic types disturbances occur processcontrol system 1. transient 2. setpoint changes 3. load changes transient disturbance results temporary change parameter sys tem affects controlled variable . impractical use transient disturbances define control quality nature transient well defined . transient vary duration peak amplitude shape . definition quality need reg ular type disturbance . specific two disturbance conditions used introduce stepfunction change loop . stepfunction change setpoint shown figure 7a instantaneous change loop setpoint old value new value . second possible disturbance stepfunction change process load sug gested figure 7b also occurs instantaneously time.the load change come sudden permanent change process parameters constitute process load . provide measures quality evaluate system responds either sudden changes . optimum control universal definition quality control system system provides optimum controlthat best control possible . anything mod ified system deviation controlled variable load setpoint change always worse . thus overall settings system optimum . mean control perfect even good simply means best . optimum control therefore control quality defined terms three effects resulting load setpoint change 1. stability 2. minimum deviation 3. minimum duration controlloop characteristics 615 figure 8 instability processcontrol loop refers uncontrolled growth controlled variable . stability basic characteristic defining processloop quality provides stable regulation dynamic variable . stable regulation means dy namic variable grow without limit . figure 8 two types unstable responses shown . one case disturbance causes dynamic variable simply increase limit . variable begins execute growing oscillations plitude increasing without limit . cases nonlinear breakdown explosion malfunction eventually terminates increase . consider sta bility next section measure quality assume stable operation achieved . controlled variable process may stable still cyclic . case example twoposition control controlled variable oscillates two limits nominal load conditions . change load may change period os cillations amplitude swing remains essentially hence variable un der stable control . minimum deviation processcontrol loop adjusted regulate variable setpoint value obvious definition quality extent disturbance causes deviation setpoint . disturbance change set point considered overshoot undershoot variable achieving new setpoint . general want minimize deviation dynamic variable setpoint value . controlloop characteristics 616 figure 9 tuning determines reaction controlled variable changes . minimum duration disturbance occurs conclude devia tion occur . another definition quality length time controlled variable regains adopts setpoint value least falls within acceptable limits value . thus quality processcontrol loop defined evaluation stability minimum deviation minimum duration following disturbance dy namic variable . 4.2 measure quality general enough simply state design adjust processcontrol loop provide stable minimumdeviation minimumduration operation . example achievement minimum deviation may result lessthanminimum duration usu ally occurs . final product also may favor lessthanabsolute minimum adjustment provide faster production rate acceptable degradation product specification . accommodate circumstances distinguish several measures quality convey degree approached ideals . assume stable operation achieved . three possible responses disturbance dynamic variable processcontrol loop execute . specific sponse depends controller gains lags process . referring figure 9b load change figure 9a setpoint change following definitions . controlloop characteristics 617 figure 10 one type cyclic response system adjusted make peak one quarter previous peak . overdamped loop overdamped case figure 9 deviation ap proaches setpoint value smoothly following disturbance oscillations . duration minimum case . matter deviation usually minimum either . response safe however ensuring instabilities occur certain maximum deviations never occur . critically damped careful adjustment processcontrol loop brings curve b figure 9. case duration minimum noncycling response . optimum response condition overshoot undershoot desired setpoint change cycling general desired . underdamped natural result adjustments processcontrol loops cyclic response deviation executes number oscillations setpoint . shown curve c figure 9. possible response gives min imum deviation minimum duration cases . cycling tolerated response preferred . two specialized measures control used none conditions serves define measure control desired process . quarter amplitude processcontrol loop damped cyclic response disturbance criterion sometimes used neither minimum deviation minimum duration . measure quality found adjusting loop devi ation disturbance deviation peak onequarter preceding peak shown figure 10. case actual magnitude devi controlloop characteristics 618 figure 11 minimumarea tuning response characteristics . ation included measure time peak . sense neither duration magnitude deviation directly involved quarteramplitude criterion . suppose deviation following stepfunction disturbance 4.7 error con trolled variable . quarteramplitude criterion used evaluate response find error second third peak . solution amplitude peak must onequarter previous peak . case sec ond peak 4.74 1.18. third peak error 1.184 0.30. minimum area cases cyclic underdamped response critical el ement sometimes combination duration deviation must minimized . thus minimum deviation occurs one loop setting minimum duration another neither optimum . one type optimum measure quality cases min imize net area deviation function time . figure 11 shown sum shaded areas . analytically expressed 1 r setpoint value b measured value area deviation 3 r bdt example 3 controlloop characteristics 619 figure 12 error versus time example 4. another way representing use fullscale percent error write 2 adopting criterion loop response keeping extent duration de viation thus product rejections minimum . given two response curves figure 12 deviation versus time following ini tial disturbance find response preferred using minimumarea criterion . solution find area application cases find areas geometrically finding net area curve . curve 1 curve 2 get a2 8min a1 8.5min ap 3 epdt ap area ep fullscale error ap 3 epdt example 4 thus clear curve 2 preferred minimumarea test . controlloop characteristics 620 figure 13 transfer function changes amplitude phase sinusoidal input . 5 stability earlier chapter assumed loop response stable prerequisite use practical control application . fact great deal effort expended design development processcontrol loops achieve stability . although detailed treat ment stability theory process control beyond intent book value discuss important considerations studies . 5.1 transfer function frequency dependence static transfer function element processcontrol loop tells output determined input input constant time . dynamic transfer func tion element tells output determined input input varies time . study stability interested particular time variation sinusoidal i.e . dynamic transfer function input oscillating fre quency f . consider element block shown figure 13 transfer function input sinusoidal given frequency expressed terms angular frequency measured radianssecond . two things happen linear study least amplitude change phase shift . thus output de scribed ratio amplitudes called gain phase shift called phase lag . general gain amount phase lag element vary fre quency . gain decreases phase lag becomes larger . whole issue stability tied frequency variation gain phase elements control loop . source instability see processcontrol loop cause instability consider openloop block diagram figure 14 oscillating transient disturbance imposed r. notice feedback line broken er ror detector actual feedback occurs . element loop gain phase lag including process . net gain product gains net phase lag sum phase lags . gain ba c b sint 2f r sint controlloop characteristics 621 perfect world feedback b would exact replica disturbance every frequency . would mean loop gain unity phase shift . phase shift lag error detector would subtract feedback disturbance would cancelled . reality gain variations extra phase shifts vary disturbance frequency . gain disturbance frequency greater one system phase lag small disturbance cancelled within cycles oscillation . however phase lag becomes greater increasing frequency effectiveness feedback reduced oscillation persist longer . cyclic response transient discussed elsewhere book . similarly gain becomes smaller frequency effectiveness feed back cancel error reduced . control system still working stable . consider however particular case frequency phase lag sys tem reaches gain remains unity greater . combined error detector phase shift net shift around loop feedback summed instead subtracted . gain frequency unity distur bance persist forever constant amplitude . gain greater unity dis turbance grow amplitude . instability caused control system . instability illustration instability caused condition fre quency transfer function feedback error summer actually increases error gain phase shift . frequency condition exists oscillations always start grow frequency . illustrate assumed small transient oscillation introduced external sources disturbance r. assume frequency gain greater 1say 2and phase shift lag . let us study result frozen instant stant . summer algebraically subtracts feedback input giving error sig nal next instant figure 15a . next instant figure 15b transient gone feedback original amplified 2 phaseshifted . passes negative summing point becomes . figure15c shows e2 e2 180 e1 b2 e1 180 180 360 180 180 figure 14 control loop opened effect disturbance loop traced . controlloop characteristics 622 figure 15 figure suggests initial transient oscillation grow appropriate feedback conditions . amplified 2 phaseshifted becoming . thus see error actually growing ! control system forcing oscillating error crease instant instant . course actuality happens smoothly output would look something like figure 8 oscillating growth . frequency conditions growth exist system unstable something like random noise eventually set system growing oscillation . processcontrol installation designed one objective regulating controlled variable without instability e3 b3 180 controlloop characteristics 623 loop . stability ensured designing controller gains oscillation growth never favorable according certain criteria . 5.2 stability criteria derive stability criteria determining conditions system gain phase lag lead enhancement error . led two conclusions 1. gain must greater 1 . 2. phase shift must lag . thus frequency gain greater one phase system unstable . argument develop two ways specifying sys tem stable . rules follows rule 1 system stable phase lag positive fre quency gain unity one . rule 2 system stable gain less one unity frequency phase lag . application rules actual process requires evaluation gain phase shift system frequencies see rules 1 2 satisfied . easier plot gain phase versus frequency used . bode plot particular type graph called bode plot diagram normally used plot gain phase control system versus frequency . case fre quency plotted along abscissa horizontal log scale expressed commonly rads . remember want know actual frequency hz divide rads . use log scale permits large range frequency displayed . ordinate actually consists two parts gain plotted log scale one part phase plot ted linearly degrees another part . figure 16 shows bode plot gainphase plotted example . labeled gain openloop gain since include effect actually feeding signal back system . determine whether system figure 16 stable according rules given earlier . solution rule 1 find frequency gain unity 1. system stable phase lag less . unity gain occurs 0.5 rads five cycles per minute . frequencies uncommon many industrial processes . frequency phase lag less system stable rule 1. rule 2 find frequency phase lag check gain less one stability . phase lag 0.8 rads gain 0.5. thus system stable rule 2 . 180 180 180 140 0.52 0.08 hz 180 2 180 180 180 180 example 5 controlloop characteristics 624 figure 16 bode plot shows openloop gain phase versus frequency applied sinusoid . cases modified form bode plot given figure 16 used gain plotted db . gain plotted linear scale 3 thus gain 100 gives 40 db unity gain 0 db gain less one gives neg ative db 0.1 gives db . stability rules would revised read 0 db instead unity gain . 20 gain db 20 log10 controlloop characteristics 625 transfer functions several elements known transfer functions se ries cascaded elements found product magnitudes sum phases 4 5 loglog scales product equation 4 becomes addition . transfer function entire processcontrol loop therefore involves summation transfer functions elements loop including process . 6 cases exact solution found using bode plots process transfer function complicated unknown . stability still ensured ad justment proportional gain derivative time integral time . final adjustment quantities tunes system stable operation . 6 process loop tuning last aspect processcontrol technology consider refers actual startup adjustment processcontrol loop . seen various settings con troller profound effect loop performance . natural question select settings . fact many methods determination optimum mode gains depending nature complexity process . con sider three common tuning methods give basic idea optimum adjust ments found . two methods given semiempirical depend measurements made system determine factors used adjustment formulas . last analytical based known transfer function process loop . 6.1 openloop transient response method method finding controller settings developed ziegler nichols times referred processreaction method . basic approach open process control loop control action feedback occurs . usually done disconnecting controller output final control element . process parameters held nominal values . method used systems selfregulation . time transient disturbance introduced small manual change controlling variable using final control elements . change small practical making necessary measurements . controlled variable measured recorded versus time instant following disturbance . log log t1 log t2 log t3 t1 t2 t3 element transfer function system transfer function jt jt1 jt2 jt3 t1 t2 t3 controlloop characteristics 626 figure 17 processreaction graph loop tuning . typical openloop controller response shown figure 17 distur bance applied . expressed deviation percent range usual assume final control element disturbance also expressed percentage change . tangent line shown dashed line drawn inflection point curve . flection point defined point curve slope stops increasing gins decrease . tangent line crosses origin get 7 time disturbance application tangent line intersection shown figure 17. also graph get process reaction time 8 quantities defined equations 7 8 used controlling variable change find controller settings . following paragraphs give stable control definitions various modes developed ziegler nichols corrections de veloped cohen coon quarteramplitude response criterion indicated . latter case log ratio used defined 9 r log ratio unitless r nl cp p process reaction time minutes cp variable change n reaction rate min n cp l lag time minutes t1 controlloop characteristics 627 proportional mode proportional mode proportional gain setting found 10 corrections value sometimes used obtain quarteramplitude criterion response . one given cohen coon shown bracketed 11 proportionalintegral mode controller mode proportional integral appropriate settings proportional gain integration time 12 quarteramplitude criterion used gain 13 threemode threemode controller find appropriate proportional gain integration time derivative time 14 quarteramplitude criterion used equations corrected 15 transient disturbance test run process loop . results 9 controlling vari able change give processreaction graph shown figure 18. find settings three mode action . kp p nl1.33 r4 ti c 32 6r 13 8r dl td l 4 11 2r b v kp 1.2p nl ti 2l td 0.5l kp p nl c0.9 1 12rd ti c 30 3r 9 20r dl kp 0.9p nl 1ki ti 3.33l kp p nl c1 1 3 nl cp kp kp p nl kp example 6 controlloop characteristics 628 figure 18 processreaction graph example 7. solution drawing inflection point tangent graph find lag process reaction time 4.8 min . reaction rate controller settings found equation 14 proportional band example 6 find threemode settings quarteramplitude response . solution use equation 15 together lag ratio r 0.50 r nl cp 0.81252.4 3.9 td 0.5l 0.52.4 min 1.2 min ti 2l 22.4 min 4.8 min 100 kp 100 5.54 18 kp 1.2 p nl 1.2 9 0.81252.4 yielding kp 5.54 n cp 3.9 4.8 min 0.8125min l 2.4 min example 7 controlloop characteristics 629 get 14.9 proportional band . 6.2 zieglernichols method ziegler nichols also developed another method controller setting assignment come associated name . technique also called ultimate cycle method based adjusting closed loop steady oscillations occur . controller set tings based conditions generate cycling . particular method accomplished following steps 1. reduce integral derivative actions minimum effect . 2. gradually begin increase proportional gain providing periodic small disturbances process . jar system oscillations . 3. note critical gain dynamic variable begins exhibit steady cyclingthat oscillations setpoint . 4. note critical period oscillations measured minutes . method used systems without selfregulation . critical gain period settings controller assigned follows proportional proportional mode alone proportional gain 16 kp 0.5kc tc kc td 0.80 min td 2.4 4 11 20.5 td l 4 11 2r b ti 4.94 min ti 2.4 32 60.5 13 80.5 b ti l 32 6r 13 8r b kp 6.72 kp 9 0.81252.4 1.33 0.50 4 b kp p nl a1.33 r 4 b controlloop characteristics 630 amodification relation often used quarteramplitude criterion applied . case gain simply adjusted dynamic response pattern step change setpoint obeys quarteramplitude criterion . also results gain less . proportionalintegral proportionalintegral action used process control loop settings determined 17 case quarteramplitude criterion desired make 18 adjust gain necessary obtain quarteramplitude response . threemode threemode controller requires proportional gain integral time derivative time . determined nominal response 19 adjustment give quarteramplitude response set 20 adjust proportional gain satisfaction quarteramplitude response . application zieglernichols method process begins oscillation 30 proportional band 11.5min period . find nominal threemode controller settings . solution first 30 proportional band means gain equation 19 find settings td 1.44 min td tc8 11.58 ti 5.75 min ti tc2 11.52 kp 2 kp 0.6kc 0.6 3.33 kc 100 pb 100 30 3.33 ti tc1.5 td tc6 r kp 0.6kc ti tc2.0 td tc8 ti tc kp 0.45kc ti tc1.2 r kc example 8 controlloop characteristics 631 6.3 frequency response methods frequency response method processcontroller tuning involves use bode plots process control loops . method based application bode plot sta bility criteria given section 5.2 effects proportional gain integral time derivative time bode plot . gain phase margin stability criteria given section 5.2 represent limits stability . example gain slightly less 1 phase lag system stable . gain slightly greater 1 system unstable . would well design system margin safety limits allow variation components unknown factors . consideration leads revised stability criteria properly margin safety provided condition . ex act terminology terms gain margin phase margin limiting values quoted . although standards exist common condition 1. phase lag less unity gain frequency system stable . phase margin limiting value . 2. gain 5 db unity gain 0.56 phase lag system stable . 5db gain margin . determine whether system bode plot figure 19 satisfies gain phase margin conditions . solution first examine phase unity gain . unity gain occurs angular frequency 0.15 rads phase . thus first stability condition satisfied phase margin . phase occurs 0.3 rads angular frequency gain 0.7 high . thus 0.56 less gain margin satisfied controller gain reduced slightly . tuning operations tuning using frequency response method involve ad justments controller parameters stability proved appropriate phase gain margins . process control elementstransfer functions known correct set tings determined analytically . bode plot determined experimentally opening loop providing variablefrequency disturbance controlling variable . measurements phase gain made bode plot constructed . proper settings determined . significance unity gain crossover frequency system correct disturbances frequency less unity gain fre quency . disturbance higher frequency little effect control system . tuning operation based fact gains mode particu lar effect system bode plot . adjusting gains alter bode plot un til satisfies gain phase margins safety stable system . remember bode plot gains appear products phases modes simply add algebraically . 180 60 120 180 180 40 140 180 180 example 9 controlloop characteristics 632 figure 19 bode plot example 9. proportional action mode controller simply multiplies gain curve constant independent frequency phase effect . thus system gain curve found proportional gain 2 increase 4 entire gain curve multiplied 2. term used move intact gain curve increased gain decreased gain . generally moving curve extends range frequency system control provided stability margins maintained . controlloop characteristics 633 integral action pure form integral mode contributes thus see integral mode contributes gain lower frequency less gain higher frequency inverse dependence frequency . phase shift made lagging . integral mode gain increase gain lower frequencies . practical form integral mode lower fre quency called breakpoint effects cease gain curve becomes flat phase lag goes zero . shown figure 20 assumed . derivative action problems instability higher frequencies derivative mode almost never used pure form . gain phase would gain increases frequency must limited upper frequency . figure 20 mode action shown mode gain characteristic upperlimit frequency gain becomes constant phase shift zero . general mode used increase gain higher frequency im portant used drive phase away lag shift instability begin . find fractional decrease proportional gain would make system example 9 5db gain margin . solution system failed satisfy 5db gain margin gain 0.7 stead 0.56 less . thus proportional gain reduced factor 0.70.56 0.8 gain margin satisfied . phase margin affected . consider bode plot figure 21 hypothetical process controller proportional gain 10. show system unstable find proportional gain satisfying gain phase margins . solution evaluation curve shows phase lag unity gain although sta ble satisfy required phase margin . gain phase lag approxi mately 0.8 although less one satisfy stipulated gain margin . notice entire gain curve reduced moved constant amount dicated effect phase lag stability criteria satisfied . 180 40 170 180 180 kd 10 derivative phase 90 lead derivative gain kd ki 1 ki 90 integral phase 90lag integral gain ki example 11 example 10 controlloop characteristics 634 figure 20 bode plots showing proportional integral derivative mode contributions . done changing proportional gain affects gain . particular gain must derated factor 12 note difference 5 rads achieve margins . thus new proportional gain 102 5. general derivative integral proportional gains adjusted sys tem satisfies stability criteria specified unity gain frequency . controlloop characteristics 635 figure 21 bode plots example 11. proportional mode affect phase . summary overview operational characteristics entire processcontrol loop includes following points 1. although singlevariable control loop widely used process control often must account interactive effects variables . 2. many cases cascade control loop used setpoint one loop deter mined controller output another loop . controlloop characteristics 636 3. multivariable control systems used strong interactions variables exist . many ways supervisory ddc techniques best suited control problems . 4. quality control system response defined characterizing response system disturbance . stability deviation magnitude duration important quality . 5. minimum area quarteramplitude criteria often used measure quality together damping characteristics . 6. stability processcontrol loop studied bode plot consisting gain phase lag versus frequency . 7. tuning processcontrol loop consists finding optimum settings con troller gains good control . 8. openloop transient method tuning relies semiempirical technique using reaction open loop transient disturbance . 9. zieglernichols method finds conditions generate steady oscillation derates settings optimization . 10. frequencyresponse method relies stability conditions determined bode plot . adjustments gains provide phase gain margin frequency bandwidth . problems section 2 1 compound control system specifies ratio pressure pa temperature k held 0.39. a. diagram control loop provide control . b. identify function element loop necessary accomplish control . 2 suppose problem 1 temperature available 2.75 mvk pressure 11.5 mvpa . design signal conditioning outputs zero ratio correct . hint first convert scales 1 mvk 1 mvpa . 3 draw diagram cascade control system inner loop temperature input flow system outer loop viscosity determine flow controller setpoint . section 3 4 draw block diagram operational flow diagram show problem 1 implemented ddc . 5 lem 3 implemented ddc . section 4 6 assume want electronic means finding area errortime graph fol lowing disturbance . a. show circuit figure 22 . b. find values output area equation 2 vs. r4 r3 draw block diagram flowchart show cascade system prob controlloop characteristics 637 figure 22 circuit problem 6. figure 23 processreaction graph problem 8. section 5 7 process control system components transfer functions 10 rads . find total systemtransfer function . section 6 8 openloop transient test provides processreaction graph given figure 23 7.5 disturbance . a. find standard proportionalintegral gain settings . b. find threemode quarteramplitude settings . 3.2 85 200 1.4 90 0.05 90 controlloop characteristics 638 9 zieglernichols method critical gain found 4.2 critical period 2.21 min . find standard settings proportionalmode control b pi control c pid control . 10 11 nominal proportional gain process figure 24 11.5 determine gain provide gain margin least 0.56 phase margin least . 40 figure 24 bode plot problems 10 11. specify gain phase margins figure 24. system stable ? controlloop characteristics 639 12 draw resultant bode plot combination proportional integral derivative modes shown figure 20 . 13 figure 25 shows bode plots process proportional mode integral mode associated controller . find composite transfer function bode plot evaluate stability . figure 25 bode plot problem 13. controlloop characteristics 640 14 show adding derivative action system problem 13 would change composite bode plot . discuss effect stability adding action . 15 composite bode plot openloop system shown figure 26. proportional action . much proportional gain drive system instability ? critical gain ultimate cycle method kp 1 figure 26 bode plot problem 15. controlloop characteristics 641 figure 27 processreaction graph problem 16. figure 28 bode plot problem 17. controlloop characteristics 642 drive system margin instability . would proper gain setting ultimate cycle tuning ? phase gain margin provide ? 16 process tuned transient response quarter amplitude using pid controller . system control temperature varies setpoint . output heater control voltage ranging 0 24 v. test started system 14v output . output increased sud denly 16.5 v. resulting temperature graph shown figure 27. find proper pid gain . 17 process bode plot shown figure 28. prove system sat isfy 5db gain margin . plot represents proportional gain 5.0. gain make system satisfy 5db gain margin ? phase margin ? supplementary problems s1 lightregulation system tuned conducting openloop transient response test . test source voltage suddenly increased 1.5 v variation sensor resistance time recorded . figure 29 shows average sensor resistance time . determine proper gains pi controller operation zieglernichols quarteramplitude response . 220c 330c 140 figure 29 processreaction graph problem s1 . controlloop characteristics 643 solutions oddnumbered problems figure s.80 1 see figure s.80 . 3 see figure s.81 . 5 see figure s.82 . 7 4.48 9 a. b. c. 11 kp 3.29 kp 2.52 tl 1.11 min td 0.28 min kp 1.89 tl 1.84 min kp 2.1 85 figure s.81 controlloop characteristics 644 figure s.82 controlloop characteristics 645 controlloop characteristics figure s.83 13 see figure s.83 . stable . 15 instability ultimate cycle gives gain margin 0.5 6 db phase margin . 17 a. unity gain phase lag therefore unstable . gain 1.0 greater 0.56 therefore unstable . b. reduce gain 2.8. supplementary problems s1 quarter amplitude tl 0.96 kp 0.6 tl 2.16 kp 0.57 180 180 140 kp 2.3 kp 4.55 646 appendix units 1 si units table 1 derived units quantity quantity unit symbol definition unit name symbol unit definition f frequency hertz hz w energy joule j f force newton n r resistance ohm v voltage volt v p pressure pascal pa angular frequency radians per second rads rads e illuminance lux lx q charge coulomb c l inductance henry h c capacity farad f g conductance siemen luminous flux lumen lm cdsr luminous efficacy lumen per watt lmw lmw p power watt w js 1 s4a2kgm2 kgm2s2a2 lmm2 nm2 kgm2s3a2 kgms2 kgm2s2 s1 system units gaining acceptance throughout world called systme international dunits si . system maintained confrence genrale des poids et measures . description physical quantities provided terms derived units expressible terms basic set . table 1 shows common derived units descriptors . pearson prentice hall . rights reserved . pearson education inc. published appendix 1 process control instrumentation technology eighth edition . curtis d. johnson . copyright 2006 647 table 2 english system units quantity english unit variations conversion si length foot ft inch . yard yd exact mile mi area acre volume gallon gal quart qt pint pt force pound lb ounce oz mass slug used pound lb see mass note energy footpound ftlb pressure atmosphere atm psi power horsepower hp 1 hp 746 w 1 atm 14.7 psi 1 psi 6895 pa poundinch2 1 ftlb 1.356 j 1 lb mass 0.454 kg 1 slug 14.59 kg 1 lb 4.448 n 16 oz 1 lb 2 pt 1 qt 1 gal 0.003875 m3 4 qt 1 gal 1 gal 3.785 liters 1 gal 0.134 ft3 35.31 ft3 1 m3 inch3 in.3 1728 in.3 1 ft3 foot3ft3 1 acre 21 789 ft2 10.76 ft2 1 m2 inch2 in.2 144 in.2 1 ft2 foot2ft2 1 mi 5280 ft 1 yd 3 ft 1 . 0.02540 12 . 1 ft 2 units many systems units employed world although strong effort made adopt si units universally . two widely employed unit systems english centimetergramseconds . english system english system units originated great britain . although great britain converted metric si system units united states continues use english system everyday social commercial activity . fact call system u.s. units u.s. customary units . gradual conversion metric system occurring man ufacturing science engineering disciplines . table 2 gives basic units system factors converting si . mass note english system proper unit mass slug defined mass accelerate operated force 1 lb . unit common use however . instead english system uses weight object infer mass . weight force due gravity therefore measured unit pound lb english system . causes confusion convert ing units mass english system si uses proper mass unit kilogram kg . mass conversion factor mass takes 0.454 kg 1 pound 1 fts2 units appendix 648 table 3 cgs system units quantity cgs unit si unit conversion length centimeter cm mass gram gm time second force dyne energy erg pressure 10 dynecm2 1 pa dynecm2 107 erg 1 j 105 dyne 1 n 1 1 1000 g 1 kg 100 cm 1 account nominal acceleration due gravity convert english force unit si mass unit centimetergramsecond cgs system cgs system units often employed scientific work publications reporting results scientific research . system defined subset si according definitions table 3 . 3 standard prefixes si decimal multiple submultiple designations shown table 4 . 1 lb mass 4.448 n9.8 ms2 l 0.454 kg table 4 prefixes multiple si prefix symbol tera giga g mega kilo k hecto h 10 deka da deci centi c milli micro nano n pico p femto f atto 1018 1015 1012 109 106 103 102 101 102 103 106 109 1012 units appendix 649 note become common practice computers express number bytes memory using prefixes kilo mega giga . important realize prefixes meaning metric prefixes defined . reason based upon binary base 2 counting system . therefore following definitions used dealing computer prefixes therefore 4gb hard disk actually bytes . 41073741824 4294967296 1 giga g 230 10243 1073741824 1 mega 220 10242 1048576 1 kilo k 210 1024 units appendix 650 pid symbols 1 introduction electronics standard symbols represent components circuit schematics process control symbols represent elements processcontrol system . instead schematic call processcontrol diagram piping instrumentation drawing simply pid . symbols meanings standardized industry american national standards institute ansi instrumentation sys tems automation isa society . resulting standard called instrumentation symbols identification ansiisa s5.11984 r1992 . appendix presents overview standard including common elements . cases sim plified drawings prepared especially design phase show essential features system . finally however fully detailed drawing constructed true pid plant . 2 connecting lines standard specifies types lines used represent connections plant including process product flow lines interconnections instruments . figure 1 shows line definitions . necessary indicate pid exact nature lines . example dashed line represents electric signal pid would indicate nature signalfor example 4 20ma current 0 5v voltage . similar fashion would necessary specify nature data linkfor example 10mb ethernet lan line serialbit stream . solid line primarily used represent actual process product flow often bold line . plain solid line used denote operational control connections process steam heating . notations made pid explain nature line . appendix pearson prentice hall . rights reserved . pearson education inc. published appendix 5 process control instrumentation technology eighth edition . curtis d. johnson . copyright 2006 651 stand alone instruments accessible operator field location inaccessible operator behind panel shared display control computer function programmable logic controller plc figure 2 special symbols used instrumentation pid . n discretion user define although often used mo tor . computer may still carry letter designation define control loop supervision . numbers serve identify part overall plant instrument op erates . assignment numbers discretion user often loops numbered 100 101 forth instruments loop carry number . figure 3 shows typical instrumentation designations . reference figure 2 table 1 see symbols following meanings a. first letter p means pressure second letter r means recording unit third letter c means controller recording pressure controller located loop plant location 103. unit accessible operator probably panel control room . b. interpretation l level c control symbol computer located field loop plant location 330. c. event controller generally means plc z meaning position control accessible operator loop plant location 200. pid symbols appendix 653 process line connection process instrument supply electric signal pneumatic signal hydraulic signal capillary tube guided emsonic signal em sonic guided internal system link computer signal figure 1 pid signal process lines . 3 general instruments functions aspect standard defines symbols used various instrumenta tion needed measure control process plant . instrumentation includes sensors transmitters data converters controllers computers even pro grammable logic controllers plcs . figure 2 shows balloons rectangles hexa gons diamonds used denote instrumentation . notice line symbol means accessible operator panel control room . line means instrument located field perhaps control site accessible operator . dashed line means device inac cessible virtue located within equipment behind panel control room . generally symbol also contain combination letters numbers . letters serve shorthand way indicating purpose instrument system . table 1 shows assigned meanings letters depending upon first letter symbol subsequent letters . thus example designation fc would mean flow controller tt would mean temperature transmitter sensor trans mitter . first letter used plc instrumentation . note letters c g pid symbols appendix 652 table 1 pid element identification letters first letter subsequent letters analysis alarm b burner combustion c unspecified control controller unspecified e voltage sensor primary element f flow rate g unspecified glass viewing device h hand high current indication readout j power k time time schedule control station l level light low unspecified middle intermediate n unspecified unspecified orifice restriction p pressure vacuum point test point q quantity r radiation record recorder speed frequency switch temperature transmit transmitter u multivariable multifunction v vibration mechanical valve damper louver x weight force well event state relay compute convert z position dimension driver actuator d. part temperaturemeasurement system means converter converting 4 20 3 15 psi . unit accessible operator part loop plant location 203. math functions added element symbols presented figure 2 employment rect angle indicate math operation . figure 4 presents . many operations performed software computercontrol systems appear pid generally denote hardware implementation . example common example extraction square root convert pressure measurement flow data . pid symbols appendix 654 yz 200 prc 103 lc 330 b c 420 315 psi ty 203 figure 3 examples letternumber coding . x x x x fx x xy f x x figure 4 plc includes many math operations . pid symbols appendix 655 control valve motor actuator orifice plate conveyor spring opposed electric actuator venturi tube heat exchanger solenoid actuator pneumatic actuator figure 5 symbols final control elements . 4 actuators process elements last aspect pid elements part process . cludes control valves actuators control valves conveyors tanks forth . figure 5 shows common elements fall within category . many cases standard allows user pictorially represent specialized equipment process heaters pumps ways consistent common drafting practice . bubbles often used identify element terms control loop serves . figure 6 shows plant pid many symbols connections defined previous sections . pid symbols appendix 656 pt 104 tt 102 tc 102 psh 104 ft 100 fm 100 lt 101 py 101 pc 104 py 103 yp 104 yq 106 yp 104 cc 100 fr 100 fc 100 sp sp feed stock heat exchanger sp flare vent gas gas ip lc 101 420 315 psi figure 6 illustration pid chemical process . pid symbols appendix 657 derivations 1 differential amplifier chapter analog signal conditioning basic differential currents assigned . need find equation terms resistors put voltages . first let us apply kcl two nodes b. first basic design rule op amp circuits says currents op amp input terminals must zero left i3 i4 0 i1 i2 0 0 i3 i4 0 i1 i2 0 vout figure 1 op amp differential amplifier . differential amplifier circuit four different resistors node voltages line shown figure amplifier appendix 34 transfer function given equation 40. order derive result figure1 shows pearson prentice hall . rights reserved . pearson education inc. published appendix 6 process control instrumentation technology eighth edition . curtis d. johnson . copyright 2006 658 ohms law allows us express currents terms given voltages second rule op amp design tells us voltage across op amp input terminals . means . solve second equation substitute first equation . resultant equation solved terms needed . algebra get order realize differential amplifier stipulate . substituting previous equation gives familiar result 2 voltagetocurrent converter figure 39 chapter analog signal conditioning presents circuit linearly converts input produces voltage across load resistance given . objective solve equivalently terms input voltages resistances . three unknowns need three equations . equation node involve current op amp specified easy way . therefore select two nodes labeled node la beled . applying kcl using stipulation current op amp gives ohms law used express set equations terms voltages vin v1 r1 v1 v2 r2 0 i5 i4 0 i3 i5 0 i1 i2 0 vl v1 v2 vl v1 v2 vl vl irl v1 vout r2 r1 v2 v1 r4 r2 r3 r1 vout r4r1 r2 r1r3 r4 v2 r2 r1 v1 v2 v1 vout va vb r4 r3 r4 v2 vb va vb v2 vb r3 vb r4 0 v1 va r1 va vout r2 0 appear op amp terminals . load current common op amp design stipulation voltage across input terminals making op amp figure 2 withassignednodevoltagesandcurrents . notethatwehavealreadyimposedthe long op amp specifications exceeded . order derive result circuit redrawn equations 42 43. transfer function equation 42 independent load resistance voltage current driving load.therelationshipbetweenvoltageandcurrentisgivenin derivations appendix 659 since really want solve current substitute last two equa tions . last equation set easily solved terms first equation set solved terms using equation found expressed terms i. alge bra two substitutions give expressions substituted remaining equation set . lot algebra result provides expression terms input voltage resistances . expression written equation shows depends also complicated way var ious resistors value load resistance circuit connected . notice numerator complicated term contains difference . select resistors difference zero dependence eliminated . therefore selecting resistors r2r4 r1r3 r5 rl vin c1 r2r4 r1r3 r5 r1r3r4 r5 rld r2 r1r3 vin v2 v1 v2 r2 r1 vin r4rl r1 r1 r2 r4 r5 vin v1 v2 v1 vin v2 v1 r4rl r4 r5 v1 vl irl vl v1 r5 v1 r4 0 v3 vl r3 vl v1 r5 0 figure 2 voltagetocurrent converter . derivations appendix 660 figure 3 op amp proportionalintegral controller . equation current becomes 3 pimode op amp controller earlier saw one method using single op amp construct proportionalintegral mode controller . derive transfer function circuit first define nodes currents figure 3. stipulate current op amp input ter minals voltage across input terminals . therefore form equations relationship voltage across capacitor current capacitor given combining ohms law allows preceding current equations written terms voltage first equation easily solved terms . substituted second equation c dvout dt c dt r2 r1 b 1 r2 r2 r1 b 0 vb r2 r1 vb c dt vout vb vb r2 0 r1 vb r2 0 ic c dvc dt i3 i2 0 i1 i2 0 va 0 r2 r1r3 vin derivations appendix 661 figure 4 op amp proportionalderivative controller . simplifies somewhat order solve integrate equation eliminate derivative . algebra solving result second term right leave places relationship tween component values proportional gain integral gain seen explicitly . negative signs result inverting configuration circuit.au nity gain inverter used convert positive signs . 4 pdmode op amp controller figure 11 chapter analog controllers showed proportionalderivative con troller could implemented using single op amp inverter make sign right.analysis circuit performed using ci rcuit shown figure 4 showing currents nodes.as usual voltage across op amp input terminals current op amp inputs . application kcl two active nodes provides equations ohms law differential relation current voltage capacitor used express equations terms voltage . va r1 vout r2 0 va r3 c dt va va r1 0 i4 i3 0 i1 i2 i3 0 ki kp r2 vout r2 r1 r2 r1 b 1 r2c 3 0 dt v0 vout vout dvout dt r2 r1c dve dt 1 r1c 0 zero derivations appendix 662 second equation solved substituted first equation little algebra following rather complicatedlooking equation results rearranging algebra reduces equation noted derivativemode op amp circuit introduced necessary clamp response higher frequencies . circuit criterion found deter mining maximum frequency forming equation 2fmax r1 r1 r3 r3c 0.1 fmax vout r1 r1 r3 r3c dvout dt r2 r1 r3 r2 r1 r3 r3c dve dt r3 r1 r2r3 vout c dve dt r1 r2 c dvout dt 1 r1 vout 0 va r1 r2 vout va derivations appendix 663 664 internet resources appendix gives urls brief description web pages related process con trol instrumentation technology . pages may used information links many sites may much information topics interest . list exhaustive intended give reader start finding sites related process control instrumentation . reader also know web pages static whereas pages active may continue subsequent years . 1 magazines following web pages associated magazines related process industries . 1. sensors www.sensorsmag.com site general information sensor industry including new developments brief technical articles general information processcontrol technology . also extensive links manufacturers web pages specific information hard ware software found . 2. control www.controlmagazine.com actual online version hardcopy magazine . articles control measurement instrumentation . back issues archived also available online . site large list links manufacturers processcontrol hardware software relevant sites . 3. instrumentation control systems www.icsmagazine.com site provides extensive links manufacturers processcontrol hardware software organizations related process industries . information provided content latest issue hardcopy magazine . appendix pearson prentice hall . rights reserved . pearson education inc. published appendix 7 process control instrumentation technology eighth edition . curtis d. johnson . copyright 2006 665 4. instrumentation automation news www.ianmag.com site contains searchable database products related process industries . search result links web pages companies manufacture product . gen eral information new developments process industries included . 2 general information organizations following web sites related professional organizations interest processcontrol instrumentation industries . 1. instrumentation systems automation society isa www.isa.org isa formerly instrument society america primary professional organization working process control instrumentation . organization publishes jour nals provides training programs sponsors conferences . web site contains infor mation isa activities . 2. institute electrical electronics engineers ieee www.ieee.org ieee subsections practitioners working studying control systems data ac quisition signal conditioning areas related process control instrumentation . 3. general online resource www.automation.com site presents vast collection articles related automation process control strumentation . links also provided seminars job placement upcoming events even directories products suppliers . 3 signal conditioning following web sites integrated circuit ic companies produce hardware software related analog digital signal conditioning . many cases addition providing information online products sites contain application information even tutorials . major ic companies similar web sites . 1. national semiconductor www.national.com addition downloadable specifications products site vast library downloadable ic applications design notes schematics suggested component values . includes op amps vf converters comparators adc dac forth . 2. freescale www.freescale.com freescale former semiconductor division motorola . site information vast array semiconductor products . also good explanations technolo gies involved application notes . 3. burrbrown www.burrbrown.com site information burrbrown line semiconductor products appli cation notes . 4. linear technologies www.linear.com web page last count 189 downloadable design notes aspects analog digital signal conditioning using course linear technology ics . internet resources appendix 666 web page great many tutorial educational pages analog digital sig nal conditioning filters many related topics . experiments even described conducted aid learning . cyberresearch shopping source scientists engineers . provides access vast array technical parts equipment supplies . basic url simply www . cyberresearch.com used access overall site . specific url given provides access useful array tutorials data acquisition mo tion control . 4 sensors 1. temperature temperature world www.temperatureworld.com great allaround site temperature temperature measurement . contains good explanations information various measurement technologies . links many temperaturerelated sites included . 2. temperature national semiconductor www.national.com site contains line solidstate temperature sensors specifications applica tion notes . 3. temperature alpha www.alphasensors.com web pages devoted alpha line semiconductor temperature sensors cluding thermistors . application notes background measurement technique also included . 4. temperature pyrometry www.wintron.com site contains good review pyrometric terms concepts includes descrip tions line infrared pyrometers . 5. strain gauges blh www.blh.de one founding companies strain gauge technology . excellent web pages devoted sg concepts application notes product specifications . 6. lvdt macrosensors schaevitz www.macrosensors.comprimerprimer.htm site provides tutorial lvdt design application includes information applications descriptions product lines . 7. lvdt micro strain www.microstrain.com web page presents product line miniature subminiature lvdts along application notes . 8. pressure entran www.entran.com site devoted product lines pressure sensors load cells accelerometers sensors . good list applications papers included illustrate others used sensors . 9. pressure kavlico www.kavlico.com manufacturer pressure displacement sensors presents web pages product specifications application notes . 5. hewlett packard www.tmo.hp.comtmoiiaedcornerenglish 6. cyberresearch www.cyberresearch.comcontentarticlestutorialstutorials.aspx internet resources appendix 667 10. globalspec www.designinfo.com site functions aid selection equipment engineers technologists . includes many types sensors . addition excellent descriptions technol ogy associated sensors measurement . 5 programmable logic controllers 1. plc tutor www.plcs.net web site excellent tutorial construction ladder diagrams appli cation programmable logic controllers . animation graphics used clearly show ladderrung activations related applications . 6 controllers control systems following web pages companies organizations associated analog digital controllers control systems general tuning control loops . 1. honeywell www.honeywell.com web site includes descriptions great variety hardware software associated process control instrumentation . sensors actuators included con trol valves controllers . lot application information great deal product data included . 2. omega engineering www.omega.com vast web site multifaceted worldwide company associated process industries . includes many downloadable files application notes design aids product information . 3. foxboro www.foxboro.com good generalpurpose web site company manufactures digital analog con trollers well many processcontrolrelated products . catalogs downloaded . 4. valves k controls www.kcontrols.co.uk manufacturer control valves actuators free downloadable guide valve actuator selection application . 5. tuning expertune www.expertune.comtutor.html company produces software tuning control systems presents excellent tutorial control system tuning . graphs animation used enhance educational presentation . 6. tutorial control system chem.engr.utc.edu web site quite complicated presents excellent set online experiments control loops well operation tuning . user select gains observe results . 7. designinfo www.designinfo.com web site contains vast database process control instrumentation vendors products . specify type characteristics hardware need online search engine provide list possible vendors products . application guides notes also included . internet resources appendix 668 references bateson introduction control systems technology 7th edition prentice hall 2002. bucek control systems prentice hall 1989. carr elements electronic instrumentation measurement 3rd edition prentice hall 1996. cassell microcomputers modern control engineering reston 1983. hunter automated process control systems 2nd edition prentice hall 1987. jacob industrial control electronics prentice hall 1988. kilian modern control technology west 1996. otter programmable logic controllers prentice hall 1988. tompkins webster interfacing sensors ibm pc prentice hall 1988. pearson prentice hall . rights reserved . pearson education inc. published references process control instrumentation technology eighth edition . curtis d. johnson . copyright 2006 669 glossary accelerometer sensor measures acceleration object attached . actuator part final control element translates control signal action fi nal control device process . adc analogtodigital converter converts analog input electric voltage current proportional digital signal . alarm process control indicator process variable exceeded preset limits . bellows pressure sensor converts pressure nearly linear displacement . binary number representation system base 2. working system digital computers . bode plot graph transfer function versus frequency gain often decibels phase degrees plotted frequency log scale . bourdon tube pressure sensor converts pressure displacement . device essentially coiled flattened tube tends straighten pressure applied . cascade control control system composed two loops setpoint one loop ner loop output controller loop outer loop . controlled variable process variable regulated processcontrol loop . controller element processcontrol loop evaluates error controlled variable initiates corrective action signal controlling variable . controlling variable process variable changed final control element command controller effect regulation controlled variable . cyclic condition either steadystate transient oscillation signal nominal value . dac digitaltoanalog converter converts digital signal often computer pro portional analog voltage current . das dataacquisition system interfaces many analog signals called channels computer . switches controls adc included system . ddc direct digital control computer performs functions error detection con troller action . derivativecontrol mode controller mode controller output directly proportional rate change controlled variable error . dp cell pressure sensor responds difference pressure two sources ten used measure flow pressure difference across restriction flow line . dynamic variable process variable change moment moment unspeci fied unknown sources . error algebraic difference measured value variable ideal value . pearson prentice hall . rights reserved . pearson education inc. published glossary process control instrumentation technology eighth edition . curtis d. johnson . copyright 2006 670 floatingcontrol mode controller mode error controlled variable causes output controller change constant rate . error must exceed preset limits controller change starts . foregroundbackground control system uses two computers one performing control functions used data logging offline evaluation performance financial op erations . either computer able perform control functions . frequency response method method tuning processcontrol loop optimum operation proper selection controller settings . method based study frequency sponse open processcontrol loop . gas thermometer temperature sensor converts temperature pressure gas closed system . relation temperature pressure based gas laws constant volume . hardware used context computers hardware refers physical equipment sociated computer e.g . ics printed circuit boards cables . hex number representation system base 16. hex number system useful cases computer words composed multiples 4 bits i.e . 4bit words 8bit words 16bit words . hysteresis tendency instrument give different output given input depending whether input results increase decrease previous value . integralcontrol mode controller mode controller output increases rate pro portional controlled variable error . thus controller output integral error time gain factor called integral gain . ionization gauge pressure sensor based conduction electric current ionized gas system whose pressure measured useful low pressures e.g . 103 atm . ip converter adevice linearly converts electric current gas pressure e.g . 4 20 mainto 3 15 psi . laser stands light amplification stimulated emission radiation . source em ra diation generally ir visible uv bands characterized small divergence co herence monochromaticity high colimation . linearity closeness curve relating two variables approximates straight line . usually expressed maximum deviation actual curve bestfit straight line . load process load term denote nominal values variables process af fect controlled variable . load cell sensor measurement force weight . action based strain gauges mounted within cell force beam . lvdt linear variable differential transformer measures displacement conversion lin early proportional voltage . microcomputer acomputer based use microprocessor integrated circuit . entire com puter often fits small printedcircuit board works data word 4 8 16 bits . microprocessor largescale integrated circuit functions computer except memory inputoutput systems . ic thus includes instruction set alu registers control functions . multiplexer device allows selection one many input channels analog data com puter control . device often integral part das . glossary 671 nozzle particular type restriction used flow systems facilitate flow measurement pres sure drop across restriction . nozzleflapper fundamental part pneumatic signal processing pneumatic control opera tions . basically device converts displacement flapper pressure signal . octal number representation system base 8. octal system useful computer sys tems digital words multiples three bits i.e . 3 bits 6 bits 9 bits 12 bits . orifice plate type restriction used flow systems facilitate measurement flow pressure drop across restriction . pid stands piping instrumentation drawing primary schematic drawing used laying processcontrol installation . pd designation controller operating proportionalderivative mode combination . photoconductive cell sensor converts intensity em radiation usually ir vis ible bands change cell resistance . photodiode sensor pn diode junction exposed variations light intensity caus ing variations diode reversebias current . photovoltaic cell sensor converts intensity em radiation usually ir visible bands voltage . pi designation controller operating proportionalintegral mode combination . pi pressuretocurrent converter linearly converts signal pressure range signal current range e.g . 315 psi 420 . pid designation controller operating proportionalintegralderivative mode combi nation . pid also called threemode controller . pirani gauge pressure sensor based measurement resistance heated wire func tion wire temperature function gas pressure useful primarily pressures less one atmosphere . pneumatic systems employ gas usually air carrier information medium process evaluate information . process system composed dynamic variables usually involved manufacturing pro duction operations . processreaction method method determining optimum controller settings tuning processcontrol loop . method based reaction open loop imposed disturbance . proportional band pb change input proportionalcontroller mode required pro duce fullscale change output . thus 10 change error causes 100 change controller output pb 10. proportionalcontrol mode controller mode controller output directly propor tional controlled variable error . pyrometer temperature sensor measures temperature em radiation emitted ob ject function temperature . quarter amplitude processcontrol tuning criterion amplitude deviation error controlled variable following disturbance cyclic amplitude peak onequarter previous peak . range region limits within variable measured . thus tempera ture measured range 20c 250c defines range . see also span . rate action another name derivativecontrol mode . reset action another name integralcontrol mode . glossary 672 resolution minimum detectable change variable measurement system . rotameter flowmeasurement system based proportionality rise float tapered tube arranged vertically placed flow system . rtd temperature sensor provides temperature information change resistance metal wire element often platinum function temperature . selfregulation property variables process adopt stable value given load conditions without regulation via processcontrol loop . sensitivity ratio change output magnitude change input magnitude steadystate conditions measurement device . sensor transducer converts physical variable pressure temperature flow forth analog quantity often electrical nature . setpoint desired value controlled variable processcontrol loop . software used context computers software refers programs provide instructions computer operations calculations performed . span algebraic difference upperrange value lowerrange value . thus temperature range 20c 250c span 230c . see also range . strain gauge sensor converts information deformation solid objects called strain change resistance . supervisory control processcontrol installation computer oversees operation control systems provides setpoint processcontrol loops selves still analog . thermistor temperature sensor constructed semiconductor material tem perature converted resistance usually negative slope highly nonlinear . thermocouple temperature sensor voltage produced nearly linearly dif ference temperature measured known reference . threemode controller another name pid controller . time constant number characterizing time required output device reach ap proximately 63 final value following step change input . transducer device converts variation one variable variation another variable example current change voltage change . transfer function response element processcontrol loop specifies put device determined input . transmitter process control device converts variable form suitable transmis sion information another location e.g . resistance changed current propagated wires control installation . ultimate cycle method see zieglernichols method . vapor pressure thermometer temperature sensor pressure vapor closed system gas liquid function temperature . venturi type restriction used flow systems facilitate measurement flow pres sure drop across restriction . zieglernichols method method determining optimum controller settings tuning processcontrol loop also called ultimate cycle method . based finding propor tional gain causes instability closed loop . glossary 673 674 index page references followed f indicate illustrated figures photographs followed indicates table . 5 555 timer 161162 absorption 321 336 341 accelerometer 47 241 264 268275 296 670 accuracy 1 2630 4041 45 47 66 105 107108 124 179 197 212 222223 230231 339340 351 567 acquisition time 158 164 166 active filters 58 addition 3 216 246 280 336 376 418 425 461 521 576 626 666 668 address 104 131 142 159 163165 167 176 180 429 446 451 456 458460 559 575 578 583 585586 595 address decoder 164 algorithm 181182 364 562 564 566567 591592 612 algorithms 562 566 593 612 aliasing 170 alpha 667 amperes 369 amplification 56 62 85 96 216 218 335 340 359361 366 406 671 amplifier 17 47 50 5556 5860 62 8587 90100 103104 106108 111115 124 153 216 218 224 229230 234 243 247 275 324325 329 349 356 362363 365366 379 381 383 397 400 407 520 522 525 530 543544 547 608 658659 differential 17 62 86 9499 106107 112114 216 218 224 229230 247 329 356 522 530 658659 instrumentation amplifier 55 9498 112 218 inverting 8687 9092 97 100 108 112 224 230 234 243 275 324 530 543 isolation 96 linear 56 99 107108 234 243 247 365 379 381 383 397 407 logarithmic 103104 noninverting 8687 90 9394 112 230 operational 85 520 power 62 85 9092 97 107108 113 115 124 324325 349 363 365 379 381 383 400 407 522 small signal 216 summing 87 9293 97 106 112113 349 525 543 608 transistor 85 379 381 amplitude 1314 3940 46 53 58 81 103 110 115 179 195 219 246248 270 279 293 296 374 388 390 482 516 518 530 615616 618619 621622 627629 631 637638 643 646 672 analog 1 6 1419 24 28 31 40 4547 55121 123125 133 137 139 141 143 147148 150 153 158165 168 175176 180 221 234 294 339 359 361362 364 406 444 475476 479 519531 533552 553 559 564 574578 580582 587 593 598 611 659 662 666668 670671 673 analog multiplexer 164165 analog quantity 673 analog signal 55121 164 234 294 362 520 659 analogtodigital ad conversion 133 analogtodigital converter 159160 670 gate 130 134 371 angle 22 290 316 319 370371 388 390 angstrom 312 anode 334335 353 369 372 antenna 217 aperture time 158 applications 1819 39 45 55 60 62 64 67 69 73 85 8890 96 110 123124 129 140 143 148 152 163 197 205206 209210 219 221 223 225 254 256 268 272 274 280 292 309311 319321 325 335 339340 345346 351 361 365 369 376 379 383384 387389 400 402 405 407 417418 444 458 485 491 499 506 514 554 573 586587 593 606 609 666668 electronic circuits 129 electronic systems 123 flashlight 346 351 assembly language 142 168 174 598 atom 190 195 342343 atoms 190 194195 207 251 342344 351 attenuation 56 7879 92 94 96 111 average value 42 b bandpass filter 8283 bandwidth 8990 637 base 22 125127 134 137 139 145 165168 174 180 235 268270 296 321 332333 354 379381 383384 563 650 670672 numbers 125126 139 time 22 165168 180 235 379 383384 671 base address 167 180 base current 332333 381 383 battery 327 374 449 beta 374 dc 374 bias 56 8990 97 106 330 363 370 374 672 base 672 diode 97 330 370 672 forward 370 374 reverse 330 370 672 zero 56 8990 370 bias current 89 672 bias voltage 90 97 363 bidirectional port 598 binary 1416 31 4546 124127 129 131 137140 143 145146 149150 160 168169 173176 178 180 299 429 431432 445 461 464 562563 582 591 595 650 670 arithmetic 45 445 data 1416 124125 131 168 174 176 178 180 445 461 562 582 591 595 670 digit 16 125 127 461 division 125 461 fraction 137 143 145 169 176 563 information 15 31 124125 137 174176 562563 595 multiplication 127 461 number 1415 46 124127 137 139140 143 145 169 173176 178 562563 591 650 670 point 129 562563 sequence 126 131 168 429 431432 445 461 464 subtraction 461 system 1416 31 45 125126 129 131 149 168169 173 176 178 180 299 429 431432 445 464 591 595 650 670 bipolar 85 90 92 138 140 145147 154 166 178180 247 294 332 353 377 379380 384 408 bipolar junction transistor bjt 379380 bit 1516 28 31 4546 66 125127 137139 141 143150 152154 157 159160 162163 165166 168170 178181 184 229 234 294295 298 300 353354 365 407 432 445 461 480481 563 583 587591 595597 651 671 block diagram approach 8 bode plots 89 626 632 635636 640 boolean algebra 127128 432 breakdown 18 191 369 616 bubbles 35 656 buffer 132 bus 1921 132133 141142 147 158159 163165 172173 554 560 562 581589 address 142 159 163165 583 585586 control 1921 132133 141 147 163164 172173 554 560 562 581589 external 132 562 internal 141 147 582 local 1920 554 582 byte 587 c calculators 40 candela 22 319 capacitance 78 161 input 78 161 output 78 161 capacitor 61 7476 7880 8283 101102 110 155157 161162 179 243 294 371 373 378379 407408 530531 551 661662 charging 371 373 378 408 fixed 78 101 294 379 530 trimmer 75 78 variable 61 75 161 179 407 capacitor charging 408 capacitors 58 75 78 81 83 85 111 248 293 547 series 78 measurement 58 75 111 248 standard values 78 transients 58 capacity 76 161162 202 243245 249250 293294 383384 485 492 647 carbon 257 345 carrier 114 257 287 366 587588 672 carry 82 112 114 131132 195 202203 311 320 554 562 584 586587 653 propagation 311 cascade 34 78 605 609611 636637 670 cascading 78 cathode 334335 369 372 374 cdrom 163 cell 48 181 241 262264 281 285286 289 299 321329 349 352353 355356 492 547 670672 cells 262264 320 323326 329 348 353 355 667 photoconductive 320 323 353 primary 264 solar 325 355 cgs system 649 channel 114115 164167 180 276 297 364 383 447 451 454 456 562 597 characteristic curve 369 charge 327 336 353 373 500 583 647 chips 44 circuit analysis 88 532 clear 63 105 125 155 192 203 264 270 337 433 483 495496 506 557 567 620 clock 150 299 305306 448 closed loop 207 209 389 630 673 cmrr 95 112 117 coaxial cable 585 588 coding 31 591 655 coherent 319 344 351 coil 201 242 245246 273 368 385387 389 435 452 cold junction 217 collector 134135 161 332333 379381 383384 558 collector current 332 379 381 383 collector resistance 333 common 1 7 13 19 2227 32 36 42 5556 58 6162 8586 89 92 9597 105 109 124126 135136 138 142 145 147 149150 152 161 164165 173 191192 205 210 217219 222223 226 228 675 231232 242245 248 250251 254 257 259260 262 268269 276280 284285 287290 310311 316 320321 323 329 339 341 361362 365 369 374 379 381 384 386 391 393 406 418 424 432 438 446447 450 455 458 484485 487 493 502 542 554 584 586 607 614 626 632 647648 650 651 654 656 659 common mode 95 common mode rejection 95 commonmode 95 218 gain 95 input impedance 95 input voltage 95 rejection 95 218 rejection ratio cmrr 95 commonmode gain 95 commonmode input 95 commonmode rejection 95 218 commonmode rejection ratio cmrr 95 communication systems 450 581 communications 576 583 commutator 386 comparator 123 133136 148 150151 177178 226227 229 235 298 324325 348349 353 523524 554 557558 593 599 compensation 67 9091 96 109 113 201 216217 223224 234 256260 262 281 295 299 input offset voltage 90 complement 138 176 computers 2 7 14 16 1821 3435 5758 123124 126 131 133 138 143 158 163 168 223 444445 450 519 553554 559 561563 573574 580582 584586 593 650 652 670671 673 conductance 647 conduction band 195 203 320321 conduction electron 195 conductivity 200201 248 320 conductors 210 control bus 21 control element 79 16 19 45 172173 359361 365 384 393 397398 400 406407 425 434 475 481483 487489 527 538 544 553 562 564 581 585 610 626627 670 control unit 410 controller 4 69 14 16 1921 24 26 3436 45 47 49 168 170 181 360362 396397 405406 411 417419 421 435 443445 447451 464 466 475518 519539 541550 552 553554 557560 562 564 566 569 572573 576 578 580 582 590 593 595596 599 606610 617 624 626634 636637 640 643 652654 661662 670673 conversion 6 19 23 51 55 58 61 105106 109 133 139 141 145 147148 150159 161166 168 170 178179 204 234 242 276 279280 289 310 312 360363 366369 406 414 446 479 538 543 575 595 648649 671 conversions 15 2223 45 49 55 57 109 148 152 254 280 361362 364 575 converter 8 17 25 28 35 99101 106 112113 133 137141 146150 153154 159161 163 165 180 328 331 368 403 406 409410 414 527 654 659660 670672 converters 1516 49 58 110 123 133 137 143 150 158 368 652 666 copper 211 219 234 254 295 585 core 245248 273 294 296 coulomb 353 647 counter 150151 159160 162 179 298299 306 387 456 458 binary 150 160 299 coupling 245 critical frequency 7479 81 8384 111 156 158 184 critical temperature 182 612 critical value 74 554 576 579 crystal 150 261 273274 339 449 current 1 69 17 19 22 2426 3435 4041 4548 51 5758 61 6471 76 8793 99101 103105 108113 134 161 195 202204 207 209 223 225226 228 242 244 273 284 294 301 324 326328 330335 341342 353354 360363 365 368372 374376 379 381390 398 403 406407 411 414 426 447 452 479 481 483 485 515 520522 527 547548 559 572 578 584 588589 651 654 659662 670673 bias 8990 330 363 370 374 672 constant 26 40 45 4748 51 101 103 105 202 207 209 223 226 244 284 301 324 327 335 382383 386 515 522 547 671 673 conventional 69 341 dark 48 324 331 electron 195 203 326 334 342 353 holding 372 hole 326 induced 273 341 389 load 2526 58 100 105 110 112 327328 331 333 353 370371 374376 379 382 398 407 527 659660 671 673 measuring 6 40 51 209 301 rotor 388390 shunt 58 387388 source 58 69 90 105 109 134 228 327 331 341342 354 370 376 379 383 386 447 522 671 switching 112 294 369 371372 374 376 379 381384 388 390 current gain 335 353 374 379 381 current source 69 386 currenttovoltage converter 100101 328 331 cutoff 78 157 cutoff frequency 78 157 cycle 159 172173 219 370371 373375 377378 382 385 399 408 448 466 486 491 586 630 641 643 646 673 flipflop 557 damped 12 39 269 618 damper 654 dark current 331 data 1 1416 2021 2425 35 4344 48 58 61 76 7879 8182 110112 114115 123125 131132 141142 148 155 158 163168 170172 174 176181 199 323 364 445446 450 461 515 519 553 559 562 569570 573576 581588 591593 595 651652 654 666668 670671 data acquisition 123 148 166 180 666667 data bus 141 158 165 data transfer 132 db 7779 81 8385 95 111 115 117 156 179 625 632 634 643 646 dc circuits 374 dc motor 359 361 386387 398 408 dc power supply 381 decimal numbers 175176 decoder 164165 depletion 325 derivative 102 153155 245 264 266 372 475 496 500501 506509 511512 514516 519 521 529531 533535 537 541 548 550 564 569571 593 596 626 628 630632 634635 640641 662663 670 672 sinusoidal voltage 154 530 detector 7 9 45 49 6266 6870 110 194 200 231233 247 262 274 294 309 321 338339 346 348 351353 397 419420 456 479 521522 547 549 552 598 621622 diac 377378 408 dielectric 243244 248 air 248 dielectric constant 243244 248 difference 1 8 10 1718 26 4142 6264 68 76 8687 89 9395 169 180 192 202 207210 213214 216 220221 224 227 232 236 260 272 279 281 289 297 299 326 350 353 356 359 365 369 387 389 393 401402 409 420 451 480 493 520521 524 546 564 567 570 572 605 635 660 670 673 differential amplifier 17 62 9598 106107 112114 216 218 224 229230 329 356 522 658659 differential amplifier circuit 658 differential gain 95 9899 differential input 86 differential voltage 246 digital 1 6 1420 28 31 35 40 42 45 55 58 60 123187 221 225 234 299300 339 354 359360 362 364365 390 406407 409 432 444 446447 475476 480 538 553555 557 559 572 574 580584 588590 593 595 598 612 666668 670 672 digital communication 581 584 digital electronics 123124 128129 175 432 554 557 digital multimeter 40 digital signal processing 123 digitizing 170 176 diode 97 103 109 115 223 243 325326 330331 333334 354 369370 373 377 379 408 546 672 forwardbiased 369370 laser 354 optical 325326 330331 333334 354 pn junction 325326 330331 rectifier 369 reversebiased 369 symbol 369 377 379 diodes 17 85 115 223 247 331 371 376 390 characteristics 85 discharging 373 disk 163 165 650 dissipation 105 108110 113 115 202 206207 223 226 233236 294 301 324 340 359 365 372 381383 547 597 division 125 461 666 dmin 590 domain 589 doping 205 329 download 450 drain 36 383 459 droop 157 179 184 286 dualslope adc 150152 176 duty cycle 374375 382 385 e effective resistance 90 370 534 efficacy 647 efficiency 575576 614 electrical length 321 electrical noise 216218 electrical safety 446 electrode 335 electromagnet 387389 391 electromotive force emf 207 electron 195 203 261 314 320 326 334 342343 353 conduction 195 203 320 326 free 195 203 valence 195 203 320 electronhole pair 326 electronic 7 14 67 85 109 123124 128129 141 155156 175 209 221 242 244245 274 278 280 284 292 350 361 363 366 370 376 379 406 426 444 448 475 519521 523 525 538 542 547 637 669 electrons 195 203204 207 284 320321 325326 334335 342343 353 element 1 69 16 19 28 34 36 38 45 52 5859 67 85 103 133 165 172173 190 203 216 225 234 256257 262 267 278 280281 322 324 333 359361 365 368 384 393 397398 400 406407 424426 434 452 454 475 481483 487489 521 527 538 544 553 559 562 564 575 581 585 610 619 621 626627 637 654 656 670 673 emitter 134 332 336 379381 384 emitter current 134 332 379 energy 67 23 47 189195 203204 207 219 231 309310 312316 319320 325326 334339 342344 351 359 361363 368369 371 388 396 406 434 478 647649 potential 207 325326 334 energy conversion 6 368 energy diagram 342 energy gap 204 320 energy level 342 enhancement 383 624 envelope 335 equality 63 equivalent circuit 59 6465 80 157 327 error 713 1720 2628 30 3739 4546 49 53 60 87 97 105 113114 121 153 166169 200 215 223 227228 232234 236237 676 239 281 295 300 303 340 352 356 397 475 478480 482484 487509 511516 520522 525530 532539 543552 553 562567 569570 572 585587 590 592593 595596 598599 601 604 609 619624 637 670672 error correction 168 585586 error detection 8 1920 522 549550 553 670 error detector 7 9 45 397 479 521522 547 549 552 598 621622 error voltage 17 356 522 525 528 530 544 547548 ethernet 450 582 586 589 651 event 5 11 227 235 417421 426 428429 432433 438 443444 451 460461 464 501 578 653654 exponent 139 f factoring 29 falling edge 147 159 farad 647 feedback 9 25 58 67 8687 89 9192 94 101 103104 108 115 136 148 227 234 243 274 281 324 327 329 359 397 538539 550 553 559560 562 576 581 584 621623 626 negative 8687 91 101 243 622 positive 8687 feedback resistor 94 136 329 fiber 20 398 585586 588589 fiber optics 20 field 1922 36 91 283 291 365 386389 581582 652653 filter 7 55 7484 111112 156 180181 247 339 390 588 active 55 83 bandpass 8183 111112 bandreject 8284 highpass 55 7682 111 lowpass 55 7476 78 8182 111112 156 notch 8384 112 power supply 588 filters 58 74 7883 85 110 114 340 667 passive 58 81 83 85 110 fixed resistors 67 7071 78 flipflop 557 557 floatingpoint number 563 flow control 3436 402 404 499 559 flow rate 25 36 4849 177 181 285290 298299 360 398 400404 407 409410 421422 476 479 481483 492 500 573 576 606607 609610 612 654 flux 245246 389 607 647 loop 627 forward current 371372 374 forward voltage 115 247 370 372 376 381 383 fractional number 137 144 564 frequencies 61 74 76 8185 110112 114 125 162 172 270 516 530531 624 634 663 band 8185 111112 172 natural 270 resonant 270 frequency 3940 56 58 6061 67 7479 8184 8990 105 111112 123 154163 170173 176 178179 184 195 219 265266 269275 294 296 298 305 309314 318320 326 351 371 374 379 388390 410 414 448 516 518 530531 534 562 585 588 605 621625 632635 637 647 654 663 670671 3 db 77 81 8384 156 179 carrier 588 center 319 critical 7479 8184 111 156 158 178 184 difference 76 89 272 326 389 605 635 670 intermediate 654 motor 58 67 77 265 296 388390 410 nyquist 172 oscillation 39 269 298 310 622624 637 670 radio 310313 320 585 sum 158 621 unity gain 8990 624625 632 634635 frequency conversion 161 310 frequency converter 161 frequency response 56 89 605 632 671 frequency spectrum 105 function 2 4 6 1819 2632 34 3639 4142 4751 56 59 63 66 74 77 81 8688 90 92 9596 9899 103 105108 110 113 136 139 143 154 168 170 177 179 195196 200201 205 207 210 223 245 248 264 267 294297 301 318 320 326 331 333 337 340 351 359360 363 383 388 402403 406 408 417 425 436 439 451 456 458 476 478 482 485 487 498 502503 506 515 521 528530 542 544 546547 576 578 580 586 593 605 608 612 615 619 621622 626 637638 640 653 658 661 670 672673 g gain 17 47 50 5659 8799 106107 112 114115 124 152 190 203 216 224 229231 274275 292 295 334336 353 363 365366 374375 379 381 407 493494 496498 500502 511 513515 525535 538540 542546 548 550 564 566 568569 571 582 593 595596 605 608 621622 624626 628 630635 637639 641 643 646 662 670671 673 commonmode 95 openloop 87 8990 605 621 624626 637638 641 643 gain margin 605 632 634 637 639 643 646 galvanometer 62 6467 110 gate 130 134 369372 374377 383384 556 gauge factor 256257 261 295 generator 112 247 294 407 469 signal 112 247 294 407 germanium 321 329 339 glass 216 222 311 335 339 341 654 gold 191192 ground 8586 9495 224 229 267 281 283 353 522 549 grounding 83 85 218 h handshaking 148 hard disk 650 hardware 21 132 163 178 180181 417 422 424 426 428 433 435436 438 445 450 460461 464 553 559 569 580 582 592 598 654 665666 668 671 heat 1718 52 202 223 235 237 284 336 339341 363 365 399400 461 467 473 476 478 486 606607 612 656657 heat dissipation 340 365 helium 190 345 hertz 82 266 310 389 647 hertz hz 266 310 highpass filter 55 7677 81 111 highpass filters 78 hit 270 hold 123 132 155158 165 179 190 376 383 559 holding current 372 hole 261 326 337338 393 465 horsepower 648 horsepower hp 648 hydrogen 190 232 hysteresis 1 17 30 123 135136 177178 219 226227 411 484 554555 557 671 ic 85 8990 92 98 133 140 148 156 159 161163 217 247 262 294 333 379380 382 384 661 666 671 ieee 666 impedance 56 5862 64 6869 73 7880 8589 92 9496 98 105113 132 155 180 210 225 232233 274 384 530531 541 commonmode input 95 differential input 86 impedance matching 58 109 impedances 7172 80 86 88 106 implementation 86 124 130 175 339 456 475 484 512 519520 523 525 532 536538 547 553554 559 568 573 593 598 654 index refraction 311 351 indium 329 inductance 243 245 647 inductors 58 81 83 inequality 143 531 infrared 309310 313 319 323 331332 336 338 667 infrared light 309310 313 input 24 7 12 16 18 2628 3031 34 3640 50 54 5559 62 64 7481 85103 105109 111112 115116 123 131134 136138 140141 143159 161 163168 173175 177182 184 186 217 227 229230 233 269 272 275 282 295 298 324 327 338339 360361 363366 384385 390 395397 407 409410 418419 421422 425 428432 435438 442 445446 448 451 453454 456 458464 475476 478 483 488 490 512515 520 523524 526 528536 538541 543550 557 562565 572 575 578 583 587588 590593 595 597 601 604 606609 621622 637 658662 670673 input bias current 89 input impedance 56 62 64 7880 88 92 9496 98 105106 108 111112 155 233 input offset current 8990 input offset voltage 8990 input resistance 59 92 103 157 179 input resistor 101 109 instance 230 348 instruction 158 174 562 575 595 671 instrumentation 1 33 35 55 91 9498 112 123 189 218 241 309 313 319320 327 359 417 475 519 553 605 647 651653 658 665666 668 669 670 672 instrumentation amplifier 55 9498 112 218 instruments 40 42 62 273 350 651653 insulators 204 integer 139 144145 168169 593 integrated circuit 1 19 58 85 97 140 147148 223 247 281282 666 671 integrated circuit ic 85 140 148 247 666 integrated circuits ics 85 217 integration 19 101 151 176 225 274 496 502503 519 527528 533 540 566568 591592 596 628 integrator 101102 112 150151 275 528 547 interfacing 6 21 55 669 internal resistance 59 65 235 237 327328 352 internet 45 665668 interrupt 164 166 370 inversion 173 592 inverter 93 106 130131 390 524 532533 662 inverting amplifier 8687 9092 100 108 112 234 243 275 324 530 543 inverting input 86 ionization 284 671 ip addressing 582 isolation 96 132 225 j joule j 23 junction 68 208210 212213 216218 224 232233 235 325326 330333 379380 547 672 junction temperature 210 212213 217 233 k kelvin 22 189 191193 221 231 key 45 170 213 216 243 kilo k 650 l language 142 168 174 181 185 562 596 598 614 laser 309 318319 340341 343346 348351 353354 671 lasers 310 345 latch 141 159 164 352 434 438439 442 453 459 lcd 47 449 leakage 540 level sensor 48 50 583 library 666 light emission 342 light intensity 56 162 181 320 326327 330333 351355 468 549 672 lighting system 542 linear 25 3132 51 5657 73 99 101102 105 107108 116 141 197200 207 209 212 219 223 227 231234 237 242243 245 247248 253 256 268269 273 279280 283284 294 303 328 358 365 368 379381 383 397 403 406407 410 481 485 493 495 550 604 621 625 666 677 670671 linear equation 25 32 108 231 485 linear region 253 linear variable differential transformer lvdt 245 linearity 3032 73 105 113 178179 210 243 248 253 295 297 320 354 356 476 671 liquidlevel control 485 load 2526 5859 81 100 105 107 110 112 176 235 237 241 260 262264 285286 299 306 327328 331 333 353 364 370371 374377 379 382 394 398 407408 434 458 475 477478 492 494496 499500 502503 506 512 514 527 595 606607 610 615617 659660 667 671 673 load cell 241 262263 285286 299 671 load current 328 659 loading 5861 7576 7882 105106 110 176 232 595 loading effect 80 local area networks 20 450 locked 165 log scale 624 670 logarithm 74 76 104 logarithmic 103104 327 logarithms 139 144 logic 6 18 21 3435 124 128133 140141 143 147148 161 176177 298299 355 417418 443446 452453 456 465 554557 593 595 652653 668 669 logic gates 555 logic level 132 logic operations 445 loop 1 89 1314 19 21 28 3436 42 4546 5556 58 68 87 8990 103 165 168 207 209210 218 289 339 384 389 398399 475476 478479 482 498 520 537538 542 547 559562 573 575577 593 605646 653654 656 670673 loop gain 87 8990 622 624625 lowpass filter 7476 81 112 156 machine language 562 magnetic field 291 386389 magnetic flux 245 magnetic tape 575576 magnitude 7 14 56 68 76 90 153 210 214 265 314 323 368 488 493 530 618619 637 673 mean 27 29 40 4245 48 56 91 169 172 372 426 434 511 520 553 562 615 622 652 mega 650 memory 158 174 429 444 448450 461 559 650 671 nonvolatile 559 readonly 450 559 memory address 429 metric prefixes 24 650 microprocessor 7 19 124 158 163 445 559 562 671 microstrain 667 modem 163 modulation 589 modulus 253254 263 motor speed control 361 369 398 multimeter 40 multiplexer 164165 180 562 575576 578 593 595 597598 671 multiplexer mux 164 multiplication 127 144 334 461 519 multivibrator 159160 n nand gate 130 natural 2 10 3940 189190 219 226 269275 296 298 313 432 467468 482 493 576 618 626 natural frequency 3940 269275 296 298 negative resistance 608 newton n 23 nitrogen 191 221 node 658659 noise suppression 557 noise voltage 61 218 noninverting amplifier 9394 noninverting input 86 94 nonlinearity 57 73 105 117 162 226 248 515 nonperiodic 274 nonvolatile memory 559 nucleus 342 null 6373 98 110 114 201203 205 228 231 258260 294295 301 324 nyquist criterion 172 octal numbers 126 offset error 494496 506507 527 534 547 551 offset voltage 6568 7172 8990 94 98 111 113114 141 181 228229 257 259 262263 293294 296 ohms 31 88 322 327 479 open circuit 58 62 132 381 446 open output 431 opencircuit 58 64 210 327328 353 openloop voltage gain 89 operational amplifier 85 520 gate 130 gates 129130 orbit 343 oscillation 39 50 269 297298 310 482 485 513 622624 631 637 670 conditions 623 oscillator 111 output 24 7 1516 1819 24 2628 3032 34 3640 4750 5562 67 7481 8496 98103 105106 108 110116 123124 130153 156157 159165 168170 175182 184 209 214 216217 223225 227 230231 234 236 243 247248 262 271275 279 281 283284 289 293297 299300 324325 327329 331332 344345 352354 356 361367 369 381 396397 407 409 418419 421422 425426 428432 435436 438 443 445448 451453 456 460 462464 470 475476 479 481484 487504 506 508516 520541 543550 554555 557 559 562566 568573 575576 578 587588 590 592593 595596 598599 601 608609 621 623 626 636637 643 670673 output impedance 56 59 6162 7879 86 8889 92 94 96 98 105106 108 110 113 180 225 determining 108 output power 354 output resistance 59 156157 overflow 50 overshoot 269 486488 503504 616 618 p package 97 448 562 585 packets 585 page 666667 parallel connection 435 passband 8182 84 112 passive filters 58 peak amplitude 179 270 296 482 615 peak value 46 period 5 37 3940 50 54 113 155 171 173 178 180 266 274 373374 378 382 408 458 467468 482 485487 496 506 512513 516 531 534537 548 550 569 575 616 630631 639 periodic 170 172173 265266 269 349 567 630 permittivity 243 phase 72 74 87 111 191 218 246247 319 388390 426429 448 464 466 515518 605 621625 632634 636637 639 643 646 651 670 phase margin 632 634 639 643 646 phase shift 515518 621622 624 634 photoconductive cell 321323 352 672 photoconductive cells 353 photodiode 326 330332 351 353355 672 photodiodes 330331 photon 314315 320321 334335 351 photons 314 325327 330 351352 photosensitive 326 phototransistor 332333 353 371 photovoltaic effect 330 pinchoff 383 pins 90 plugandplay 586 pointer 280 pole 388 391 poles 386 388389 391393 port 165 167 180 597598 potential difference 62 207 power 6162 67 78 85 9092 97 105 107110 113 115 124 129 134 140 147 202203 206207 223 226 228 235 237 281 283 309 314318 324325 327 336 338 345346 349 351354 359 363 365 368372 374377 379 381384 388390 398 400 406408 419 432433 444 446447 449450 453454 469 522 588589 647648 654 instantaneous 408 ratio 78 9192 115 374 true 129 203 336 376 379 432 444 453454 power amplifier 400 407 power dissipation 109110 113 115 206 324 359 372 381 383 power mosfet 359 383 power rating 61 power supplies 85 90 129 134 147 369 power supply 85 9092 97 124 134 140 381 522 588 power supply filter 588 practical applications 205 209 321 precision 217 preset 22 299 305 348 421 456 458460 487488 575 670671 pressure measurement 276 278 280282 284 654 pressure sensor 4849 51 113 181 241 276 280 283 289 297 299 670672 pressure transducer 284 primitive 1 printed circuit board 142 163 procedure 128 139 149 151 169 567 611 product 29 34 52 102 180 384 417 419 483 576 611 614 617 620621 626 651 666668 program 164 167 170 173174 181182 417 433 444450 452455 457 460462 466 562 576 596 598 601 612 programmable logic 6 21 3435 131 417418 443445 652653 668 669 programming 174 418 444 448452 559 575 protocols 582 586 pullup resistor 134135 pulse 159160 249 298299 314 344345 350 352353 370 374 390391 409410 447449 pulse train 390391 q q 18 27 47 113 177178 180181 285290 306 400405 414 483 557 647 654 quadratic 32 198200 231232 237 592 quadrature 72 111 quality 12 14 150 180 605 614619 637 quotient 532 r race 47 radar 128 350 radian 22 radio frequency rf 320 585 ramp 101102 112 150 178 496497 ranging 47 106 112 250 333 345 350 353 643 rate change 153 264 372 375 377 489490 493 497 500501 512 531 569 670 rc filter 74 7682 84 111112 read 1 40 113114 147148 158159 165167 189 241 309 319 339340 417 450 475 559 561 575 625 real time 57 receiver 249 298 586 rectifier 369 388 390 siliconcontrolled 369 reflection 8 249250 344 350 refraction 311 351 register 152 165 460461 regulation 3 56 1011 45 180 189 400 405 417 419 421 475 478 491492 512 597 609 615616 626 630 643 670 673 line 670 regulator 366 394 rejection notch 84 relay 17 21 47 50 131 134 349 362364 366 418 426 433435 438440 444448 451453 456 459 482 485 547 558 654 678 reluctance 245 273 remainder 125 138 reset 101 148149 456460 472 496 498499 502503 514 521 534 538 542 544545 548549 551 566 672 resistance 17 2627 3132 40 4748 5559 6162 6467 69 73 7576 7879 81 84 8990 92 97 100 103113 115 156157 161162 179180 194207 226228 231233 235237 239 242243 248 254257 259263 273274 280 284 292296 301 309 320324 327328 333 348349 352353 370 372374 376 379 381 383384 387 409 411 479 524 534 542544 547 549 598 608 643 647 659660 672673 photoconductive cell 321323 352 672 thermistors 203 205206 236 resistance measurement 195 257 284 resistive load 407 resistor 25 4041 48 61 63 6769 7476 78 80 8283 86 90 94 9798 101102 106 108109 113 134136 161162 202 223 227 242 260 324 329 333335 363 371 373374 379 407408 521522 530 597 power rating 61 resolution 15 3031 45 6667 110 139140 143144 148 152 159 168170 175 178181 184 233234 237 242 247 257 293294 300 303 595 599 673 adc 15 143144 148 152 159 168170 175 178181 184 234 294 300 595 resonance 270271 response curve 1 reverse breakdown 369 reverse current 326 330331 354 reverse voltage 371 right triangle 317 ring 583 risc 327 rms 2930 47 53 110111 113 178 180 293294 370371 377 rotor 388392 safety 366 446 538 632 sample 44 123 148 155156 158 164167 170 173 176 179180 191 193194 196 199 203 232 251255 311 336 349 353 445 563564 567 569570 572574 591 593 595596 sampleandhold 123 155 179 sampleandhold circuit 123 155 179 sampling 123 157158 170173 176 179180 184 562 567 575 593 595 saturation 86 89 92 100101 112 381382 384 494 503 scale factor 101 113 161 272 275 339 495 schematic 33 55 76 8586 97 161 242 332 342 366 369 376377 379 383384 387 433 435 438 464 538 651 672 scientific notation 24 sector 283 seebeck effect 207209 seebeck voltage 209 segment 235 589 semiconductor 194195 203205 223 231 261262 281 295 299 320322 339 369 379 384 445 666667 673 semiconductor materials 203 321322 339 sensitivity 1 3031 62 200 205 210211 216 223 244245 257 259260 283 295 299 313 318320 335 351 368 673 sensor 34 67 1415 19 21 2528 3133 3539 43 4651 5659 6162 67 73 96 100 104113 115116 124 136 143 152153 158163 172173 179181 186 189 197 200 203 205 207 209 216217 219226 231 233234 236 239 241245 248 264 268 270 274276 279281 283 285 289290 292294 297 299300 309310 316 320 332 352 360 428 479 522 526 542 547 549550 552 559560 562563 581584 587589 596597 643 652 654 665 670673 sequence control 390 serial data 588 set 1 8 22 24 28 33 35 38 4244 69 84 90 107108 128 137 148149 164 166 191 199 225 228 251 267 325 351 364 386 391393 399 417418 426427 432 439 445 448 456 469 477 487 493 515516 530531 542 551 569570 572 577 584 601 611612 614 623 631 647 659660 668 671 settling time 13 4546 141 shift register 460 shock 235 267 273275 292 296 shortcircuit 327328 332 353 355 si system 2223 26 45 191 276 385 signal 4 69 1619 2426 2829 31 34 36 47 49 51 55121 123187 201 206 216218 222 224226 228 230 232 234235 243245 247 256257 262 269 273274 278 280281 289290 292296 298300 311312 320 323324 327329 335 338339 348350 353356 359369 371 374 381385 393 399 406407 409410 426 446 448 479485 513 515 520522 527 531 533534 538 542 545546 548549 554 559560 562 574 576 583585 588 590 592593 595 597 607609 622 624 637 651652 659 666667 670 672 periodic 170 172173 269 349 signal generator 247 significant digit 125 significant figures 4041 45 108 202 226 278 silicon 181 204 261 281282 329 338 352353 355 369 547 siliconcontrolled rectifier scr 369 sine wave 7172 slew rate 89 slip 386387 389 slug 648 software 1819 57 132 142 159 163168 174 176 178 180181 217 230 428 445446 450451 455456 519 559 562 564565 568569 572 580 582 586 598 654 665666 668 673 solenoid 348349 369 385 408 425426 436437 442 446 587 656 solidstate relay 363 source 58 69 7980 90 97 105106 109 134 140 147 156157 164 178179 228229 245246 274 304 313319 327 331 341343 346 348 351352 354355 367 370 373 376377 379 383 386 408 447 449 454455 522 549 621 643 667 671 source resistance 79 space 221 248 271 276 310 312 314 316 318 586 spectral response 320321 323 326 331332 335 spectrum 105 111 309 312313 318319 339343 365 spread 4244 480 square wave 159 374 382 408 410 588 squarewave generator 407 stability 1011 97 101 536 576 605606 615617 621 624626 632635 637 640641 stabilization 578 stage 7881 96 100 295 329 361 573 591 610 static 2627 3638 48 62 105 248 276277 290 294 387 621 665 stator 388389 392 steadystate 1011 273274 482 670 673 step 7 18 3639 4849 54 89 105 140 142 146 178 225 250 282 343 361 365 390392 406 409410 428 431 461 493 576 578 612 615 619 631 673 stepping motor 77 365 386 390391 409410 steradian 22 319 storage 35 397 574576 strain gauge 241 254 256257 259 261 286 292 294296 299 667 673 subtraction 461 successive approximation 123 148150 152 163 sum 29 42 68 87 92 101102 158 290 496 502 545 567569 571573 601 619 621 626 summing amplifier 9293 97 106 112113 349 525 543 608 summing point 7 8788 93 101102 622 supply voltage 61 6365 6869 90 97 109 161 224 232 236 331 333 398 surface area 317318 321 393 switch 112 132 155157 165 220 234 294 363 369 381 391 418419 421 426429 432 434 437440 442 444 446449 451454 457 459460 462464 466468 472 485 520 523 551 558 576 654 switching speed 376 synchronous 388389 synchronous motor 388389 system units 22 26 45 276277 647649 cgs 649 si 22 26 45 276 647649 t3 626 t4 336 tachometer 290 398399 tape 575576 temperature controller 35 523 526 temperature effects 256257 temperature measurement 27 41 189190 207 217218 222 225 227 234 284 335 337 339 346 592 598 667 temperature stability 101 terminated 459 testing 168 450451 thermal overload 464465 thermal resistance 323 thermal runaway 383 thermistor 189 194 203207 217 226 231 233234 236 239 321 323 408 547 597598 673 thermistors 203 205206 217 236 667 thermocouple 174 189 207 209218 224 230235 284 405 544 673 thermostat 482483 threephase 388390 threshold 372 throughput 158 164 179 time constant 3739 45 4849 51 105 157 179 216 223 235 320 322 324 329 335 352 528529 673 time delay 298299 435 478 timer 161162 165 294 419420 430432 435 442 458460 462463 465 467 469 472473 580 timing diagram 148 151 458 tip 227 toggle 434 track 3940 155156 248 tracking 45 155 355 transconductance 383 transducer 7 2930 3741 45 58 61 101 110 173 225227 262 284 309 342 366 421 522 524 592593 595 673 transfer characteristics 99 transformer 92 245 671 transient 1012 39 46 67 269 478 482 495 512 559 605 615 621623 626 628 637638 643 670 transient response 11 269 626 643 transistor 85 134 296 332333 371 374 379381 384 bipolar junction 379380 transmitter 2526 3536 249 298 652 654 673 transparency 321 335 transverse 291 315 triac 359 376378 408 trigger 133 177 226 324325 353 369374 376 378 388 390 407409 554 575 599 trigger voltage 369372 374 376 407 trimmer 75 78 9091 106 227228 twowire 208 522 u units 1 20 2224 26 34 45 52 140 191 198199 205 231 242 251 253254 265 269 276277 281 285 287 310311 314 319 351 364 371 383 388389 418 449 479 511 520 528529 531 538 568 570 573 575 647649 unity gain 8990 92 624625 632 634635 646 v valence 195 203204 320 valence band 195 203 valence electron 195 valence electrons 203 variable 1 38 1015 1718 2428 3032 3637 3943 45 5558 6162 67 73 75 90 96 104107 113 124 128 133 143 158 161 168 170 173174 177181 202 207 679 241242 245 273 309 320 323324 359361 366 374 386 388 390 401 407 417421 429432 445 462 464 467 475480 482485 487488 494 500 511514 522 525 527 536 540541 547 554555 562564 566567 574575 595 597 605607 609610 614617 619 623 626628 630 632 636 670673 variable resistor 67 90 113 202 242 324 522 597 venturi 656 673 voice 84 112 voltage 67 1419 2526 28 3133 4041 4749 51 5559 6178 8082 86116 129 133141 143148 150157 161 164165 169170 173175 177181 206207 209218 223230 232233 235237 239 242244 246248 257260 262263 273275 279281 283284 290 292297 299301 324335 352353 356 361 363 365 369385 387388 390 398 407408 411 446 521530 532 536537 543545 547548 550 554 557 563564 574 576 590 592 596 608 643 647 651 654 659662 670673 applied 4849 67 71 8687 89 9192 95 134 148 175 209 213215 235 257 259260 263 275 280 292 296 369371 374 376377 385 387388 390 398 547 670 breakdown 18 369 derivative 102 155 530 generators 299 phase 72 74 87 111 218 246247 388 390 643 651 670 supply 61 6366 6871 9092 97 106 109 134 140 147 151 161 224 226 232 236 259 331 333 335 381 388 398 446 522 terminal 58 70 86 90 101 134 148 242 326 369 374 376377 voltage divider 61 97 335 522 545 voltage drop 115 247 331 335 370 372 381 voltage gain 89 94 525 voltagetocurrent converter 99100 112 527 659660 voltmeter 27 47 114 volume 190 219222 255 277 284 287288 366 400401 485 576 597 648 671 w waveforms 373 376 379380 wavelength 309315 318323 336342 345 351352 web 582 665668 weight 44 113114 176 219 250 262 277278 285288 292 298 590 648 654 671 wheatstone bridge 55 6264 6770 94 110111 winding 31 wiper 90 242 272 wire 58 67 114 125 198 201 203 208 216 218 232 241242 245 255257 260 292294 334 341 386387 452 522 581 584585 588589 672673 wire resistance 387 wireless 585 word 7 31 4546 125 137 139141 143144 148150 170 175 178 234 365 400 407 431 605 610 671 write 25 29 38 42 87 96 128 131 137 165168 174 275 382 408 432 450 480481 484 505 530 532 534535 555 559 569 592 598 620 x xrays 312313 yoke 262 264 z zener current 223 zener diode 97 109 223 243 373 408 zener voltage 223 373 680"